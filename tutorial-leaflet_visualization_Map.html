<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Sgvizler 2 Tutorial: leaflet.visualization.Map</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">
<link rel="stylesheet" href="sgvizler2/lib/bootstrap-select/css/bootstrap-select.min.css">
<script src="sgvizler2/lib/bootstrap-select/js/bootstrap-select.min.js"></script>
<script src="sgvizler2/lib/bootstrap-select/js/i18n/defaults-fr_FR.min.js"></script>
<script src="sgvizler2/lib/bootstrap-select/js/i18n/defaults-en_US.min.js"></script>
<script src="sgvizler2/sgvizler2.js"></script>

</head>

<body>
<div class="navbar navbar-expand-lg ">
<div class="container">
    <nav class="navbar navbar-expand-sm navbar-light">
      <a class="navbar-brand" href="index.html"><div style='position: relative;font:bold;color: black;font-size: 31pt;font-weight: bolder;'><img style='vertical-align: sub;' src='img/mr.sgvizler.png' width='55px'/>Sgvizler 2</div></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
                
                    
                
                    
                
                    
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="tutorials.list.html" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Tutorials
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a href='tutorial-A_Editor.html' class='dropdown-item'>A SPARQL editor</a><a href='tutorial-bordercloud_visualization_DataTable.html' class='dropdown-item'>bordercloud.visualization.DataTable</a><a href='tutorial-bordercloud_visualization_PivotTable.html' class='dropdown-item'>bordercloud.visualization.PivotTable</a><a href='tutorial-d3_visualization_AreaChart.html' class='dropdown-item'>d3.visualization.AreaChart (in construction)</a><a href='tutorial-d3_visualization_BarChart.html' class='dropdown-item'>d3.visualization.BarChart (in construction)</a><a href='tutorial-d3_visualization_BubbleChart.html' class='dropdown-item'>d3.visualization.BubbleChart (in construction)</a><a href='tutorial-d3_visualization_ColumnChart.html' class='dropdown-item'>d3.visualization.ColumnChart (in construction)</a><a href='tutorial-d3_visualization_Line.html' class='dropdown-item'>d3.visualization.Line (in construction)</a><a href='tutorial-d3_visualization_Pie.html' class='dropdown-item'>d3.visualization.Pie (in construction)</a><a href='tutorial-d3_visualization_ScatterChart.html' class='dropdown-item'>d3.visualization.ScatterChart (in construction)</a><a href='tutorial-google_visualization_AnnotationChart.html' class='dropdown-item'>google.visualization.AnnotationChart</a><a href='tutorial-google_visualization_AreaChart.html' class='dropdown-item'>google.visualization.AreaChart</a><a href='tutorial-google_visualization_BarChart.html' class='dropdown-item'>google.visualization.BarChart</a><a href='tutorial-google_visualization_BubbleChart.html' class='dropdown-item'>google.visualization.BubbleChart</a><a href='tutorial-google_visualization_Calendar.html' class='dropdown-item'>google.visualization.Calendar</a><a href='tutorial-google_visualization_CandlestickChart.html' class='dropdown-item'>google.visualization.CandlestickChart</a><a href='tutorial-google_visualization_ColumnChart.html' class='dropdown-item'>google.visualization.ColumnChart</a><a href='tutorial-google_visualization_ComboChart.html' class='dropdown-item'>google.visualization.ComboChart</a><a href='tutorial-google_visualization_GeoChart.html' class='dropdown-item'>google.visualization.GeoChart</a><a href='tutorial-google_visualization_Histogram.html' class='dropdown-item'>google.visualization.Histogram</a><a href='tutorial-google_visualization_IntervalChart.html' class='dropdown-item'>google.visualization.IntervalChart</a><a href='tutorial-google_visualization_LineChart.html' class='dropdown-item'>google.visualization.LineChart</a><a href='tutorial-google_visualization_Map.html' class='dropdown-item'>google.visualization.Map</a><a href='tutorial-google_visualization_OrgChart.html' class='dropdown-item'>google.visualization.OrgChart (in construction)</a><a href='tutorial-google_visualization_Pie.html' class='dropdown-item'>google.visualization.Pie</a><a href='tutorial-google_visualization_ScatterChart.html' class='dropdown-item'>google.visualization.ScatterChart </a><a href='tutorial-google_visualization_SteppedAreaChart.html' class='dropdown-item'>google.visualization.SteppedAreaChart </a><a href='tutorial-google_visualization_Table.html' class='dropdown-item'>google.visualization.Table</a><a href='tutorial-google_visualization_Timeline.html' class='dropdown-item'>google.visualization.Timeline</a><a href='tutorial-google_visualization_TreeMap.html' class='dropdown-item'>google.visualization.TreeMap</a><a href='tutorial-google_visualization_Trendline.html' class='dropdown-item'>google.visualization.Trendline</a><a href='tutorial-leaflet_visualization_Map.html' class='dropdown-item'>leaflet.visualization.Map</a><a href='tutorial-sgvizler_visualization_Table.html' class='dropdown-item'>sgvizler.visualization.Table</a>
                        </div>
                      </li>
                    
                
                    
                
        </ul>
        <ul class="navbar-nav  navbar-right">
            <li><a class="nav-link" href="https://github.com/BorderCloud/sgvizler2"><span class="d-none d-sm-inline">View on GitHub</span> <svg version="1.1" width="16" height="16" viewBox="0 0 16 16" class="octicon octicon-mark-github" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a></li>
        </ul>
      </div>
    </nav>
</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			<section class="tutorial-section">

<header>
    

    <h2>leaflet.visualization.Map</h2>
</header>

<article>
    <style>
    h3, h4 {
       margin-top: 25px !important;
    }
</style>
<div class="container" >
    <h3 id="DefinitionList"><a id="sec-4-1-20" name="sec-4-1-20"></a>Definition</h3>
    <div class="outline-text-4" id="text-DefinitionList">


        <!--div class="figure">
            <p><img src="./image/sDefList.png" alt="sDefList.png">
            </p>
            <p><span class="figure-number">Figure 16:</span> Definition list</p>
        </div-->

        <p>
            Map of OpenStreetMap or other (Mars, Moon...) with the Leaflet lib (and its cluster plugin). It supports GeoJson data and wktLiteral datatype.
        </p>

        <h4>
            Data formats
        </h4>
        <div>
        <h5>
            Geolocation with two numbers : a latitude and a longitude
        </h5>
        <p>
            Each row in the table represents a geolocation on the earth (by default, see options).
        </p>

        <table  class="table table-bordered" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
            <thead>
            <tr>
                <td class="text-center font-weight-bold">0<br/>Number<br/>Latitude</td>

                <td class="text-center font-weight-bold">1<br/>Number<br/>Longitude</td>

                <td class="text-center">2<br/>string (Optional)<br/>Title</td>

                <td class="text-center">3<br/>string (Optional)<br/>Description</td>

                <td class="text-center">4<br/>url (Optional)<br/>Link</td>

                <td class="text-center">5<br/>url (Optional)<br/>Image</td>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>49.1461</td>
                <td>0.23</td>
                <td>jardin archéologique de l'hôpital de Lisieux</td>
                <td>jardin à Lisieux (Calvados)</td>
                <td>http://www...</td>
                <td>http://....JPG?width=200</td>
            </tr>
            </tbody>
        </table>

        <b>Details</b>
        <table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
            <thead>
            <tr>
                <th scope="col" class="left">Column</th>
                <th scope="col" class="left">Type</th>
                <th scope="col" class="left">Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="left">0</td>
                <td class="left">Number</td>
                <td class="left">Latitude</td>
            </tr>
            <tr>
                <td class="left">1</td>
                <td class="left">Number</td>
                <td class="left">Longitude</td>
            </tr>
            <tr>
                <td class="left">2</td>
                <td class="left">string (Optional)</td>
                <td class="left">Title of popup or simple label or HTML</td>
            </tr>
            <tr>
                <td class="left">3</td>
                <td class="left">string (Optional)</td>
                <td class="left">Description in the popup</td>
            </tr>
            <tr>
                <td class="left">4</td>
                <td class="left">url (Optional)</td>
                <td class="left">Link of title</td>
            </tr>
            <tr>
                <td class="left">5</td>
                <td class="left">url (Optional)</td>
                <td class="left">Image in the popup</td>
            </tr>
            </tbody>
        </table>
        </div>

        <div class="mt-3">
        <h5>
            Geolocation with a wktLiteral
        </h5>
        <p>
            Each row in the table represents a geolocation with a shape (point, line, enveloppe, polygon, multipolygon).
        </p>

        <table  class="table table-bordered" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
            <thead>
            <tr>
                <td class="text-center font-weight-bold">0<br/>wktLiteral</td>

                <td class="text-center">1<br/>string (Optional)<br/>Title</td>

                <td class="text-center">2<br/>string (Optional)<br/>Description</td>

                <td class="text-center">3<br/>url (Optional)<br/>Link</td>

                <td class="text-center">4<br/>url (Optional)<br/>Image</td>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>
                    Point(0.23 49.1461)
                </td>
                <td>jardin archéologique de l'hôpital de Lisieux</td>
                <td>jardin à Lisieux (Calvados)</td>
                <td>http://www....</td>
                <td>http://....JPG?width=200</td>
            </tr>
            </tbody>
        </table>

        <b>Details</b>
        <table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
            <thead>
            <tr>
                <th scope="col" class="left">Column</th>
                <th scope="col" class="left">Type</th>
                <th scope="col" class="left">Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="left">0</td>
                <td class="left">wktLiteral</td>
                <td class="left">Point(LONG LAT) or Linestring(LONG1 LAT1, LONG2 LAT2, ..., LONGN LATN) or Envelope(minLong, maxLong, maxLat, minLat)
                    or Polygon((LONG1 LAT1, LONG2 LAT2, ..., LONGN LATN, LONG1 LAT1))
                    or Multipolygon(((LONG1 LAT1, LONG2 LAT2, ..., LONGN LATN, LONG1 LAT1)), ((LONG1 LAT1, LONG2 LAT2, ..., LONGN LATN, LONG1 LAT1)))
                </td>
            </tr>
            <tr>
                <td class="left">1</td>
                <td class="left">string (Optional)</td>
                <td class="left">Title of popup or simple label or HTML</td>
            </tr>
            <tr>
                <td class="left">2</td>
                <td class="left">string (Optional)</td>
                <td class="left">Description in the popup</td>
            </tr>
            <tr>
                <td class="left">3</td>
                <td class="left">url (Optional)</td>
                <td class="left">Link of title</td>
            </tr>
            <tr>
                <td class="left">4</td>
                <td class="left">url (Optional)</td>
                <td class="left">Image in the popup</td>
            </tr>
            </tbody>
        </table>
        </div>


        <div class="mt-3">
            <h5>
                GeoJson (or Jsondata of Wiki Commons)
            </h5>
            <p>
                Each row in the table has a URI.
            </p>

            <table  class="table-bordered" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
                <thead>
                <tr>
                    <td class="text-center font-weight-bold">0<br/>GeoJson (IRI)</td>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        &lt;http://commons.wikimedia.org/data/main/Data:Paris.map&gt;
                    </td>
                </tr>
                <tr>
                    <td>
                        &lt;https://gist.githubusercontent.com/wavded/1200773/raw/e122cf709898c09758aecfef349964a8d73a83f3/sample.json&gt;
                    </td>
                </tr>
                </tbody>
            </table>

            <b>Details</b>
            <table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
                <thead>
                <tr>
                    <th scope="col" class="left">Column</th>
                    <th scope="col" class="left">Type</th>
                    <th scope="col" class="left">Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="left">0</td>
                    <td class="left">GeoJson</td>
                    <td class="left">URI of data (<a href="https://www.wikidata.org/wiki/Wikidata:Map_data">Wikidata doc</a>)</td>
                </tr>
                </tbody>
            </table>
        </div>
        <h4>
            Chart options
        </h4>
        <p>Each option is separated by a '|'  or '!' (for Mediawiki).</p>
        <table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">

            <colgroup>
                <col class="left">

                <col class="left">

                <col class="left">
            </colgroup>
            <thead>
            <tr>
                <th scope="col" class="left" style="width: 240px;">Name</th>
                <th scope="col" class="left">Default</th>
                <th scope="col" class="left">Description</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td class="left align-text-top"><code>width</code></td>
                <td class="left align-text-top">100%</td>
                <td class="left align-text-top">Chart width</td>
            </tr>
            <tr>
                <td class="left align-text-top"><code>height</code></td>
                <td class="left align-text-top"></td>
                <td class="left align-text-top">Chart height</td>
            </tr>
            <tr>
                <td class="left align-text-top"><code>tileLayerTemplate</code></td>
                <td class="left align-text-top">Earth of OSM</td>
                <td class="left align-text-top">Used to load and display <a href="https://wiki.openstreetmap.org/wiki/Tiles#Servers" target="_blank">tile layers</a> on the map.<br/>
                    By default, it's the Earth of OSM : <code>https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}</code><br/>
                    You can replace it by the <a href="https://www.openplanetary.org/opm/basemaps">Moon, Mars or another map</a> (see examples).
                </td>
            </tr>
            <tr>
                <td class="left align-text-top"><code>tileLayerAttribution</code></td>
                <td class="left align-text-top">MapBox & OSM</td>
                <td class="left align-text-top">The attribution control allows you to display attribution data in a small text box on a map.</td>
            </tr>
            <tr>
                <td class="left align-text-top"><code>tileLayerAttributionLink</code></td>
                <td class="left align-text-top">MapBox & OSM</td>
                <td class="left align-text-top">Link on tileLayerAttribution</td>
            </tr>
            <tr>
                <td class="left align-text-top"><code>tileLayerId</code></td>
                <td class="left align-text-top">mapbox/streets-v11</td>
                <td class="left align-text-top">You can switch between the MapBox tiles with this parameter.
                    The following Mapbox styles are available to all accounts using a valid access token:
                    <ul>
                        <li>mapbox/streets-v11</li>
                        <li>mapbox/outdoors-v11</li>
                        <li>mapbox/light-v10</li>
                        <li>mapbox/dark-v10</li>
                        <li>mapbox/satellite-v9</li>
                        <li>mapbox/satellite-streets-v11</li>
                    </ul>
                </td>
            </tr>
            <tr>
                <td class="left align-text-top"><code>tileLayerAccessToken</code></td>
                <td class="left align-text-top">Token osmAccessToken</td>
                <td class="left align-text-top">You can change the token for a specific chart</td>
            </tr>
            <tr>
                <td class="left align-text-top"><code>tileLayerTileSize</code></td>
                <td class="left align-text-top">512</td>
                <td class="left align-text-top">Generally, the default value is 256 in Leaflet. You can change this value with this option.</td>
            </tr>
            <tr>
                <td class="left align-text-top"><code>tileLayerZoomOffset</code></td>
                <td class="left align-text-top">-1</td>
                <td class="left align-text-top">Generally, the default value is 0 in Leaflet. You can change this value with this option.</td>
            </tr>
            <tr>
                <td class="left align-text-top"><code>tileLayerTms</code></td>
                <td class="left align-text-top">false</td>
                <td class="left align-text-top">If true, inverses Y axis numbering for tiles (turn this on for TMS services).</td>
            </tr>
            <!--tr>
                <td class="left align-text-top"><code>tileLayerZoom</code></td>
                <td class="left align-text-top">13</td>
                <td class="left align-text-top">Initial map zoom level. But this value is recalculate</td>
            </tr-->
            </tbody>
        </table>
    <h3>
        Examples
    </h3>

        <h4>
            Example 1 :
        </h4>
        <div id="result"
                     data-sgvizler-endpoint="https://query.wikidata.org/sparql"
                     data-sgvizler-query="
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX pq: &lt;http://www.wikidata.org/prop/qualifier/&gt;
PREFIX psv: &lt;http://www.wikidata.org/prop/statement/value/&gt;
PREFIX p: &lt;http://www.wikidata.org/prop/&gt;
PREFIX bd: &lt;http://www.bigdata.com/rdf#&gt;
PREFIX wikibase: &lt;http://wikiba.se/ontology#&gt;
PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;
PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;

select distinct ?lat ?long  ?presidentLabel
where {
        ?president wdt:P39 wd:Q191954 ;
                    wdt:P19  ?villeNaissance ;
                     p:P39 ?s .

        ?villeNaissance  p:P625 ?coord .
        ?coord   psv:P625 ?coordValue .
        ?coordValue a wikibase:GlobecoordinateValue ;
                        wikibase:geoLatitude ?lat ;
                        wikibase:geoLongitude ?long .

        SERVICE wikibase:label {
             bd:serviceParam wikibase:language &quot;fr&quot; .
        }
}"
                     data-sgvizler-chart='leaflet.visualization.Map'
                     data-sgvizler-chart-options=''
                     data-sgvizler-endpoint_output_format='json'
                     data-sgvizler-loglevel='2'
                     style='width:100%; height:500px;'></div>


    <h4>
        Example 2
    </h4>
    <p>With 6 columns</p>
    <div id="result_2"
                                      style='width:100%; height:500px;'
                                      data-sgvizler-query="
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX psv: &lt;http://www.wikidata.org/prop/statement/value/&gt;
PREFIX p: &lt;http://www.wikidata.org/prop/&gt;
PREFIX bd: &lt;http://www.bigdata.com/rdf#&gt;
PREFIX wikibase: &lt;http://wikiba.se/ontology#&gt;
PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;
PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;

select distinct
?lat ?long ?siteLabel ?siteDescription
?site
(concat(xsd:string(?image),'?width=200') as ?newimage)
where {
        ?site wdt:P31/wdt:P279* wd:Q839954 .
        ?site wdt:P17 wd:Q142 .
        ?site wdt:P18 ?image .
   ?site p:P625 ?coord .

          ?coord   psv:P625 ?coordValue .

          ?coordValue a wikibase:GlobecoordinateValue ;
                        wikibase:geoLatitude ?lat ;
                        wikibase:geoLongitude ?long .

        SERVICE wikibase:label {
             bd:serviceParam wikibase:language 'en,fr' .
                }
                } LIMIT 100"
data-sgvizler-endpoint="https://query.wikidata.org/sparql"
data-sgvizler-chart="leaflet.visualization.Map"
data-sgvizler-chart-options=""
         data-sgvizler-loglevel='2'
    ></div>


    <h4>
        Example 3 : geolocation with wktLiteral
    </h4>
        <div id="result_3"
             style='width:100%; height:500px;'
             data-sgvizler-query="
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX psv: &lt;http://www.wikidata.org/prop/statement/value/&gt;
PREFIX p: &lt;http://www.wikidata.org/prop/&gt;
PREFIX bd: &lt;http://www.bigdata.com/rdf#&gt;
PREFIX wikibase: &lt;http://wikiba.se/ontology#&gt;
PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;
PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;

select distinct
?coord ?siteLabel ?siteDescription
?site
(concat(xsd:string(?image),'?width=200') as ?newimage)
where {
        ?site wdt:P31/wdt:P279* wd:Q839954 .
        ?site wdt:P17 wd:Q142 .
        ?site wdt:P18 ?image .
   ?site wdt:P625 ?coord .

        SERVICE wikibase:label {
             bd:serviceParam wikibase:language 'en,fr' .
                }
                } LIMIT 100"
             data-sgvizler-endpoint="https://query.wikidata.org/sparql"
             data-sgvizler-chart="leaflet.visualization.Map"
             data-sgvizler-chart-options=""
             data-sgvizler-log="2">

        </div>


        <h4>
            Example 4 : geolocation on Mars
        </h4>
        <div id="result_4"
             style='width:100%; height:500px;'
             data-sgvizler-query="
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX psv: &lt;http://www.wikidata.org/prop/statement/value/&gt;
PREFIX p: &lt;http://www.wikidata.org/prop/&gt;
PREFIX bd: &lt;http://www.bigdata.com/rdf#&gt;
PREFIX wikibase: &lt;http://wikiba.se/ontology#&gt;
PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;
PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;

select distinct
        ?coord ?siteLabel ?siteDescription ?site
        (concat(xsd:string(?image),'?width=200') as ?newimage)
where {

   ?site wdt:P376  wd:Q111 .
   ?site wdt:P18 ?image .
   ?site wdt:P625 ?coord .

        SERVICE wikibase:label {
             bd:serviceParam wikibase:language 'en,fr' .
    }
} LIMIT 100"
             data-sgvizler-endpoint="https://query.wikidata.org/sparql"
             data-sgvizler-chart="leaflet.visualization.Map"
             data-sgvizler-chart-options="tileLayerTemplate=http://s3-eu-west-1.amazonaws.com/whereonmars.cartodb.net/viking_mdim21_global/{z}/{x}/{y}.png
             |tileLayerTms=true
             |tileLayerAttribution=© OpenPlanetary
             |tileLayerAttributionLink=https://www.openplanetary.org/about
            "
             data-sgvizler-log="2">

        </div>

        <h4>
            Example 5 : geolocation on Moon
        </h4>
        <div id="result_5"
             style='width:100%; height:500px;'
             data-sgvizler-query="
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX psv: &lt;http://www.wikidata.org/prop/statement/value/&gt;
PREFIX p: &lt;http://www.wikidata.org/prop/&gt;
PREFIX bd: &lt;http://www.bigdata.com/rdf#&gt;
PREFIX wikibase: &lt;http://wikiba.se/ontology#&gt;
PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;
PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;

select distinct
        ?coord ?siteLabel ?siteDescription ?site
        (concat(xsd:string(?image),'?width=200') as ?newimage)
where {

   ?site wdt:P376  wd:Q405 .
   ?site wdt:P18 ?image .
   ?site wdt:P8981 ?coord .

        SERVICE wikibase:label {
             bd:serviceParam wikibase:language 'en,fr' .
    }
} LIMIT 10"
             data-sgvizler-endpoint="https://query.wikidata.org/sparql"
             data-sgvizler-chart="leaflet.visualization.Map"
             data-sgvizler-chart-options="
             tileLayerTemplate=https://s3.amazonaws.com/opmbuilder/301_moon/tiles/w/hillshaded-albedo/{z}/{x}/{y}.png
             |tileLayerTms=true
             |tileLayerAttribution=© OpenPlanetary
             |tileLayerAttributionLink=https://www.openplanetary.org/about
            "
             data-sgvizler-log="2">

        </div>

        <h4>
            Example 6 : GeoJson
        </h4>
        <div id="result_6"
             style='width:100%; height:500px;'
             data-sgvizler-query="
SELECT  ?geo
WHERE {
       VALUES ?geo { <https://gist.githubusercontent.com/wavded/1200773/raw/e122cf709898c09758aecfef349964a8d73a83f3/sample.json> }
}
"
             data-sgvizler-endpoint="https://query.wikidata.org/sparql"
             data-sgvizler-chart="leaflet.visualization.Map"
             data-sgvizler-chart-options="height=500px"
             data-sgvizler-log="2">
        </div>

        <h4>
            Example 7 : GeoJson with Wikidata
        </h4>
        <div id="result_7"
             style='width:100%; height:500px;'
             data-sgvizler-query="
SELECT  ?geo
WHERE {
       wd:Q90 wdt:P3896 ?geo
}
"
             data-sgvizler-endpoint="https://query.wikidata.org/sparql"
             data-sgvizler-chart="leaflet.visualization.Map"
             data-sgvizler-chart-options="height=500px"
             data-sgvizler-log="2">
        </div>

        <h4>
            Test : wktLiteral shapes
        </h4>
        <div id="result_60"
             style='width:100%; height:500px;'
             data-sgvizler-query="select distinct  ?coord ?siteLabel ?siteDescription ?site ?newimage
where {
        VALUES (?coord ?siteLabel ?siteDescription ?site ?newimage) {

            ( 'Point(0 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'Point'&#9;'test' &lt;http://www.wikidata.org/entity/Q2982097&gt; &lt;http://commons.wikimedia.org/wiki/Special:FilePath/Vista%20Panissars.jpg?width=200&gt;  )
            ( 'Polygon((-1 -1, 0 0,1 -1,-1 -1))'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt; 'roof of the house''test' UNDEF  UNDEF )

            ( 'MultiPolygon(((-0.8 -1.2,  -0.8 -1.5,  -0.5 -1.5,  -0.5 -1.2, -0.8 -1.2)), ((-0.8 -1.5,  -0.8 -1.8,  -0.5 -1.8,  -0.5 -1.5, -0.8 -1.5)), ((-0.5 -1.2,  -0.5 -1.5,  -0.2 -1.5,  -0.2 -1.2, -0.5 -1.2)), ((-0.5 -1.5,  -0.5 -1.8,  -0.2 -1.8,  -0.2 -1.5, -0.5 -1.5)))'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt; 'windows of the house''test' UNDEF  UNDEF )

            ( 'Envelope(-1, 1, -2.5,-1))'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'House'   UNDEF UNDEF UNDEF  )

            ( 'LineString(0 -2.5, 0 -1.5,  0.5 -1.5,0.5 -2.5)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt; 'Gate' 'test' &lt;http://commons.wikimedia.org/wiki/Special:FilePath/Vista%20Panissars.jpg?width=200&gt; UNDEF  )
             }
 }"
             data-sgvizler-endpoint="https://query.wikidata.org/sparql"
             data-sgvizler-chart="leaflet.visualization.Map"
             data-sgvizler-chart-options="height=500px"
             data-sgvizler-log="2">

        </div>

        <h4>
            Test: Leaflet popups
        </h4>
        <div id="result_70"
             style='width:100%; height:500px;'
             data-sgvizler-query="
select distinct  ?coord ?siteLabel ?siteDescription ?site ?newimage
where {
        VALUES (?coord ?siteLabel ?siteDescription ?site ?newimage) {
            #No popup
            ( 'Point(0 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  UNDEF UNDEF UNDEF UNDEF  )

            #With img
            ( 'Point(0.1 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  UNDEF UNDEF UNDEF &lt;http://commons.wikimedia.org/wiki/Special:FilePath/Vista%20Panissars.jpg?width=200&gt;  )

            ( 'Point(0.2 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'Point'&#9;UNDEF UNDEF  &lt;http://commons.wikimedia.org/wiki/Special:FilePath/Vista%20Panissars.jpg?width=200&gt;  )

            ( 'Point(0.3 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'Point'&#9;'test test test test test test test test test test test test test test test test test test test test test test test' UNDEF &lt;http://commons.wikimedia.org/wiki/Special:FilePath/Vista%20Panissars.jpg?width=200&gt;  )

            ( 'Point(0.4 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'Point'&#9;'test test test test test test test test test test test' &lt;http://www.wikidata.org/entity/Q2982097&gt; &lt;http://commons.wikimedia.org/wiki/Special:FilePath/Vista%20Panissars.jpg?width=200&gt;  )

            ( 'Point(0.5 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'Point'&#9;UNDEF &lt;http://www.wikidata.org/entity/Q2982097&gt; &lt;http://commons.wikimedia.org/wiki/Special:FilePath/Vista%20Panissars.jpg?width=200&gt;  )

            #Without img

            ( 'Point(0.6 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'Point'&#9;UNDEF UNDEF UNDEF  )

            ( 'Point(0.7 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'Point'&#9;'test test test test test test test test test test test test test test test' UNDEF UNDEF  )

            ( 'Point(0.8 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'Point'&#9;UNDEF &lt;http://www.wikidata.org/entity/Q2982097&gt; UNDEF  )

            ( 'Point(0.9 0)'^^&lt;http://www.opengis.net/ont/geosparql#wktLiteral&gt;  'Point' 'test test test test test test test' &lt;http://www.wikidata.org/entity/Q2982097&gt; UNDEF  )
    }
 }"
             data-sgvizler-endpoint="https://query.wikidata.org/sparql"
             data-sgvizler-chart="leaflet.visualization.Map"
             data-sgvizler-chart-options="height=500px"
             data-sgvizler-log="2">


        </div>
<!-- TEST -->

<div>
        <h4>
            Test : empty result
        </h4>
        <div id="result_100"
             style='width:100%; height:500px;'
             data-sgvizler-query="
PREFIX xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;
PREFIX psv: &lt;http://www.wikidata.org/prop/statement/value/&gt;
PREFIX p: &lt;http://www.wikidata.org/prop/&gt;
PREFIX bd: &lt;http://www.bigdata.com/rdf#&gt;
PREFIX wikibase: &lt;http://wikiba.se/ontology#&gt;
PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;
PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;

select distinct
?lat ?long ?siteLabel ?siteDescription
?site
(concat(xsd:string(?image),'?width=200') as ?newimage)
where {
        ?site wdt:P31/wdt:P279* wd:Q1 .
        ?site wdt:P17 wd:Q142 .
        ?site wdt:P18 ?image .
        ?site p:P625 ?coord .

              ?coord   psv:P625 ?coordValue .

              ?coordValue a wikibase:GlobecoordinateValue ;
                            wikibase:geoLatitude ?lat ;
                            wikibase:geoLongitude ?long .

            SERVICE wikibase:label {
                 bd:serviceParam wikibase:language 'en,fr' .
                    }
}"
             data-sgvizler-endpoint="https://query.wikidata.org/sparql"
             data-sgvizler-chart="leaflet.visualization.Map"
             data-sgvizler-chart-options=""
             data-sgvizler-log="2">

        </div>
</div>
        <!--SCRIPT-->
        <script>
            var options = {
                osmAccessToken: "pk.eyJ1Ijoia3JhZmVzIiwiYSI6ImNqNm02eDduaDF2aG0ycW5oZzhxbzUwZmEifQ.SE1YXz0mqTkafrwd_YXn1A"
            };
            sgvizler2.showTabHtmlAndScript("result",options);
            sgvizler2.showTabHtmlAndScript("result_2",options);
            sgvizler2.showTabHtmlAndScript("result_3",options);
            sgvizler2.showTabHtmlAndScript("result_4",options);
            sgvizler2.showTabHtmlAndScript("result_5",options);
            sgvizler2.showTabHtmlAndScript("result_6",options);
            sgvizler2.showTabHtmlAndScript("result_7",options);
            sgvizler2.showTabHtmlAndScript("result_60",options);
            sgvizler2.showTabHtmlAndScript("result_70",options);
            sgvizler2.showTabHtmlAndScript("result_100",options);

            $(function() {
                sgvizler2.containerDrawAll(options);
            });
        </script>
    </div>


</div>

</article>

</section>

		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<!--footer class="bd-footer small">
<div class="container">
    <div class="bottom-footer">
        <div class="col-md-12">

        </div>
        <div class="col-md-12">

        </div>
        <div class="col-md-12">
<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a>
	
		on July 16th 2025, 12:54:05 pm
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
        </div>
    </div>
</div>
</footer-->


<!--script src="scripts/docstrap.lib.js"></script-->
<!--script src="scripts/toc.js"></script-->

    <!--script type="text/javascript" src="scripts/fulltext-search-ui.js"></script-->


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );
/*
	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
        if(example.length !=0 ){
            exampleText = example.html();
            var lang = /{@lang (.*?)}/.exec( exampleText );
            if ( lang && lang[1] ) {
                exampleText = exampleText.replace( lang[0], "" );
                example.html( exampleText );
                lang = lang[1];
            } else {
                var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
                lang = langClassMatch ? langClassMatch[1] : "javascript";
            }

            if ( lang ) {

                $this
                .addClass( "sunlight-highlight-" + lang )
                .addClass( "linenums" )
                .html( example.html() );

            }
        }
	} );
	*/
/*
	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );
*/
/*
	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );
*/
} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
           // SearcherDisplay.init();
        });
    </script>




</body>
</html>