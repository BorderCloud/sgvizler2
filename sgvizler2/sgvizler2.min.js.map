{"version":3,"file":"sgvizler2.min.js","sources":["../../node_modules/tslib/tslib.es6.js","../module/index.js","../module/sgvizler/Chart.js","../module/sgvizler/visualization/Table.js","../module/sgvizler/Loader.js","../module/sgvizler/Dependency.js","../module/sgvizler/SparqlError.js","../module/sgvizler/Select.js","../module/sgvizler/Messages.js","../module/sgvizler/Tools.js","../module/sgvizler/Logger.js","../module/sgvizler/Core.js","../module/sgvizler/SparqlTools.js","../module/sgvizler/Request.js","../module/sgvizler/Container.js","../module/sgvizler.js","../module/bordercloud/visualization/DataTable.js","../module/bordercloud.js","../module/google/visualization/Data.js","../module/google/visualization/Table.js","../module/google/API.js","../module/google/visualization/Map.js","../module/google.js","../module/d3/visualization/Pie.js","../module/d3.js","../module/leaflet/API.js","../module/leaflet/visualization/Map.js","../module/leaflet.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}","'use strict';\n/** @module example */\nimport * as jqueryProxy from 'jquery';\nconst jquery = jqueryProxy.default || jqueryProxy;\n// Namespace\nimport * as S from './sgvizler';\nexport const sgvizler = S;\nimport * as bordercloudNS from './bordercloud';\nexport const bordercloud = bordercloudNS;\nimport * as googleNS from './google';\nexport const google = googleNS;\nimport * as d3NS from './d3';\nexport const d3 = d3NS;\nimport * as leafletNS from './leaflet';\nexport const leaflet = leafletNS;\n/**\n * Todo\n * @const\n *\n */\nexport const VERSION = S.Core.VERSION;\n/**\n * Todo\n * @const\n */\nexport const HOMEPAGE = S.Core.HOMEPAGE;\n/**\n * Draws the sgvizler-containers with the given element id.\n *\n */\nexport function containerLoadAll() {\n    S.Container.loadAllDependencies();\n}\nfunction readOptions(options) {\n    if (options) {\n        if (typeof options === 'object') {\n            google.API.key = options.googleApiKey ? options.googleApiKey : '';\n            leaflet.API.osmAccessToken = options.osmAccessToken ? options.osmAccessToken : '';\n            S.Core.path = options.path ? options.path : '';\n        }\n    }\n}\n/**\n * Draws the sgvizler-containers with the given element id.\n * @param {string} elementID\n */\nexport function containerDraw(elementID, options) {\n    // S.Container.loadDependenciesId(elementID)\n    readOptions(options);\n    S.Container.drawWithElementId(elementID);\n}\n/**\n * Todo.\n */\nexport function containerDrawAll(options) {\n    // S.Container.loadAllDependencies()\n    readOptions(options);\n    S.Container.drawAll();\n}\n/**\n * Todo.\n */\nexport function selectDraw(elementID) {\n    // S.Select.loadDependencies()\n    S.Select.drawWithElementId(elementID);\n}\n/**\n * Todo.\n */\nexport function selectDrawAll() {\n    // S.Select.loadDependencies()\n    S.Select.drawAll();\n}\n/**\n * Todo.\n * @param {string} className\n * @param {string} pathDoc\n * @returns {string}\n */\nexport function getChartDoc(className, pathDoc) {\n    return S.Select.getChartDoc(className, pathDoc);\n}\n/**\n * Todo\n * @param {string} elementID\n * @param {string} endpoint\n * @param {string} query\n * @param {string} chartName\n * @param {string} options\n * @param {string} loglevel\n * @returns {string}\n */\nexport function create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter) {\n    return S.Container.create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter);\n}\n// noinspection JSPotentiallyInvalidConstructorUsage\njqueryProxy.prototype.extend({\n    selectchart: function (param, option) {\n        let $this = this;\n        let action = 'render';\n        if (param) {\n            if (typeof param === 'string') {\n                action = param;\n            }\n            else if (typeof param === 'object') {\n                action = param.action ? param.action : action;\n            }\n        }\n        // Return the jQuery object for chaining.\n        return $this.each(function (index, obj) {\n            if (index > 0 && action === 'render') {\n                if (param && typeof param === 'object') {\n                    S.Select.draw(obj, param);\n                }\n                else {\n                    S.Select.draw(obj);\n                }\n            }\n        });\n    },\n    containerchart: function (param, option) {\n        let $this = this;\n        let action = 'render';\n        if (param) {\n            if (typeof param === 'string') {\n                action = param;\n            }\n            else if (typeof param === 'object') {\n                action = param.action ? param.action : action;\n            }\n        }\n        // Return the jQuery object for chaining.\n        return $this.each(function (index, obj) {\n            if (index > 0 && action === 'render') {\n                if (param && typeof param === 'object') {\n                    S.Container.drawWithElementId($(obj).attr('id'), param);\n                }\n                else {\n                    S.Container.drawWithElementId($(obj).attr('id'));\n                }\n            }\n        });\n    }\n});\nS.Loader.detectRoot();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFBO0FBRVosc0JBQXNCO0FBQ3RCLE9BQU8sS0FBSyxXQUFXLE1BQU0sUUFBUSxDQUFBO0FBQ3JDLE1BQU0sTUFBTSxHQUFrQixXQUFtQixDQUFDLE9BQU8sSUFBSSxXQUFXLENBQUE7QUFFeEUsWUFBWTtBQUNaLE9BQU8sS0FBSyxDQUFDLE1BQU0sWUFBWSxDQUFBO0FBQy9CLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQUE7QUFFekIsT0FBTyxLQUFLLGFBQWEsTUFBTSxlQUFlLENBQUE7QUFDOUMsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQTtBQUV4QyxPQUFPLEtBQUssUUFBUSxNQUFNLFVBQVUsQ0FBQTtBQUNwQyxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFBO0FBRTlCLE9BQU8sS0FBSyxJQUFJLE1BQU0sTUFBTSxDQUFBO0FBQzVCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUE7QUFFdEIsT0FBTyxLQUFLLFNBQVMsTUFBTSxXQUFXLENBQUE7QUFDdEMsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQTtBQUVoQzs7OztHQUlHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0FBRTdDOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQTtBQUUvQzs7O0dBR0c7QUFDSCxNQUFNO0lBQ0EsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRSxDQUFBO0FBQ3ZDLENBQUM7QUFFRCxxQkFBc0IsT0FBWTtJQUM5QixFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ1YsRUFBRSxDQUFDLENBQUMsT0FBTyxPQUFPLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztZQUM5QixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFBO1lBQ2pFLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUE7WUFDakYsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQTtRQUNsRCxDQUFDO0lBQ0wsQ0FBQztBQUNMLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxNQUFNLHdCQUF5QixTQUFpQixFQUFDLE9BQVk7SUFDMUQsNENBQTRDO0lBQzNDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUNwQixDQUFDLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFBO0FBQzVDLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sMkJBQTRCLE9BQWE7SUFDNUMsb0NBQW9DO0lBQ25DLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUNwQixDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFBO0FBQ3pCLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0scUJBQXNCLFNBQWlCO0lBQ3pDLDhCQUE4QjtJQUM5QixDQUFDLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFBO0FBQ3pDLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU07SUFDSCw4QkFBOEI7SUFDN0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtBQUN0QixDQUFDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxNQUFNLHNCQUF1QixTQUFpQixFQUFDLE9BQWdCO0lBQzNELE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUMsT0FBTyxDQUFDLENBQUE7QUFDbEQsQ0FBQztBQUVEOzs7Ozs7Ozs7R0FTRztBQUNILE1BQU0saUJBQ0YsU0FBaUIsRUFDakIsUUFBZ0IsRUFDaEIsS0FBYSxFQUNiLFNBQWlCLEVBQ2pCLE9BQWdCLEVBQ2hCLFFBQWlCLEVBQ2pCLE1BQWUsRUFDZixNQUFlLEVBQ2YsU0FBa0I7SUFFbEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUNyQixTQUFTLEVBQ1QsUUFBUSxFQUNSLEtBQUssRUFDTCxTQUFTLEVBQ1QsT0FBTyxFQUNQLFFBQVEsRUFDUixNQUFNLEVBQ04sTUFBTSxFQUNOLFNBQVMsQ0FDWixDQUFBO0FBQ0wsQ0FBQztBQXlCRCxvREFBb0Q7QUFDcEQsV0FBVyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQ3hCO0lBQ0ksV0FBVyxFQUFHLFVBQVUsS0FBVyxFQUFDLE1BQVk7UUFDNUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFBO1FBQ2hCLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQTtRQUNyQixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1IsRUFBRSxDQUFDLENBQUMsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQTtZQUNsQixDQUFDO1lBQUEsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1lBQ2pELENBQUM7UUFDTCxDQUFDO1FBQ0QseUNBQXlDO1FBQ3pDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBVSxFQUFDLEdBQVE7WUFDM0MsRUFBRSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsSUFBSSxNQUFNLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDbkMsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7b0JBQ3JDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBQyxLQUFLLENBQUMsQ0FBQTtnQkFDNUIsQ0FBQztnQkFBQSxJQUFJLENBQUMsQ0FBQztvQkFDSCxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtnQkFDdEIsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFDRCxjQUFjLEVBQUcsVUFBVSxLQUFXLEVBQUMsTUFBWTtRQUMvQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUE7UUFDaEIsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFBO1FBQ3JCLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDUixFQUFFLENBQUMsQ0FBQyxPQUFPLEtBQUssS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFBO1lBQ2xCLENBQUM7WUFBQSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDbEMsTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7WUFDakQsQ0FBQztRQUNMLENBQUM7UUFDRCx5Q0FBeUM7UUFDekMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxLQUFVLEVBQUMsR0FBUTtZQUMzQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUNuQyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztvQkFDckMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBVyxFQUFDLEtBQUssQ0FBQyxDQUFBO2dCQUNwRSxDQUFDO2dCQUFBLElBQUksQ0FBQyxDQUFDO29CQUNILENBQUMsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQVcsQ0FBQyxDQUFBO2dCQUM5RCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUNKLENBQ0osQ0FBQTtBQUVELENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLENBQUEifQ==","import * as tslib_1 from \"tslib\";\nimport { Logger, MESSAGES, CssDependency, ScriptDependency, Loader } from '../sgvizler';\n/**\n * Define the type of patterns for the options\n *\n * @class sgvizler.CHART_PATTERN_OPTIONS\n * @memberof sgvizler\n */\nexport var CHART_PATTERN_OPTIONS;\n(function (CHART_PATTERN_OPTIONS) {\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"EMPTY\"] = 0] = \"EMPTY\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"UNKNOWN\"] = 1] = \"UNKNOWN\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"VARIABLE\"] = 2] = \"VARIABLE\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"STYLE\"] = 3] = \"STYLE\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"CLASS\"] = 4] = \"CLASS\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"WIKI\"] = 5] = \"WIKI\";\n})(CHART_PATTERN_OPTIONS || (CHART_PATTERN_OPTIONS = {}));\n/**\n * Abstract class for all the charts. Ensures that chart types\n * correctly inherit methods from this class.\n * @class sgvizler.Chart\n * @abstract\n * @export\n * @memberof sgvizler\n */\nexport class Chart {\n    /**\n     * Constructor of all chart types created by\n     * sgvizler.charts inherit from.\n     * @memberof sgvizler.Chart\n     * @constructor sgvizler.Chart\n     */\n    constructor() {\n        /**\n         * Give the options of chart\n         * @property options\n         * @memberof sgvizler.Chart\n         * @public\n         * @type {{}}\n         */\n        this.options = {};\n        this._tabDependences = [];\n        this._patternOptions = CHART_PATTERN_OPTIONS.EMPTY;\n        this._width = '';\n        this._height = '';\n        this._optionsRaw = '';\n        this._class = '';\n        this._style = '';\n        this._width = '100%';\n        this._isDone = false;\n        let currentThis = this;\n        Loader.on('loaded', () => {\n            if (currentThis.container != null &&\n                !currentThis._isDone &&\n                currentThis.isLoadedAllDependencies() &&\n                currentThis._resultSparql !== null) {\n                currentThis.doDraw();\n            }\n        });\n    }\n    loadDependenciesAndDraw(result) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            Logger.log(this.container, 'Chart loaded dependencies : ' + this.container.id);\n            // let promisesArray: Array<any> = []\n            this._resultSparql = result;\n            if (this.isLoadedAllDependencies()) {\n                yield this.doDraw();\n            }\n            else {\n                yield this.loadDependencies();\n            }\n        });\n    }\n    loadDependencies() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let promisesArray = [];\n            for (let dep of this._tabDependences) {\n                promisesArray.push(dep.load());\n            }\n            return Promise.all(promisesArray);\n        });\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {CHART_PATTERN_OPTIONS}\n     */\n    get patternOptions() {\n        return this._patternOptions;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get classHtml() {\n        return this._class;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set classHtml(value) {\n        this._class = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get style() {\n        return this._style;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set style(value) {\n        this._style = value;\n    }\n    /**\n     *\n     * @memberof sgvizler.Chart\n     * @returns {Container}\n     */\n    get container() {\n        return this._container;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {Container} value\n     */\n    set container(value) {\n        this._container = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get optionsRaw() {\n        return this._optionsRaw;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set optionsRaw(value) {\n        this._optionsRaw = value;\n        this.doParseOptionsRaw();\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get height() {\n        return this._height;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set height(value) {\n        this._height = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get width() {\n        return this._width;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set width(value) {\n        this._width = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    getHTMLStyleOrClass() {\n        let html = '';\n        let opts = this.options;\n        if (this._patternOptions === CHART_PATTERN_OPTIONS.CLASS) {\n            html = Object.keys(opts).map((property) => '${opts[property]}').join(' ');\n            html = 'class=\"' + html + '\"';\n        }\n        if (this._patternOptions === CHART_PATTERN_OPTIONS.STYLE) {\n            html = Object.keys(opts).map((property) => '${property}:${opts[property]}').join(';');\n            html = 'style=\"' + html + '\"';\n        }\n        return html;\n    }\n    addScript(url, loadBefore) {\n        let dep = new ScriptDependency(url, loadBefore);\n        this._tabDependences.push(dep);\n        return dep;\n    }\n    addCss(url, loadBefore) {\n        let dep = new CssDependency(url, loadBefore);\n        this._tabDependences.push(dep);\n        return dep;\n    }\n    isLoadedAllDependencies() {\n        for (let dep of this._tabDependences) {\n            if (!Loader.isLoaded(dep)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    doDraw() {\n        Logger.log(this.container, 'Chart started : ' + this._container.id);\n        let currentThis = this;\n        if (currentThis._resultSparql !== null) {\n            currentThis.draw(currentThis._resultSparql).then(function (valeur) {\n                currentThis._isDone = true;\n                Logger.log(currentThis.container, 'Chart finished : ' + currentThis._container.id);\n            }, function (error) {\n                console.log(error);\n                Logger.displayFeedback(currentThis._container, MESSAGES.ERROR_CHART, [error]);\n                Logger.log(currentThis.container, 'Chart finished with error : ' + currentThis._container.id);\n            });\n        }\n        else {\n            Logger.displayFeedback(currentThis._container, MESSAGES.ERROR_DATA_EMPTY);\n            Logger.log(currentThis.container, 'Chart finished with error : ' + currentThis._container.id);\n        }\n    }\n    // noinspection JSValidateJSDoc\n    // noinspection tslint\n    /**\n     * todo\n     * @memberof sgvizler.Chart\n     * @param {RegExp} patternOption\n     * @param {CHART_PATTERN_OPTIONS} typePattern\n     */\n    execPattern(patternOption, typePattern) {\n        let matchArray;\n        let raw = this._optionsRaw;\n        while ((matchArray = patternOption.exec(raw)) !== null) {\n            // this.options[matchArray[1].toLowerCase()] = matchArray[2].trim()\n            this.options[matchArray[1]] = matchArray[2].trim();\n            this._patternOptions = typePattern;\n        }\n    }\n    /**\n     * todo\n     * @memberof sgvizler.Chart\n     */\n    doParseOptionsRaw() {\n        // 3 possibilities\n        // pattern option : separate by optionA=a|optionB=b\n        // pattern style : any options, only style separate by ;\n        // pattern class : words separate by space\n        // noinspection TsLint\n        let patternOption = /\\|? *([^=]*) *= *([^=|]*)/iy; // tslint:disable-line\n        let patternStyle = /([^:]+):([^:;]+) *;?/iy; // tslint:disable-line\n        let patternClass = /([^ |;]+) ?/iy; // tslint:disable-line\n        let patternWiki = /\\!? *([^=]*) *= *([^=!]*)/iy; // tslint:disable-line\n        let raw = this._optionsRaw;\n        if (raw === '') {\n            this._patternOptions = CHART_PATTERN_OPTIONS.EMPTY;\n        }\n        else {\n            this._patternOptions = CHART_PATTERN_OPTIONS.UNKNOWN;\n        }\n        if (this._optionsRaw.indexOf('|') === -1 && this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternWiki, CHART_PATTERN_OPTIONS.WIKI);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternOption, CHART_PATTERN_OPTIONS.VARIABLE);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternStyle, CHART_PATTERN_OPTIONS.STYLE);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            let matchArray;\n            let raw = this._optionsRaw;\n            let i = 0;\n            while ((matchArray = patternClass.exec(raw)) !== null) {\n                this.options['class' + i] = matchArray[2];\n                this._patternOptions = CHART_PATTERN_OPTIONS.UNKNOWN;\n                i++;\n            }\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            Logger.displayFeedback(this.container, MESSAGES.ERROR_CHART_PATTERN_OPTION_UNKNOWN, [this._optionsRaw]);\n        }\n        else if (this.patternOptions === CHART_PATTERN_OPTIONS.WIKI ||\n            this.patternOptions === CHART_PATTERN_OPTIONS.VARIABLE ||\n            this.patternOptions === CHART_PATTERN_OPTIONS.STYLE) {\n            if (this.options['width'] !== undefined) {\n                this.width = this.options['width'];\n            }\n            if (this.options['height'] !== undefined) {\n                this.height = this.options['height'];\n            }\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFHSCxNQUFNLEVBQ04sUUFBUSxFQUVSLGFBQWEsRUFDYixnQkFBZ0IsRUFDaEIsTUFBTSxFQUNULE1BQU0sYUFBYSxDQUFBO0FBRXBCOzs7OztHQUtHO0FBQ0gsTUFBTSxDQUFOLElBQVkscUJBT1g7QUFQRCxXQUFZLHFCQUFxQjtJQUM3QixtRUFBSyxDQUFBO0lBQ0wsdUVBQU8sQ0FBQTtJQUNQLHlFQUFRLENBQUE7SUFDUixtRUFBSyxDQUFBO0lBQ0wsbUVBQUssQ0FBQTtJQUNMLGlFQUFJLENBQUE7QUFDUixDQUFDLEVBUFcscUJBQXFCLEtBQXJCLHFCQUFxQixRQU9oQztBQUVEOzs7Ozs7O0dBT0c7QUFDSCxNQUFNO0lBcUJGOzs7OztPQUtHO0lBQ0g7UUExQkE7Ozs7OztXQU1HO1FBQ0ksWUFBTyxHQUFRLEVBQUUsQ0FBQTtRQUdoQixvQkFBZSxHQUFzQixFQUFFLENBQUE7UUFFdkMsb0JBQWUsR0FBMEIscUJBQXFCLENBQUMsS0FBSyxDQUFBO1FBRXBFLFdBQU0sR0FBVyxFQUFFLENBQUE7UUFDbkIsWUFBTyxHQUFXLEVBQUUsQ0FBQTtRQUNwQixnQkFBVyxHQUFXLEVBQUUsQ0FBQTtRQUN4QixXQUFNLEdBQVcsRUFBRSxDQUFBO1FBQ25CLFdBQU0sR0FBVyxFQUFFLENBQUE7UUFTdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7UUFDcEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUE7UUFFcEIsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFBO1FBQ3RCLE1BQU0sQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFDO1lBQ2YsRUFBRSxDQUFDLENBQUMsV0FBVyxDQUFDLFNBQVMsSUFBSSxJQUFJO2dCQUM3QixDQUFFLFdBQVcsQ0FBQyxPQUFPO2dCQUNyQixX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","import { Chart } from '../Chart';\n/**\n * Todo Table\n * @class sgvizler.visualization.Table\n * @tutorial sgvizler_visualization_Table\n * @memberof sgvizler.visualization\n */\nexport class Table extends Chart {\n    get icon() {\n        return 'fa-table';\n    }\n    get label() {\n        return 'Table';\n    }\n    get subtext() {\n        return 'simple table';\n    }\n    get classFullName() {\n        return 'sgvizler.visualization.Table';\n    }\n    get tutorialFilename() {\n        return 'tutorial-sgvizler_visualization_Table.html';\n    }\n    constructor() {\n        super();\n        //  addDependence(SparqlResult)\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let opt = Object.assign({ headings: 'true' }, currentChart.options);\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            // console.log(opt)\n            let html = '<table ' + currentChart.getHTMLStyleOrClass() + ' >';\n            if (opt.headings === 'true') {\n                html += '<tr>';\n                for (let col of cols) {\n                    html += '<th>' + col + '</th>';\n                }\n                html += '</tr>';\n            }\n            for (let row of rows) {\n                html += '<tr>';\n                for (let col of cols) {\n                    html += '<td>' + row[col].value + '</td>';\n                }\n                html += '</tr>';\n            }\n            html += '</table>';\n            let obj = document.getElementById(currentChart.container.id);\n            if (obj) {\n                obj.innerHTML = html;\n            }\n            // finish\n            resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2d2aXpsZXIvdmlzdWFsaXphdGlvbi9UYWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBSWhDOzs7OztHQUtHO0FBQ0gsTUFBTSxZQUFhLFNBQVEsS0FBSztJQUU1QixJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsT0FBTyxDQUFBO0lBQ2xCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLDhCQUE4QixDQUFBO0lBQ3pDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsNENBQTRDLENBQUE7SUFDdkQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDVCwrQkFBK0I7SUFDakMsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFDdkMsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFbkUsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUE7WUFDM0IsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUE7WUFDbEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtZQUN4QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1lBRXhCLG1CQUFtQjtZQUNuQixJQUFJLElBQUksR0FBRyxTQUFTLEdBQUcsWUFBWSxDQUFDLG1CQUFtQixFQUFFLEdBQUcsSUFBSSxDQUFBO1lBQ2hFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDMUIsSUFBSSxJQUFJLE1BQU0sQ0FBQTtnQkFDZCxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUNuQixJQUFJLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUE7Z0JBQ2xDLENBQUM7Z0JBQ0QsSUFBSSxJQUFJLE9BQU8sQ0FBQTtZQUNuQixDQUFDO1lBRUQsR0FBRyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDbkIsSUFBSSxJQUFJLE1BQU0sQ0FBQTtnQkFDZCxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUNuQixJQUFJLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFBO2dCQUM3QyxDQUFDO2dCQUNELElBQUksSUFBSSxPQUFPLENBQUE7WUFDbkIsQ0FBQztZQUVELElBQUksSUFBSSxVQUFVLENBQUE7WUFFbEIsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1lBQzVELEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ04sR0FBRyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUE7WUFDeEIsQ0FBQztZQUNELFNBQVM7WUFDVCxPQUFPLEVBQUUsQ0FBQTtRQUNiLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUNKIn0=","import { Logger, ScriptDependency, CssDependency } from '../sgvizler';\n/**\n * Todo\n *\n * @class sgvizler.visualization.Loader\n * @memberof sgvizler.visualization\n */\nexport class Loader {\n    static on(event, fn) {\n        if (event === 'loaded') {\n            Loader._listCallEvent.push(fn);\n        }\n    }\n    static detectRoot() {\n        let resultXpath = document.evaluate('//script[contains(@src,\"sgvizler2.js\")]/@src', document, null, XPathResult.STRING_TYPE, null);\n        let srcScript = resultXpath.stringValue;\n        let match = /^(.*)sgvizler2\\.js$/.exec(srcScript);\n        if (match) {\n            Loader._pathScripts = match[1];\n        }\n    }\n    static isLoad(dep) {\n        return Loader._load.indexOf(dep.url) !== -1;\n    }\n    static isLoaded(dep) {\n        return Loader._loaded.indexOf(dep.url) !== -1;\n    }\n    static load(dep) {\n        if (dep instanceof ScriptDependency) {\n            Loader.loadScript(dep);\n        }\n        else if (dep instanceof CssDependency) {\n            Loader.loadCss(dep);\n        }\n    }\n    static fireEvent(event) {\n        for (let call of Loader._listCallEvent) {\n            call(event);\n        }\n    }\n    static checkDependenciesToLoad() {\n        let len = Loader._dependenciesToLoad.length;\n        for (let i = 0; i < len; i++) {\n            let dep = Loader._dependenciesToLoad[i];\n            if (dep === undefined || Loader.isLoaded(dep)) {\n                this._dependenciesToLoad.splice(i);\n            }\n            else {\n                if (dep instanceof ScriptDependency) {\n                    Loader.loadScript(dep);\n                }\n                else if (dep instanceof ScriptDependency) {\n                    Loader.loadCss(dep);\n                }\n            }\n        }\n    }\n    static getAbsoluteURL(url) {\n        if (url.match(/^(\\/\\/|https?)/)) {\n            return url;\n        }\n        else {\n            return Loader._pathScripts + url;\n        }\n    }\n    static loadScript(dep) {\n        let url = dep.url;\n        return new Promise(function (resolve, reject) {\n            if (dep.loadBefore && !dep.loadBefore.endDownload) {\n                //Logger.logSimple('Waiting : ' + dep.loadBefore.url + ' before ' + dep.url)\n                Loader._dependenciesToLoad.push(dep);\n                Loader.load(dep.loadBefore);\n                return resolve();\n            }\n            // include script only once\n            if (Loader.isLoad(dep)) {\n                return resolve(); // false;\n            }\n            else {\n                Loader._load.push(url);\n            }\n            Logger.logSimple('Loading : ' + dep.url);\n            // Adding the script tag to the head as suggested before\n            let head = document.getElementsByTagName('head')[0];\n            let script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.src = Loader.getAbsoluteURL(url);\n            // Then bind the event to the callback function.\n            // There are several events for cross browser compatibility.\n            script.onload = function () {\n                Loader._loaded.push(url); // in first\n                dep.callBack();\n                Loader.checkDependenciesToLoad();\n                // remember included script\n                Loader.fireEvent('loaded');\n            };\n            // Fire the loading\n            head.appendChild(script);\n        });\n    }\n    static loadCss(dep) {\n        let url = dep.url;\n        return new Promise(function (resolve, reject) {\n            if (dep.loadBefore && !dep.loadBefore.endDownload) {\n                Loader._dependenciesToLoad.push(dep);\n                return Loader.load(dep.loadBefore);\n            }\n            // include script only once\n            if (Loader.isLoad(dep)) {\n                return; // false;\n            }\n            else {\n                Loader._load.push(url);\n            }\n            // <link rel=\"stylesheet\" type=\"text/css\" href=\"../dist/datatables.min.css\"/>\n            let head = document.getElementsByTagName('head')[0];\n            let link = document.createElement('link');\n            link.rel = 'stylesheet';\n            link.href = Loader.getAbsoluteURL(url);\n            // Then bind the event to the callback function.\n            // There are several events for cross browser compatibility.\n            link.onload = function () {\n                Loader._loaded.push(url);\n                Logger.logSimple('Loaded : ' + url);\n                dep.callBack();\n                Loader.checkDependenciesToLoad();\n                // remember included script\n                Loader.fireEvent('loaded');\n            };\n            // Fire the loading\n            head.appendChild(link);\n        });\n    }\n}\nLoader._load = [];\nLoader._loaded = [];\nLoader._dependenciesToLoad = [];\nLoader._pathScripts = '';\nLoader._listCallEvent = [];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0xvYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsTUFBTSxFQUNOLGdCQUFnQixFQUNoQixhQUFhLEVBRWhCLE1BQU0sYUFBYSxDQUFBO0FBRXBCOzs7OztHQUtHO0FBQ0gsTUFBTTtJQU9LLE1BQU0sQ0FBQyxFQUFFLENBQUUsS0FBYSxFQUFDLEVBQU87UUFDbkMsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDckIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDbEMsQ0FBQztJQUNMLENBQUM7SUFFTSxNQUFNLENBQUMsVUFBVTtRQUNwQixJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLDhDQUE4QyxFQUM5RSxRQUFRLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFFLENBQUE7UUFDbkQsSUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQTtRQUV2QyxJQUFJLEtBQUssR0FBRyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDakQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNSLE1BQU0sQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2xDLENBQUM7SUFDTCxDQUFDO0lBRU0sTUFBTSxDQUFDLE1BQU0sQ0FBRSxHQUFlO1FBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7SUFDL0MsQ0FBQztJQUVNLE1BQU0sQ0FBQyxRQUFRLENBQUUsR0FBZTtRQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FB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","import { Loader, Logger } from '../sgvizler';\nexport class Dependency {\n    constructor(url, loadBefore) {\n        this.url = url;\n        this.loadBefore = loadBefore ? loadBefore : null;\n        this.endDownload = false;\n        this.startDownload = false;\n    }\n    load() {\n        if (!this.isLoaded()) {\n            this.startDownload = true;\n            Logger.logSimple('Load started :' + this.url);\n            Loader.load(this);\n        }\n    }\n    isLoaded() {\n        if (Loader.isLoaded(this)) {\n            this.startDownload = true;\n            this.endDownload = true;\n        }\n        return this.endDownload;\n    }\n    callBack() {\n        this.endDownload = true;\n        Logger.logSimple('Load ended :' + this.url);\n    }\n}\nexport class ScriptDependency extends Dependency {\n}\nexport class CssDependency extends Dependency {\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwZW5kZW5jeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9EZXBlbmRlbmN5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxNQUFNLEVBQ04sTUFBTSxFQUNULE1BQU0sYUFBYSxDQUFBO0FBRXBCLE1BQU07SUFNRixZQUFhLEdBQVcsRUFBQyxVQUF1QjtRQUM1QyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQTtRQUNkLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUE7UUFDaEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUE7UUFDeEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUE7SUFDOUIsQ0FBQztJQUVNLElBQUk7UUFDUCxFQUFFLENBQUMsQ0FBQyxDQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDcEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUE7WUFDekIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDN0MsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNyQixDQUFDO0lBQ0wsQ0FBQztJQUVNLFFBQVE7UUFDWCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQTtZQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQTtRQUMzQixDQUFDO1FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUE7SUFDM0IsQ0FBQztJQUVNLFFBQVE7UUFDWCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQTtRQUN2QixNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDL0MsQ0FBQztDQUNKO0FBRUQsTUFBTSx1QkFBd0IsU0FBUSxVQUFVO0NBQUc7QUFFbkQsTUFBTSxvQkFBcUIsU0FBUSxVQUFVO0NBQUcifQ==","/**\n * todo\n * @class sgvizler.SparqlError\n * @memberof sgvizler\n */\nexport class SparqlError {\n    static getErrorMessage(xhr) {\n        let patternWikidata = /MalformedQueryException: *(.*)/m; // tslint:disable-line\n        let errorWikidata = patternWikidata.exec(xhr.response);\n        if (errorWikidata !== null) {\n            return errorWikidata[1];\n        }\n        return xhr.response;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BhcnFsRXJyb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvU3BhcnFsRXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU07SUFFSyxNQUFNLENBQUMsZUFBZSxDQUFFLEdBQW1CO1FBQzlDLElBQUksZUFBZSxHQUFHLGlDQUFpQyxDQUFBLENBQUMsc0JBQXNCO1FBRTlFLElBQUksYUFBYSxHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ3RELEVBQUUsQ0FBQyxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDM0IsQ0FBQztRQUVELE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFBO0lBQ3ZCLENBQUM7Q0FDSiJ9","import * as tslib_1 from \"tslib\";\nimport { Tools, Core } from '../sgvizler';\n/**\n *\n * @memberof gvizler\n */\nexport class Select {\n    /**\n     *\n     * @param {string} elementID\n     * @returns {Promise<void>}\n     */\n    static drawWithElementId(elementID) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let element = document.getElementById(elementID);\n            if (element) {\n                yield Select.draw(element);\n            }\n        });\n    }\n    /**\n     *\n     * @param {Element} element\n     * @param options\n     * @returns {Promise<void>}\n     */\n    static draw(element, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let nodesOption = Select.getSelectOptions(options);\n            for (let node of nodesOption) {\n                element.appendChild(node.cloneNode(true));\n            }\n        });\n    }\n    /**\n     * todo\n     */\n    static drawAll() {\n        let nodesOption = Select.getSelectOptions();\n        let nodesSnapshot = document.evaluate(\"//select[contains(@class, '\" + Select.CLASS_NAME + \"')]\", document, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n        for (let i = 0; i < nodesSnapshot.snapshotLength; i++) {\n            for (let node of nodesOption) {\n                nodesSnapshot.snapshotItem(i).appendChild(node.cloneNode(true));\n            }\n        }\n    }\n    /**\n     * Build url of chart's doc\n     * @param {string} classFullName\n     * @param {string} pathDoc\n     * @returns {string} absolute or relative URL\n     */\n    static getChartDoc(classFullName, pathDoc) {\n        let chartClass = Tools.getObjectByPath(classFullName);\n        let path = '';\n        if (pathDoc !== undefined) {\n            path = pathDoc;\n        }\n        else {\n            path = Core.DOCPATH;\n        }\n        return path + chartClass.tutorialFilename;\n    }\n    static getSelectOptions(options) {\n        let chartClass;\n        let nodeOption;\n        let nodeOptgroup;\n        let attrLabel;\n        let attrValue;\n        let attrIcon;\n        let attrSub;\n        let attrSelected;\n        let nodes = [];\n        // todo: write the option selected in the doc\n        let classSelected = options && options.selected ? options.selected : this.classOfChartSelectedByDefault;\n        for (let optgroup of this.charts) {\n            nodeOptgroup = document.createElement('optgroup');\n            attrLabel = document.createAttribute('label');\n            attrLabel.value = optgroup.label;\n            nodeOptgroup.setAttributeNode(attrLabel);\n            for (let chart of optgroup.charts) {\n                chartClass = Tools.getObjectByPath(chart);\n                nodeOption = document.createElement('option');\n                attrIcon = document.createAttribute('data-icon');\n                attrIcon.value = chartClass.icon;\n                attrSub = document.createAttribute('data-subtext');\n                // todo: write the option subtext in the doc\n                if (options.subtext === 'classFullName') {\n                    attrSub.value = chartClass.classFullName;\n                }\n                else {\n                    attrSub.value = chartClass.subtext;\n                }\n                attrValue = document.createAttribute('value');\n                attrValue.value = chartClass.classFullName;\n                if (classSelected === chart) {\n                    attrSelected = document.createAttribute('selected');\n                    nodeOption.setAttributeNode(attrSelected);\n                }\n                nodeOption.text = chartClass.label;\n                nodeOption.setAttributeNode(attrIcon);\n                nodeOption.setAttributeNode(attrSub);\n                nodeOption.setAttributeNode(attrValue);\n                nodeOptgroup.appendChild(nodeOption);\n            }\n            nodes.push(nodeOptgroup);\n        }\n        return nodes;\n    }\n}\nSelect.CLASS_NAME = 'sgvizler-select';\nSelect.classOfChartSelectedByDefault = 'bordercloud.visualization.DataTable';\n/**\n * Stores the charts\n */\nSelect.charts = [\n    {\n        // optgroup\n        label: 'bordercloud.visualization',\n        charts: [\n            'bordercloud.visualization.DataTable'\n        ]\n    },\n    {\n        // optgroup\n        label: 'd3.visualization',\n        charts: [\n            'd3.visualization.Pie'\n        ]\n    },\n    {\n        // optgroup\n        label: 'leaflet.visualization',\n        charts: [\n            'leaflet.visualization.Map'\n        ]\n    },\n    {\n        // optgroup\n        label: 'google.visualization',\n        charts: [\n            'google.visualization.Table',\n            'google.visualization.Map'\n        ]\n    },\n    {\n        // optgroup\n        label: 'sgvizler.visualization',\n        charts: [\n            'sgvizler.visualization.Table'\n        ]\n    }\n];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL1NlbGVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxJQUFJLEVBQ1AsTUFBTSxhQUFhLENBQUE7QUFFcEI7OztHQUdHO0FBQ0gsTUFBTTtJQWdERjs7OztPQUlHO0lBQ0ksTUFBTSxDQUFPLGlCQUFpQixDQUFFLFNBQWlCOztZQUNwRCxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQzlCLENBQUM7UUFDTCxDQUFDO0tBQUE7SUFFRDs7Ozs7T0FLRztJQUNJLE1BQU0sQ0FBTyxJQUFJLENBQUUsT0FBZ0IsRUFBQyxPQUFhOztZQUNwRCxJQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDbEQsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7WUFDN0MsQ0FBQztRQUNMLENBQUM7S0FBQTtJQUVEOztPQUVHO0lBQ0ksTUFBTSxDQUFDLE9BQU87UUFDakIsSUFBSSxXQUFXLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUE7UUFFM0MsSUFBSSxhQUFhLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyw2QkFBNkIsR0FBRyxNQUFNLENBQUMsVUFBVSxHQUFHLEtBQUssRUFDM0YsUUFBUSxFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsNEJBQTRCLEVBQUUsSUFBSSxDQUFFLENBQUE7UUFDcEUsR0FB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","/**\n * todo\n * @class sgvizler.MESSAGES\n * @memberof sgvizler\n */\nexport var MESSAGES;\n(function (MESSAGES) {\n    MESSAGES[MESSAGES[\"ERROR_CHART_UNKNOWN\"] = 0] = \"ERROR_CHART_UNKNOWN\";\n    MESSAGES[MESSAGES[\"ERROR_CHART_PATTERN_OPTION_UNKNOWN\"] = 1] = \"ERROR_CHART_PATTERN_OPTION_UNKNOWN\";\n    MESSAGES[MESSAGES[\"ERROR_REQUEST\"] = 2] = \"ERROR_REQUEST\";\n    MESSAGES[MESSAGES[\"ERROR_CHART\"] = 3] = \"ERROR_CHART\";\n    MESSAGES[MESSAGES[\"ERROR_DEPENDENCIES\"] = 4] = \"ERROR_DEPENDENCIES\";\n    MESSAGES[MESSAGES[\"ERROR_ENDPOINT_FORGOT\"] = 5] = \"ERROR_ENDPOINT_FORGOT\";\n    MESSAGES[MESSAGES[\"ERROR_DATA_EMPTY\"] = 6] = \"ERROR_DATA_EMPTY\";\n})(MESSAGES || (MESSAGES = {}));\n/**\n *\n * @class sgvizler.Messages\n * @memberof sgvizler\n */\nexport class Messages {\n    static get(id, args) {\n        let message = '';\n        switch (id) {\n            case MESSAGES.ERROR_CHART_UNKNOWN:\n                message = 'The chart $0 does not exist.';\n                break;\n            case MESSAGES.ERROR_CHART_PATTERN_OPTION_UNKNOWN:\n                message = \"The pattern of chart options is unknown : '$0'\" +\n                    \"Use 'variable1=value1|variable1=value1' or for style 'width:100%;font:red;' or 'class1 class2'\";\n                break;\n            case MESSAGES.ERROR_REQUEST:\n                message = 'Sorry, the sparql server sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_CHART:\n                message = 'Sorry, the chart sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_DEPENDENCIES:\n                message = 'The chart dependencies sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_ENDPOINT_FORGOT:\n                message = 'The endpoint of Sparql service is forgotten (data-sgvizler-endpoint).';\n                break;\n            case MESSAGES.ERROR_DATA_EMPTY:\n                message = 'The resquest sent null.';\n                break;\n        }\n        if (args) {\n            for (let i = 0, len = args.length; i < len; i++) {\n                message = message.replace('$' + i, args[i]);\n            }\n        }\n        return message;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvTWVzc2FnZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLFFBUVg7QUFSRCxXQUFZLFFBQVE7SUFDaEIscUVBQW1CLENBQUE7SUFDbkIsbUdBQWtDLENBQUE7SUFDbEMseURBQWEsQ0FBQTtJQUNiLHFEQUFXLENBQUE7SUFDWCxtRUFBa0IsQ0FBQTtJQUNsQix5RUFBcUIsQ0FBQTtJQUNyQiwrREFBZ0IsQ0FBQTtBQUNwQixDQUFDLEVBUlcsUUFBUSxLQUFSLFFBQVEsUUFRbkI7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTTtJQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUUsRUFBWSxFQUFDLElBQW9CO1FBQ2hELElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQTtRQUNoQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1QsS0FBSyxRQUFRLENBQUMsbUJBQW1CO2dCQUM3QixPQUFPLEdBQUcsOEJBQThCLENBQUE7Z0JBQ3hDLEtBQUssQ0FBQTtZQUNULEtBQUssUUFBUSxDQUFDLGtDQUFrQztnQkFDNUMsT0FBTyxHQUFHLGdEQUFnRDtvQkFDdEQsZ0dBQWdHLENBQUE7Z0JBQ3BHLEtBQUssQ0FBQTtZQUNULEtBQUssUUFBUSxDQUFDLGFBQWE7Z0JBQ3ZCLE9BQU8sR0FBRyxrREFBa0QsQ0FBQTtnQkFDNUQsS0FBSyxDQUFBO1lBQ1QsS0FBSyxRQUFRLENBQUMsV0FBVztnQkFDckIsT0FBTyxHQUFHLDBDQUEwQyxDQUFBO2dCQUNwRCxLQUFLLENBQUE7WUFDVCxLQUFLLFFBQVEsQ0FBQyxrQkFBa0I7Z0JBQzVCLE9BQU8sR0FBRyxnREFBZ0QsQ0FBQTtnQkFDMUQsS0FBSyxDQUFBO1lBQ1QsS0FBSyxRQUFRLENBQUMscUJBQXFCO2dCQUMvQixPQUFPLEdBQUcsdUVBQXVFLENBQUE7Z0JBQ2pGLEtBQUssQ0FBQTtZQUNULEtBQUssUUFBUSxDQUFDLGdCQUFnQjtnQkFDMUIsT0FBTyxHQUFHLHlCQUF5QixDQUFBO2dCQUNuQyxLQUFLLENBQUE7UUFDYixDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNQLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQzlDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDL0MsQ0FBQztRQUNMLENBQUM7UUFFRCxNQUFNLENBQUMsT0FBTyxDQUFBO0lBQ2xCLENBQUM7Q0FDSiJ9","import * as sgvizler2 from '../index';\n/**\n * Todo comment\n * @class sgvizler.Tools\n * @memberof sgvizler\n */\nexport class Tools {\n    // noinspection JSValidateJSDoc\n    /**\n     * Gets the object located at `path` from `object`. `path`\n     * is given in dot notation.\n     * Search in first in the library and after in window object\n     * @param {string} path\n     * @param object\n     * @returns { any }  or undefined\n     */\n    static getObjectByPath(path, object) {\n        let i;\n        let len;\n        let segments = path.split('.');\n        let cursor = object || sgvizler2; // search in the lib if object is empty\n        for (i = 0, len = segments.length; i < len; i += 1) {\n            if (cursor === undefined) {\n                break;\n            }\n            if (i < len - 1) {\n                cursor = cursor[segments[i]]; // if cursor is undefined, it remains undefined.\n            }\n            else {\n                try {\n                    cursor = new cursor[segments[i]](); // create an instance\n                }\n                catch (e) {\n                    // do nothing\n                    // cursor[segments[i]]() is not a constructor]\n                    cursor = undefined;\n                }\n            }\n        }\n        if (cursor === undefined && !object) {\n            cursor = this.getObjectByPath(path, window);\n        }\n        return cursor;\n    }\n    // public static escapeHtml (str: string): string {\n    //     let text = document.createTextNode(str)\n    //     let div = document.createElement('div')\n    //     div.appendChild(text)\n    //     return div.innerHTML\n    // }\n    // public static decodeHtml (html: string): any {\n    // //     let element = document.createElement('div')\n    // //     element.innerHTML = html\n    // //     return element.textContent\n    // // }\n    // // function decodeHTMLEntities(text) {\n    // }\n    static encodeHtml(str) {\n        let buf = [];\n        for (let i = str.length - 1; i >= 0; i--) {\n            buf.unshift(['&#', str.charCodeAt(i), ';'].join(''));\n        }\n        return buf.join('');\n    }\n    static decodeHtml(str) {\n        let text = str.replace(/&#(\\d+);/g, function (match, dec) {\n            return String.fromCharCode(dec);\n        });\n        return text.replace(/\\s/g, function (match, dec) {\n            return ' ';\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvVG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLFNBQVMsTUFBTSxVQUFVLENBQUE7QUFFckM7Ozs7R0FJRztBQUNILE1BQU07SUFFRiwrQkFBK0I7SUFDL0I7Ozs7Ozs7T0FPRztJQUNJLE1BQU0sQ0FBQyxlQUFlLENBQUUsSUFBWSxFQUFFLE1BQVk7UUFDckQsSUFBSSxDQUFDLENBQUE7UUFDTCxJQUFJLEdBQUcsQ0FBQTtRQUNQLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDOUIsSUFBSSxNQUFNLEdBQUcsTUFBTSxJQUFJLFNBQVMsQ0FBQSxDQUFFLHVDQUF1QztRQUV6RSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ2pELEVBQUUsQ0FBQyxDQUFDLE1BQU0sS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUN4QixLQUFLLENBQUE7WUFDUixDQUFDO1lBQ0QsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNkLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBSyxnREFBZ0Q7WUFDckYsQ0FBQztZQUFBLElBQUksQ0FBQyxDQUFDO2dCQUNILElBQUksQ0FBQztvQkFDRCxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFDLHFCQUFxQjtnQkFDNUQsQ0FBQztnQkFBQSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNSLGFBQWE7b0JBQ2IsOENBQThDO29CQUM5QyxNQUFNLEdBQUcsU0FBUyxDQUFBO2dCQUN0QixDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxNQUFNLEtBQUssU0FBUyxJQUFJLENBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNuQyxNQUFNLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDL0MsQ0FBQztRQUNELE1BQU0sQ0FBQyxNQUFNLENBQUE7SUFDakIsQ0FBQztJQUVELG1EQUFtRDtJQUNuRCw4Q0FBOEM7SUFDOUMsOENBQThDO0lBQzlDLDRCQUE0QjtJQUM1QiwyQkFBMkI7SUFDM0IsSUFBSTtJQUVKLGlEQUFpRDtJQUNqRCxxREFBcUQ7SUFDckQsa0NBQWtDO0lBQ2xDLG9DQUFvQztJQUNwQyxPQUFPO0lBQ1AseUNBQXlDO0lBQ3pDLElBQUk7SUFFRyxNQUFNLENBQUMsVUFBVSxDQUFFLEdBQVc7UUFDakMsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFBO1FBQ1osR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRyxDQUFDLEVBQUUsRUFBRyxDQUFDO1lBQ3pDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtRQUN6RCxDQUFDO1FBQ0QsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7SUFDdkIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxVQUFVLENBQUUsR0FBVztRQUNqQyxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxVQUFXLEtBQUssRUFBRSxHQUFHO1lBQ3JELE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ25DLENBQUMsQ0FBQyxDQUFBO1FBQ0YsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLFVBQVcsS0FBSyxFQUFFLEdBQUc7WUFDNUMsTUFBTSxDQUFDLEdBQUcsQ0FBQTtRQUNkLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUVKIn0=","import * as S from '../sgvizler';\n/**\n * Handles all logging, either to console or designated HTML\n * container.\n *\n * @class sgvizler.Logger\n * @memberof sgvizler\n */\nexport class Logger {\n    /**\n     * Logs a message.\n     * @method log\n     * @protected\n     * @param {string} message The message to log.\n     */\n    static log(container, message) {\n        if (container.loglevel === 2) {\n            console.log(this.elapsedTime() + 's: ' + message);\n        }\n    }\n    static logSimple(message) {\n        console.log(this.elapsedTime() + 's: ' + message);\n    }\n    /**\n     * Todo\n     * @param {Container} container\n     * @param {MESSAGES} messageName\n     * @param {Array<string>} args\n     */\n    static displayFeedback(container, messageName, args) {\n        let message = S.Messages.get(messageName, args);\n        if (container.loglevel === 2) {\n            if (message) {\n                let obj = document.getElementById(container.id);\n                if (obj) {\n                    obj.innerHTML = \"<p style='color:red'>\" + message + '</p>';\n                }\n            }\n        }\n    }\n    /**\n     * @method timeElapsed\n     * @private\n     * @return {number} The number of seconds elapsed since\n     * this sgvizler got loaded.\n     */\n    static elapsedTime() {\n        return (Date.now() - this._startTime) / 1000;\n    }\n}\n/**\n * The timestamp for the load start of the current running\n * version of sgvizler. Used to calculate time elapse of\n * future events.\n */\nLogger._startTime = Date.now();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0xvZ2dlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssQ0FBQyxNQUFNLGFBQWEsQ0FBQTtBQUVoQzs7Ozs7O0dBTUc7QUFDSCxNQUFNO0lBUUY7Ozs7O09BS0c7SUFDSSxNQUFNLENBQUMsR0FBRyxDQUFFLFNBQXNCLEVBQUUsT0FBZTtRQUN0RCxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEdBQUcsS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFBO1FBQ3JELENBQUM7SUFDTCxDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBRSxPQUFlO1FBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLEtBQUssR0FBRyxPQUFPLENBQUMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSSxNQUFNLENBQUMsZUFBZSxDQUFFLFNBQXNCLEVBQUUsV0FBdUIsRUFBRSxJQUFvQjtRQUNoRyxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7UUFFOUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQy9DLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ04sR0FBRyxDQUFDLFNBQVMsR0FBRyx1QkFBdUIsR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFBO2dCQUM5RCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSyxNQUFNLENBQUMsV0FBVztRQUN0QixNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQTtJQUNoRCxDQUFDOztBQWxERDs7OztHQUlHO0FBQ1ksaUJBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUEifQ==","/**\n *\n * @class sgvizler.Core\n * @memberof sgvizler\n */\nexport class Core {\n    /**\n     * todo\n     * @returns {string}\n     */\n    static get path() {\n        return this._path;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    static set path(value) {\n        this._path = value;\n    }\n}\n/**\n * The version number of this sgvizler2.\n * @static\n * @readonly\n * @type {string} VERSION\n */\nCore.VERSION = '0.0';\n/**\n * sgvizler2's homepage.\n * @static\n * @readonly\n * @type {string} HOMEPAGE\n */\nCore.HOMEPAGE = 'https://bordercloud.github.io/sgvizler2/index.html';\n/**\n * sgvizler2's docs path\n * @static\n * @readonly\n * @type {string} DOCPATH\n */\nCore.DOCPATH = 'https://bordercloud.github.io/sgvizler2/';\nCore._path = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29yZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9Db3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNO0lBRUY7OztPQUdHO0lBQ0gsTUFBTSxLQUFLLElBQUk7UUFDWCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQTtJQUNyQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsTUFBTSxLQUFLLElBQUksQ0FBRSxLQUFhO1FBQzFCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO0lBQ3RCLENBQUM7O0FBRUQ7Ozs7O0dBS0c7QUFDb0IsWUFBTyxHQUFXLEtBQUssQ0FBQTtBQUU5Qzs7Ozs7R0FLRztBQUNvQixhQUFRLEdBQVcsb0RBQW9ELENBQUE7QUFFOUY7Ozs7O0dBS0c7QUFDb0IsWUFBTyxHQUFXLDBDQUEwQyxDQUFBO0FBRXBFLFVBQUssR0FBVyxFQUFFLENBQUEifQ==","/**\n *\n * @class sgvizler.SPARQL_RESULT\n * @memberof sgvizler\n */\nexport var SPARQL_RESULT;\n(function (SPARQL_RESULT) {\n    SPARQL_RESULT[SPARQL_RESULT[\"xml\"] = 0] = \"xml\";\n    SPARQL_RESULT[SPARQL_RESULT[\"json\"] = 1] = \"json\";\n    SPARQL_RESULT[SPARQL_RESULT[\"jsonp\"] = 2] = \"jsonp\";\n})(SPARQL_RESULT || (SPARQL_RESULT = {}));\n/**\n *\n * @class sgvizler.SparqlTools\n * @memberof gvizler\n */\nexport class SparqlTools {\n    static getOutputLabel(id) {\n        let str = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                str = 'xml';\n                break;\n            case SPARQL_RESULT.json:\n                str = 'json';\n                break;\n            case SPARQL_RESULT.jsonp:\n                str = 'jsonp';\n                break;\n        }\n        return str;\n    }\n    static getXMLHttpRequestResponseType(id) {\n        let type = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                type = ''; // \tDOMString (this is the default value for xhr)\n                break;\n            case SPARQL_RESULT.json:\n            case SPARQL_RESULT.jsonp:\n                type = 'json';\n                break;\n        }\n        return type;\n    }\n    static getHeaderAccept(id) {\n        let str = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                str = 'application/sparql-results+xml';\n                break;\n            case SPARQL_RESULT.json:\n            case SPARQL_RESULT.jsonp:\n                str = 'application/sparql-results+json';\n                break;\n        }\n        return str;\n    }\n    static convertString(label) {\n        let result = SPARQL_RESULT.json;\n        switch (label) {\n            case 'xml':\n                result = SPARQL_RESULT.xml;\n                break;\n            case 'json':\n                result = SPARQL_RESULT.json;\n                break;\n            case 'jsonp':\n                result = SPARQL_RESULT.jsonp;\n                break;\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BhcnFsVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvU3BhcnFsVG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLGFBSVg7QUFKRCxXQUFZLGFBQWE7SUFDckIsK0NBQUcsQ0FBQTtJQUNILGlEQUFJLENBQUE7SUFDSixtREFBSyxDQUFBO0FBQ1QsQ0FBQyxFQUpXLGFBQWEsS0FBYixhQUFhLFFBSXhCO0FBRUQ7Ozs7R0FJRztBQUNILE1BQU07SUFFSyxNQUFNLENBQUMsY0FBYyxDQUFFLEVBQWlCO1FBQzNDLElBQUksR0FBRyxHQUFXLEVBQUUsQ0FBQTtRQUNwQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1QsS0FBSyxhQUFhLENBQUMsR0FBRztnQkFDbEIsR0FBRyxHQUFHLEtBQUssQ0FBQTtnQkFDWCxLQUFLLENBQUE7WUFDVCxLQUFLLGFBQWEsQ0FBQyxJQUFJO2dCQUNuQixHQUFHLEdBQUcsTUFBTSxDQUFBO2dCQUNaLEtBQUssQ0FBQTtZQUNULEtBQUssYUFBYSxDQUFDLEtBQUs7Z0JBQ3BCLEdBQUcsR0FBRyxPQUFPLENBQUE7Z0JBQ2IsS0FBSyxDQUFBO1FBQ2IsQ0FBQztRQUNELE1BQU0sQ0FBQyxHQUFHLENBQUE7SUFDZCxDQUFDO0lBRU0sTUFBTSxDQUFDLDZCQUE2QixDQUFFLEVBQWlCO1FBQzFELElBQUksSUFBSSxHQUFXLEVBQUUsQ0FBQTtRQUNyQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1QsS0FBSyxhQUFhLENBQUMsR0FBRztnQkFDbEIsSUFBSSxHQUFHLEVBQUUsQ0FBQSxDQUFDLGlEQUFpRDtnQkFDM0QsS0FBSyxDQUFBO1lBQ1QsS0FBSyxhQUFhLENBQUMsSUFBSSxDQUFFO1lBQ3pCLEtBQUssYUFBYSxDQUFDLEtBQUs7Z0JBQ3BCLElBQUksR0FBRyxNQUFNLENBQUE7Z0JBQ2IsS0FBSyxDQUFBO1FBQ2IsQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFrQyxDQUFBO0lBQzdDLENBQUM7SUFFTSxNQUFNLENBQUMsZUFBZSxDQUFFLEVBQWlCO1FBQzVDLElBQUksR0FBRyxHQUFXLEVBQUUsQ0FBQTtRQUNwQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1QsS0FBSyxhQUFhLENBQUMsR0FBRztnQkFDbEIsR0FBRyxHQUFHLGdDQUFnQyxDQUFBO2dCQUN0QyxLQUFLLENBQUE7WUFDVCxLQUFLLGFBQWEsQ0FBQyxJQUFJLENBQUU7WUFDekIsS0FBSyxhQUFhLENBQUMsS0FBSztnQkFDcEIsR0FBRyxHQUFHLGlDQUFpQyxDQUFBO2dCQUN2QyxLQUFLLENBQUE7UUFDYixDQUFDO1FBQ0QsTUFBTSxDQUFDLEdBQUcsQ0FBQTtJQUNkLENBQUM7SUFFTSxNQUFNLENBQUMsYUFBYSxDQUFFLEtBQWE7UUFDdEMsSUFBSSxNQUFNLEdBQWtCLGFBQWEsQ0FBQyxJQUFJLENBQUE7UUFDOUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNaLEtBQUssS0FBSztnQkFDTixNQUFNLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQTtnQkFDMUIsS0FBSyxDQUFBO1lBQ1QsS0FBSyxNQUFNO2dCQUNQLE1BQU0sR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFBO2dCQUMzQixLQUFLLENBQUE7WUFDVCxLQUFLLE9BQU87Z0JBQ1IsTUFBTSxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUE7Z0JBQzVCLEtBQUssQ0FBQTtRQUNiLENBQUM7UUFDRCxNQUFNLENBQUMsTUFBTSxDQUFBO0lBQ2pCLENBQUM7Q0FDSiJ9","import { SPARQL_RESULT, SparqlTools } from '../sgvizler';\nimport { SparqlError } from './SparqlError';\n/**\n * Important class. Runs SPARQL query against SPARQL\n * endpoints.\n *\n * Dependencies:\n *\n *   - sgvizler.util\n *   - sgvizler.namespace\n *   - sgvizler.registry\n *   - sgvizler.parser\n *   - sgvizler.loader\n *   - sgvizler.logger\n *   - sgvizler.defaults\n *   - jQuery\n *   - google.visualization\n *\n *\n * Example of how to use the Query class:\n *\n *     var sparqlQueryString = \"SELECT * {?s ?p ?o} LIMIT 10\",\n *         containerID = \"myElementID\",\n *         Q = new sgvizler.Query();\n *\n *     // Note that default values may be set in the sgvizler object.\n *     Q.query(sparqlQueryString)\n *         .endpointURL(\"http://dbpedia.org/sparql\")\n *         .endpointOutputFormat(\"json\")                    // Possible values 'xml', 'json', 'jsonp'.\n *         .chartFunction(\"google.visualization.BarChart\")  // The name of the function to draw the chart.\n *         .draw(containerID);                              // Draw the chart in the designated HTML element.\n *\n * @class sgvizler.Request\n * @memberof sgvizler\n */\nexport class Request {\n    constructor() {\n        this._query = '';\n        this._endpoint = '';\n        this._endpointOutputFormat = SPARQL_RESULT.json;\n        this._method = 'GET';\n        this._queryParameter = 'query';\n        this.listeners = {};\n    }\n    // private _endpointResultsUrlPart: string\n    // // private _chartPathFunction: string\n    // private _endpointURL: string\n    /**\n     *\n     * @returns {string}\n     */\n    get method() {\n        return this._method;\n    }\n    /**\n     *\n     * @param {string} value\n     */\n    set method(value) {\n        this._method = value;\n    }\n    /**\n     *\n     * @returns {Container}\n     */\n    get container() {\n        return this._container;\n    }\n    /**\n     *\n     * @param {Container} value\n     */\n    set container(value) {\n        this._container = value;\n    }\n    /**\n     * Get query string.\n     * @method query\n     * @public\n     * @return {string}\n     */\n    get query() {\n        return this._query;\n    }\n    /**\n     * Set query string.\n     * @method query\n     * @public\n     * @chainable\n     * @param value\n     */\n    set query(value) {\n        this._query = value;\n    }\n    /**\n     * Get endpoint URL.\n     * @method endpointURL\n     * @public\n     * @return {string}\n     */\n    get endpoint() {\n        return this._endpoint;\n    }\n    /**\n     * Set endpoint URL.\n     * @method endpointURL\n     * @public\n     * @chainable\n     * @example\n     *     sgvizler.endpointURL('http://sparql.dbpedia.org');\n     *   sets this Query object's endpoint to DBpedia.\n     * @param value\n     */\n    set endpoint(value) {\n        this._endpoint = value;\n    }\n    /**\n     * Get endpoint output format.\n     * @method endpointOutputFormat\n     * @public\n     * @return {string}\n     */\n    get endpointOutputFormat() {\n        return this._endpointOutputFormat;\n    }\n    /**\n     * Set endpoint output format. Legal values are `'xml'`,\n     * `'json'`, `'jsonp'`.\n     * @method endpointOutputFormat\n     * @public\n     * @chainable\n     * @param value\n     */\n    set endpointOutputFormat(value) {\n        this._endpointOutputFormat = value;\n    }\n    /**\n     * todo\n     * @returns {string}\n     */\n    get queryParameter() {\n        return this._queryParameter;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    set queryParameter(value) {\n        this._queryParameter = value;\n    }\n    sendRequest() {\n        let myRequest = this;\n        // Create new promise with the Promise() constructor;\n        // This has as its argument a function\n        // with two parameters, resolve and reject\n        return new Promise(function (resolve, reject) {\n            // Standard XHR to load an image\n            let xhr = new XMLHttpRequest();\n            let data;\n            let url = myRequest.endpoint;\n            if (myRequest.method.toLowerCase() === 'get') {\n                url += '?' + myRequest.queryParameter + '=' + encodeURIComponent(myRequest.query) +\n                    '&output=' + SparqlTools.getOutputLabel(myRequest.endpointOutputFormat);\n            }\n            else {\n                data = {\n                    query: myRequest.query,\n                    output: SparqlTools.getOutputLabel(myRequest.endpointOutputFormat)\n                };\n            }\n            xhr.open(myRequest.method, url, true);\n            xhr.setRequestHeader('Accept', SparqlTools.getHeaderAccept(myRequest.endpointOutputFormat));\n            // hide errors xhr.responseType = SparqlTools.getXMLHttpRequestResponseType(myRequest.endpointOutputFormat)\n            // TODO check progress\n            xhr.onprogress = function (oEvent) {\n                if (oEvent.lengthComputable) {\n                    let percentComplete = (oEvent.loaded / oEvent.total) * 100;\n                    console.log('onprogress' + percentComplete);\n                }\n                else {\n                    // Impossible de calculer la progression puisque la taille totale est inconnue\n                }\n            };\n            // When the request loads, check whether it was successful\n            xhr.onload = function (options) {\n                if (xhr.readyState === XMLHttpRequest.DONE) {\n                    if (xhr.status === 200) {\n                        // If successful, resolve the promise by passing back the request response\n                        resolve(JSON.parse(xhr.response));\n                    }\n                    else {\n                        // If it fails, reject the promise with a error message\n                        reject(SparqlError.getErrorMessage(xhr));\n                    }\n                }\n            };\n            xhr.onerror = function (options) {\n                // Also deal with the case when the entire request fails to begin with\n                // This is probably a network error, so reject the promise with an appropriate message\n                reject(SparqlError.getErrorMessage(xhr));\n            };\n            xhr.onabort = function () {\n                reject(SparqlError.getErrorMessage(xhr));\n            };\n            // Send the request\n            if (data) {\n                xhr.send(data);\n            }\n            else {\n                xhr.send();\n            }\n            // console.log(myRequest.query)\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVxdWVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9SZXF1ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFSCxhQUFhLEVBQ2IsV0FBVyxFQUNkLE1BQU0sYUFBYSxDQUFBO0FBQ3BCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUE7QUFFM0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBZ0NHO0FBQ0gsTUFBTTtJQWlJRjtRQTdIUSxXQUFNLEdBQVcsRUFBRSxDQUFBO1FBQ25CLGNBQVMsR0FBVyxFQUFFLENBQUE7UUFDdEIsMEJBQXFCLEdBQWtCLGFBQWEsQ0FBQyxJQUFJLENBQUE7UUFDekQsWUFBTyxHQUFHLEtBQUssQ0FBQTtRQUVmLG9CQUFlLEdBQVcsT0FBTyxDQUFBO1FBeUhyQyxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQTtJQUN2QixDQUFDO0lBekhELDBDQUEwQztJQUMxQyx3Q0FBd0M7SUFDeEMsK0JBQStCO0lBRS9COzs7T0FHRztJQUNILElBQUksTUFBTTtRQUNOLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0lBQ3ZCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFJLE1BQU0sQ0FBRSxLQUFhO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO0lBQ3hCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFJLFNBQVM7UUFDVCxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQTtJQUMxQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsSUFBSSxTQUFTLENBQUUsS0FBZ0I7UUFDM0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUE7SUFDM0IsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsSUFBSSxLQUFLO1FBQ0wsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUE7SUFDdEIsQ0FBQztJQUVEOzs7Ozs7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","import * as tslib_1 from \"tslib\";\nimport { Request, Tools, Logger, MESSAGES, SparqlTools } from '../sgvizler';\n/**\n *\n * @class sgvizler.\n * @memberof sgvizler\n */\nexport var CONTAINER_STATE;\n(function (CONTAINER_STATE) {\n    CONTAINER_STATE[CONTAINER_STATE[\"FAILED\"] = 0] = \"FAILED\";\n    CONTAINER_STATE[CONTAINER_STATE[\"LOADED\"] = 1] = \"LOADED\";\n    CONTAINER_STATE[CONTAINER_STATE[\"LOADING\"] = 2] = \"LOADING\";\n})(CONTAINER_STATE || (CONTAINER_STATE = {}));\n/**\n * Draws charts specified in HTML containers, here we call them\n * \"sgvizler-containers\".\n *\n * Example of use: The following sgvizler-container will be\n * selected by sgvizler due to the use of designated\n * attributes. The result is a pie chart (draw with\n * `google.visualization.PieChart`) showing the number of instance\n * per class in the endpoint at\n * `http://sws.ifi.uio.no/sparql/ndp`.\n *\n *     <div id=\"ex1\"\n *          data-sgvizler-endpoint=\"http://sws.ifi.uio.no/sparql/npd\"\n *          data-sgvizler-query=\"SELECT ?class (count(?instance) AS ?noOfInstances)\n *                               WHERE{ ?instance a ?class }\n *                               GROUP BY ?class\n *                               ORDER BY ?class\"\n *          data-sgvizler-chart=\"google.visualization.PieChart\"\n *          style=\"width:800px; height:400px;\"></div>\n *\n * These container must have an id attribute (or else sgvizler\n * will not know where to put the chart) and a query attribute (or\n * else the container will be ignored by sgvizler).\n *\n * Dependencies:\n *\n *  - sgvizler.util\n *  - sgvizler.loader\n *  - sgvizler.logger\n *  - sgvizler.Query\n *  - jQuery\n * @class sgvizler.Container\n * @memberof sgvizler\n */\nexport class Container {\n    /**\n     * Collects values designated for sgvizler in the given.\n     * See also property PREFIX.\n     * @param {string} elementID The ID for which the attributes should be collected.\n     */\n    constructor(elementID) {\n        this._chartOptions = '';\n        this._chartName = '';\n        this._loglevel = 0;\n        this._id = '';\n        // step 1 : read parameters and create the object Query\n        // pre-condition\n        let element = document.getElementById(elementID);\n        if (element === null) {\n            throw new Error('elementID unknown : ' + elementID);\n        }\n        let self = Container;\n        this._state = CONTAINER_STATE.LOADING;\n        let elmAttrs = element.attributes;\n        // read basic parameters\n        if (elmAttrs[self.LOG_LEVEL_ATTRIBUTE_NAME]) {\n            this._loglevel = parseInt(elmAttrs[self.LOG_LEVEL_ATTRIBUTE_NAME].value, 10);\n        }\n        if (elmAttrs[self.CHART_ATTRIBUTE_NAME]) {\n            this._chartName = elmAttrs[self.CHART_ATTRIBUTE_NAME].value;\n        }\n        if (elmAttrs[self.CHART_OPTION_ATTRIBUTE_NAME]) {\n            this._chartOptions =\n                Tools.decodeHtml(elmAttrs[self.CHART_OPTION_ATTRIBUTE_NAME].value);\n        }\n        // build request object\n        let request = new Request();\n        request.container = this;\n        this._id = elementID;\n        if (elmAttrs[self.QUERY_ATTRIBUTE_NAME]) {\n            request.query = Tools.decodeHtml(elmAttrs[self.QUERY_ATTRIBUTE_NAME].value);\n        }\n        if (elmAttrs[self.ENDPOINT_ATTRIBUTE_NAME]) {\n            request.endpoint = Tools.decodeHtml(elmAttrs[self.ENDPOINT_ATTRIBUTE_NAME].value);\n        }\n        else {\n            this._state = CONTAINER_STATE.FAILED;\n            Logger.displayFeedback(this, MESSAGES.ERROR_ENDPOINT_FORGOT);\n            return;\n        }\n        if (elmAttrs[self.OUTPUT_FORMAT_ATTRIBUTE_NAME]) {\n            request.endpointOutputFormat = SparqlTools.convertString(elmAttrs[self.OUTPUT_FORMAT_ATTRIBUTE_NAME].value);\n        }\n        if (elmAttrs[self.OUTPUT_METHOD_ATTRIBUTE_NAME]) {\n            request.method = elmAttrs[self.OUTPUT_METHOD_ATTRIBUTE_NAME].value;\n        }\n        if (elmAttrs[self.QUERY_PARAMETER_ATTRIBUTE_NAME]) {\n            request.queryParameter = elmAttrs[self.QUERY_PARAMETER_ATTRIBUTE_NAME].value;\n        }\n        this._request = request;\n        // build the chart object\n        let chart = Tools.getObjectByPath(this.chartName);\n        if (chart === undefined) {\n            this._state = CONTAINER_STATE.FAILED;\n            Logger.displayFeedback(this, MESSAGES.ERROR_CHART_UNKNOWN, [this.chartName]);\n        }\n        else {\n            chart.container = this;\n            // read with and height of container before chart options\n            try {\n                let element = $('#' + elementID);\n                let widthCss = element.css('width');\n                let heightCss = element.css('height');\n                if (widthCss !== null) {\n                    chart.width = widthCss;\n                }\n                if (heightCss !== null && heightCss !== '0px') {\n                    chart.height = heightCss;\n                }\n            }\n            catch (e) {\n                // do nothing, unit test not support jquery\n            }\n            // read options (and replace may be with and height)\n            chart.optionsRaw = this._chartOptions;\n            this._chart = chart;\n        }\n    }\n    /**\n     * Draws the sgvizler-containers with the given element id.\n     * @method containerDraw\n     * @param {string} elementID\n     * @param options\n     * @returns {Promise<void>}\n     */\n    static drawWithElementId(elementID, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let container = new Container(elementID);\n            // console.log(container)\n            Logger.log(container, 'drawing id: ' + elementID);\n            yield container.draw();\n        });\n    }\n    // noinspection JSValidateJSDoc\n    /**\n     * Draws all sgvizler-containers on page.\n     * @returns {Promise<any>}\n     */\n    static drawAll() {\n        let promisesArray = [];\n        let ids = [];\n        let iterator = document.evaluate('//div[@' + Container.PREFIX + 'query]/@id', document, null, XPathResult.ANY_TYPE, null);\n        let thisNode = iterator.iterateNext();\n        while (thisNode) {\n            ids.push(thisNode.value);\n            thisNode = iterator.iterateNext();\n        }\n        for (let id of ids) {\n            promisesArray.push(Container.drawWithElementId(id));\n        }\n        return Promise.all(promisesArray);\n    }\n    static loadDependenciesId(elementID, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let container = new Container(elementID);\n            // console.log(container)\n            Logger.log(container, 'Load dependencies id: ' + elementID);\n            yield container.loadDependencies();\n        });\n    }\n    static loadAllDependencies() {\n        let promisesArray = [];\n        let ids = [];\n        let iterator = document.evaluate('//div[@' + Container.PREFIX + 'query]/@id', document, null, XPathResult.ANY_TYPE, null);\n        let thisNode = iterator.iterateNext();\n        while (thisNode) {\n            ids.push(thisNode.value);\n            thisNode = iterator.iterateNext();\n        }\n        for (let id of ids) {\n            promisesArray.push(Container.loadDependenciesId(id));\n        }\n        return Promise.all(promisesArray);\n    }\n    /**\n     *\n     * @param {string} elementID\n     * @param {string} endpoint\n     * @param {string} query\n     * @param {string} chartName\n     * @param {string} options\n     * @param {string} loglevel\n     * @returns {string}\n     */\n    static create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter) {\n        let element = document.getElementById(elementID);\n        if (element === null) {\n            throw new Error('elementID unknown : ' + elementID);\n        }\n        let self = Container;\n        let attrQuery = document.createAttribute(self.QUERY_ATTRIBUTE_NAME);\n        let attrEndpoint = document.createAttribute(self.ENDPOINT_ATTRIBUTE_NAME);\n        let attrChart = document.createAttribute(self.CHART_ATTRIBUTE_NAME);\n        // attrQuery.value = Tools.escapeHtml(query)\n        attrQuery.value = query;\n        attrEndpoint.value = endpoint;\n        attrChart.value = chartName;\n        element.setAttributeNode(attrQuery);\n        element.setAttributeNode(attrEndpoint);\n        element.setAttributeNode(attrChart);\n        if (options) {\n            let attrOptions = document.createAttribute(self.CHART_OPTION_ATTRIBUTE_NAME);\n            attrOptions.value = options;\n            element.setAttributeNode(attrOptions);\n        }\n        if (loglevel) {\n            let attrLevel = document.createAttribute(self.LOG_LEVEL_ATTRIBUTE_NAME);\n            attrLevel.value = loglevel;\n            element.setAttributeNode(attrLevel);\n        }\n        if (output) {\n            let attrOutput = document.createAttribute(self.OUTPUT_FORMAT_ATTRIBUTE_NAME);\n            attrOutput.value = output;\n            element.setAttributeNode(attrOutput);\n        }\n        if (method) {\n            let attrMethod = document.createAttribute(self.OUTPUT_METHOD_ATTRIBUTE_NAME);\n            attrMethod.value = method;\n            element.setAttributeNode(attrMethod);\n        }\n        if (parameter) {\n            let attrQueryAttribut = document.createAttribute(self.QUERY_PARAMETER_ATTRIBUTE_NAME);\n            attrQueryAttribut.value = parameter;\n            element.setAttributeNode(attrQueryAttribut);\n        }\n        return element.innerHTML;\n    }\n    /**\n     *\n     * @returns {string}\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Get the name of chart object.\n     * @returns {string}\n     */\n    get chartName() {\n        return this._chartName;\n    }\n    ///////////////////////////////////// OPTIONS\n    /**\n     *\n     * @returns {string}\n     */\n    get chartOptions() {\n        return this._chartOptions;\n    }\n    /**\n     *\n     * @returns {Chart}\n     */\n    get chart() {\n        return this._chart;\n    }\n    /**\n     *\n     * @returns {Request}\n     */\n    get request() {\n        return this._request;\n    }\n    /**\n     *\n     * @returns {number}\n     */\n    get loglevel() {\n        return this._loglevel;\n    }\n    /**\n     *\n     * @returns {Promise<void>}\n     */\n    draw() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let sparqlResult;\n            if (this._state === CONTAINER_STATE.FAILED) {\n                return;\n            }\n            try {\n                sparqlResult = yield this.request.sendRequest();\n                // console.log(queryResult)\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_REQUEST, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n            if (this._state === CONTAINER_STATE.FAILED) {\n                return;\n            }\n            try {\n                this._chart.loadDependenciesAndDraw(sparqlResult);\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_CHART, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n        });\n    }\n    loadDependencies() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this._chart.loadDependencies();\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_DEPENDENCIES, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n        });\n    }\n}\nContainer.PREFIX = 'data-sgvizler-';\nContainer.QUERY_ATTRIBUTE_NAME = Container.PREFIX + 'query';\nContainer.ENDPOINT_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint';\nContainer.OUTPUT_FORMAT_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-output-format';\nContainer.QUERY_PARAMETER_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-query-parameter';\nContainer.OUTPUT_METHOD_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-method';\nContainer.CHART_ATTRIBUTE_NAME = Container.PREFIX + 'chart';\nContainer.CHART_OPTION_ATTRIBUTE_NAME = Container.PREFIX + 'chart-options';\nContainer.LOG_LEVEL_ATTRIBUTE_NAME = Container.PREFIX + 'log';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGFpbmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0NvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUVILE9BQU8sRUFDUCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFFBQVEsRUFDUixXQUFXLEVBRWQsTUFBTSxhQUFhLENBQUE7QUFJcEI7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLGVBSVg7QUFKRCxXQUFZLGVBQWU7SUFDdkIseURBQU0sQ0FBQTtJQUNOLHlEQUFNLENBQUE7SUFDTiwyREFBTyxDQUFBO0FBQ1gsQ0FBQyxFQUpXLGVBQWUsS0FBZixlQUFlLFFBSTFCO0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlDRztBQUNILE1BQU07SUFvQkY7Ozs7T0FJRztJQUNILFlBQWEsU0FBaUI7UUFadEIsa0JBQWEsR0FBVyxFQUFFLENBQUE7UUFDMUIsZUFBVSxHQUFXLEVBQUUsQ0FBQTtRQUN2QixjQUFTLEdBQVcsQ0FBQyxDQUFBO1FBQ3JCLFFBQUcsR0FBVyxFQUFFLENBQUE7UUFVcEIsdURBQXVEO1FBQ3ZELGdCQUFnQjtRQUNoQixJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ2hELEVBQUUsQ0FBQyxDQUFDLE9BQU8sS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLEdBQUcsU0FBUyxDQUFDLENBQUE7UUFDdkQsQ0FBQztRQUVELElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQTtRQUNwQixJQUFJLENBQUMsTUFBTSxHQUFHLGVBQWUsQ0FBQyxPQUFPLENBQUE7UUFFckMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQTtRQUVqQyx3QkFBd0I7UUFDeEIsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyx3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","/**\n * @namespace sgvizler\n */\nimport * as visualizationNS from './sgvizler/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './sgvizler/Loader';\nexport * from './sgvizler/Dependency';\nexport * from './sgvizler/SparqlError';\nexport * from './sgvizler/Select';\nexport * from './sgvizler/Messages';\nexport * from './sgvizler/Tools';\nexport * from './sgvizler/Logger';\nexport * from './sgvizler/Core';\nexport * from './sgvizler/Chart';\nexport * from './sgvizler/SparqlTools';\nexport * from './sgvizler/Request';\nexport * from './sgvizler/Container';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2d2aXpsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2d2aXpsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLDBCQUEwQixDQUFBO0FBQzNELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUE7QUFFNUMsUUFBUTtBQUVSLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyx1QkFBdUIsQ0FBQTtBQUVyQyxjQUFjLHdCQUF3QixDQUFBO0FBQ3RDLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyxxQkFBcUIsQ0FBQTtBQUNuQyxjQUFjLGtCQUFrQixDQUFBO0FBQ2hDLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyxpQkFBaUIsQ0FBQTtBQUMvQixjQUFjLGtCQUFrQixDQUFBO0FBQ2hDLGNBQWMsd0JBQXdCLENBQUE7QUFDdEMsY0FBYyxvQkFBb0IsQ0FBQTtBQUNsQyxjQUFjLHNCQUFzQixDQUFBIn0=","import { Core, Chart, MESSAGES, Logger } from '../../sgvizler';\n/**\n * Enum for tri-state values.\n * @readonly\n * @enum {number}\n */\nvar DATATABLE_COL_OPTIONS;\n(function (DATATABLE_COL_OPTIONS) {\n    DATATABLE_COL_OPTIONS[DATATABLE_COL_OPTIONS[\"TAG\"] = 0] = \"TAG\";\n    DATATABLE_COL_OPTIONS[DATATABLE_COL_OPTIONS[\"STYLE\"] = 1] = \"STYLE\";\n})(DATATABLE_COL_OPTIONS || (DATATABLE_COL_OPTIONS = {}));\n/**\n * This table uses <a href=\"https://datatables.net/\">DataTables.net</a>.\n * You can adapt each column with the option colstyle.\n *\n * @class bordercloud.visualization.DataTable\n * @memberof bordercloud.visualization\n */\nexport class DataTable extends Chart {\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/DataTables/datatables.min.css');\n        this.addCss(Core.path + '/lib/DataTables/DataTables-1.10.15/css/dataTables.bootstrap4.min.css');\n        let depDatatables = this.addScript(Core.path + '/lib/DataTables/datatables.min.js');\n        this.addScript(Core.path + '/lib/DataTables/DataTables-1.10.15/js/dataTables.bootstrap4.js', depDatatables);\n        this.addScript(Core.path + '/lib/DataTables/Buttons-1.4.0/js/dataTables.buttons.js', depDatatables);\n    }\n    /**\n     * This function parses colStyle option and build the parameter ColumnDef of DataTable\n     * Example :\n     * \"colStyle=col2_img_max-width:250px;col2_img_border-radius:50%;col2_img_display:block;col2_img_margin:auto;col3_img_max-width:300px;col3_img_max-height:300px;col2_img_opacity:0.5\"\n     *\n     * @param {string} codeStyle\n     * @param {number} noCols\n     * @returns {Array<any>}\n     */\n    static buildColumnDefs(codeStyle, noCols) {\n        // noinspection Annotator\n        let regex = / *col([1-9]+)\\_([a-zA-Z]+)\\_([^=;\\n]*) */ig;\n        let m;\n        let datasetColumnsDefs = [];\n        let datasetColumnsFunc;\n        let colOptions = [];\n        let optionCol;\n        // init\n        for (let c = 0; c < noCols; c++) {\n            colOptions[c] = [];\n            colOptions[c][DATATABLE_COL_OPTIONS.TAG] = '';\n            colOptions[c][DATATABLE_COL_OPTIONS.STYLE] = '';\n        }\n        // noinspection TsLint\n        while ((m = regex.exec(codeStyle)) !== null) {\n            // This is necessary to avoid infinite loops with zero-width matches\n            if (m.index === regex.lastIndex) {\n                regex.lastIndex++;\n            }\n            optionCol = parseInt(m[1], 10) - 1;\n            colOptions[optionCol][DATATABLE_COL_OPTIONS.TAG] = m[2];\n            colOptions[optionCol][DATATABLE_COL_OPTIONS.STYLE] += m[3] + ';';\n        }\n        for (let c = 0; c < noCols; c++) {\n            switch (colOptions[c][DATATABLE_COL_OPTIONS.TAG]) {\n                case 'img':\n                    datasetColumnsFunc = this.getFunctionColumnDefImg(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                case 'span':\n                    datasetColumnsFunc = this.getFunctionColumnDefSpan(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                default:\n                    datasetColumnsFunc = this.getFunctionColumnDefDefault();\n            }\n            // noinspection TsLint\n            datasetColumnsDefs[c] = {\n                'targets': c,\n                // \"data\": \"description\",\n                'render': datasetColumnsFunc\n            };\n        }\n        return datasetColumnsDefs;\n    }\n    static getFunctionColumnDefDefault() {\n        return (function (data, type, full, meta) {\n            return data;\n        });\n    }\n    static getFunctionColumnDefImg(style) {\n        return (function (data, type, full, meta) {\n            return '<img src=\"' + data + '\"  style=\"' + style + '\"\\>';\n        });\n    }\n    static getFunctionColumnDefSpan(style) {\n        return (function (data, type, full, meta) {\n            return '<span style=\"' + style + '\"\\>' + data + '</span>';\n        });\n    }\n    get icon() {\n        return 'fa-table';\n    }\n    get label() {\n        return 'DataTable';\n    }\n    get subtext() {\n        return 'DataTable';\n    }\n    get classFullName() {\n        return 'bordercloud.visualization.DataTable';\n    }\n    get tutorialFilename() {\n        return 'tutorial-bordercloud_visualization_DataTable.html';\n    }\n    /**\n     * Draw a chart\n     * Available options:\n     * - 'class' :  css class (default: \"table table-striped table-bordered\")\n     * - 'cellspacing'   : cellspacing of table  (default: \"0\")\n     * - 'width'   :  width (default: \"100%\")\n     * - 'colStyle'   :   (default: \"\")\n     *\n     * Example :\n     * \"colStyle=col2_img_max-width:250px;col2_img_border-radius:50%;col2_img_display:block;col2_img_margin:auto;col3_img_max-width:300px;col3_img_max-height:300px;col2_img_opacity:0.5\"\n     *\n     * @param {SparqlResultInterface} result\n     * @returns {Promise< any >}\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // precondition\n            let obj = document.getElementById(currentChart.container.id);\n            if (!obj) {\n                Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART_UNKNOWN, [currentChart.container.id]);\n                return resolve();\n            }\n            try {\n                let cols = result.head.vars;\n                let rows = result.results.bindings;\n                let row;\n                let datasetRow;\n                let noCols = cols.length;\n                let noRows = rows.length;\n                let idChart = currentChart.container.id + '-datatable';\n                let datasetColumns = [];\n                let datasetColumnsDefs;\n                let dataset = [];\n                let tableElement = document.createElement('table');\n                let tableId = document.createAttribute('id');\n                let tableClass = document.createAttribute('class');\n                let tableCellSpacing = document.createAttribute('cellspacing');\n                let tableWidth = document.createAttribute('width');\n                let opt = Object.assign({\n                    'class': 'table table-striped table-bordered',\n                    'cellspacing': '0',\n                    'width': '100%',\n                    'colstyle': undefined\n                }, currentChart.options);\n                for (let c = 0; c < noCols; c++) {\n                    datasetColumns[c] = { title: cols[c] };\n                }\n                if (opt.colstyle !== undefined) {\n                    datasetColumnsDefs = DataTable.buildColumnDefs(opt.colstyle, noCols);\n                }\n                for (let r = 0; r < noRows; r++) {\n                    row = rows[r];\n                    datasetRow = [];\n                    // loop cells\n                    for (let c = 0; c < noCols; c += 1) {\n                        datasetRow[c] = row[cols[c]] !== undefined ? row[cols[c]].value : '';\n                    }\n                    dataset[r] = datasetRow;\n                }\n                tableId.value = idChart;\n                tableClass.value = opt.class;\n                tableCellSpacing.value = opt.cellspacing;\n                tableWidth.value = opt.width;\n                tableElement.setAttributeNode(tableId);\n                tableElement.setAttributeNode(tableClass);\n                tableElement.setAttributeNode(tableCellSpacing);\n                tableElement.setAttributeNode(tableWidth);\n                obj.appendChild(tableElement);\n                $('#' + idChart).DataTable({\n                    data: dataset,\n                    columns: datasetColumns,\n                    columnDefs: datasetColumnsDefs,\n                    dom: 'Bfrtip',\n                    buttons: [\n                        'csv',\n                        'pdf',\n                        'print'\n                    ]\n                });\n            }\n            catch (e) {\n                return reject(e);\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YVRhYmxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2JvcmRlcmNsb3VkL3Zpc3VhbGl6YXRpb24vRGF0YVRhYmxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxJQUFJLEVBQ0osS0FBSyxFQUVMLFFBQVEsRUFDUixNQUFNLEVBQ1QsTUFBTSxnQkFBZ0IsQ0FBQTtBQUl2Qjs7OztHQUlHO0FBQ0gsSUFBSyxxQkFHSjtBQUhELFdBQUsscUJBQXFCO0lBQ3RCLCtEQUFHLENBQUE7SUFDSCxtRUFBSyxDQUFBO0FBQ1QsQ0FBQyxFQUhJLHFCQUFxQixLQUFyQixxQkFBcUIsUUFHekI7QUFFRDs7Ozs7O0dBTUc7QUFDSCxNQUFNLGdCQUFpQixTQUFRLEtBQUs7SUFFaEM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUVQLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxvQ0FBb0MsQ0FBQyxDQUFBO1FBQzdELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxzRUFBc0UsQ0FBQyxDQUFBO1FBQy9GLElBQUksYUFBYSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxtQ0FBbUMsQ0FBQyxDQUFBO1FBQ25GLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxnRUFBZ0UsRUFBQyxhQUFhLENBQUMsQ0FBQTtRQUUxRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsd0RBQXdELEVBQUMsYUFBYSxDQUFDLENBQUE7SUFFdEcsQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ0ssTUFBTSxDQUFDLGVBQWUsQ0FBRSxTQUFpQixFQUFDLE1BQWM7UUFDNUQseUJBQXlCO1FBQ3pCLElBQUksS0FBSyxHQUFHLDRDQUE0QyxDQUFBO1FBQ3hELElBQUksQ0FBQyxDQUFBO1FBQ0wsSUFBSSxr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","/**\n * @namespace bordercloud\n */\nimport * as visualizationNS from './bordercloud/visualization';\nexport const visualization = visualizationNS;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9yZGVyY2xvdWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYm9yZGVyY2xvdWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLDZCQUE2QixDQUFBO0FBQzlELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUEifQ==","/**\n * Todo Table\n * @class google.visualization.Table\n * @tutorial google_visualization_Table\n * @memberof google.visualization\n */\nexport class Data {\n    constructor(result) {\n        let data = new google.visualization.DataTable();\n        let cols = result.head.vars;\n        let rows = result.results.bindings;\n        let noCols = cols.length;\n        let noRows = rows.length;\n        for (let col of cols) {\n            // RDF Term\tJSON form\n            // IRI I\t{\"type\": \"uri\", \"value\": \"I\"}\n            // Literal S\t{\"type\": \"literal\",\"value\": \"S\"}\n            // Literal S with language tag L\t{ \"type\": \"literal\", \"value\": \"S\", \"xml:lang\": \"L\"}\n            // Literal S with datatype IRI D\t{ \"type\": \"literal\", \"value\": \"S\", \"datatype\": \"D\"}\n            // Blank node, label B\t{\"type\": \"bnode\", \"value\": \"B\"}\n            if (noRows > 0) {\n                let type = rows[0][col].datatype;\n                if (type === 'http://www.w3.org/2001/XMLSchema#decimal' ||\n                    type === 'http://www.w3.org/2001/XMLSchema#integer') {\n                    data.addColumn('number', col);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#boolean') {\n                    data.addColumn('boolean', col);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#date') {\n                    data.addColumn('date', col);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#dateTime') {\n                    data.addColumn('datetime', col);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#time') {\n                    data.addColumn('timeofday', col);\n                }\n                else {\n                    data.addColumn('string', col);\n                }\n            }\n            else {\n                data.addColumn('string', col);\n            }\n        }\n        data.addRows(noRows);\n        let i = 0;\n        for (let x = 0; x < noRows; x++) {\n            for (let y = 0; y < noCols; y++) {\n                data.setCell(x, y, rows[x][cols[y]].value);\n                let type = rows[0][cols[y]].datatype;\n                if (type === 'http://www.w3.org/2001/XMLSchema#decimal') {\n                    // 'number' - JavaScript number value. Example values: v:7 , v:3.14, v:-55\n                    data.setCell(x, y, parseFloat(rows[x][cols[y]].value));\n                    // todo... ?\n                    // data.setCell(0, 1, 10000, '$10,000');\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#integer') {\n                    // todo test\n                    // 'number' - JavaScript number value. Example values: v:7 , v:3.14, v:-55\n                    data.setCell(x, y, parseInt(rows[x][cols[y]].value, 10));\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#boolean') {\n                    // todo test\n                    // 'boolean' - JavaScript boolean value ('true' or 'false'). Example value: v:'true'\n                    data.setCell(x, y, rows[x][cols[y]].value === 'true' ? true : false);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#date') {\n                    // todo test\n                    // 'date' - JavaScript Date object (zero-based month), with the time truncated. Example value: v:new Date(2008, 0, 15)\n                    data.setCell(x, y, Date.parse(rows[x][cols[y]].value));\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#dateTime') {\n                    // todo test\n                    // 'datetime' - JavaScript Date object including the time. Example value: v:new Date(2008, 0, 15, 14, 30, 45)\n                    data.setCell(x, y, Date.parse(rows[x][cols[y]].value));\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#time') {\n                    // todo test\n                    // 'timeofday' - Array of three numbers and an optional fourth, representing hour (0 indicates midnight), minute, second, and optional millisecond. Example values: v:[8, 15, 0], v: [6, 12, 1, 144]\n                    let time = Date.parse(rows[x][cols[y]].value);\n                    data.setCell(x, y, [time.getHours(), time.getHours(), time.getSeconds(), time.getMilliseconds()]);\n                }\n                else {\n                    // 'string' - JavaScript string value. Example value: v:'hello'\n                    data.setCell(x, y, rows[x][cols[y]].value);\n                }\n                // console.log('rows['+x+'][cols['+y+']].value = ' + rows[x][cols[y]].value + ' ' +\n                // rows[x][cols[y]].datatype)\n            }\n        }\n        this._dataTable = data;\n    }\n    getDataTable() {\n        return this._dataTable;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9EYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1BOzs7OztHQUtHO0FBQ0gsTUFBTTtJQUlGLFlBQWEsTUFBNkI7UUFDdEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxDQUFBO1FBRS9DLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFBO1FBQzNCLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFBO1FBQ2xDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7UUFDeEIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtRQUV4QixHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25CLHFCQUFxQjtZQUNyQixzQ0FBc0M7WUFDdEMsNkNBQTZDO1lBQzdDLG9GQUFvRjtZQUNwRixvRkFBb0Y7WUFDcEYsc0RBQXNEO1lBQ3RELEVBQUUsQ0FBQyxDQUFFLE1BQU0sR0FBRyxDQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNmLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUE7Z0JBQ2hDLEVBQUUsQ0FBQyxDQUFDLElBQUksS0FBSywwQ0FBMEM7b0JBQ25ELElBQUksS0FBSywwQ0FBMEMsQ0FBQyxDQUFDLENBQUM7b0JBQ3RELElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2dCQUNqQyxDQUFDO2dCQUFBLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEtBQUssMENBQTBDLENBQUMsQ0FBQyxDQUFDO29CQUM1RCxJQUFJLENBQUMsU0FBUyxDQUFD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","import { Chart } from '../../sgvizler';\nimport { Data } from './Data';\n/**\n * Todo Table\n * @class google.visualization.Table\n * @tutorial google_visualization_Table\n * @memberof google.visualization\n */\nexport class Table extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['table'] });\n        Table._isInit = true;\n    }\n    get icon() {\n        return 'fa-table';\n    }\n    get label() {\n        return 'Table';\n    }\n    get subtext() {\n        return 'Table';\n    }\n    get classFullName() {\n        return 'google.visualization.Table';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Table.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = '100%';\n            if (currentChart.height !== '') {\n                height = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: height\n            }, currentChart.options);\n            if (!Table._isInit) {\n                Table.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                let data = new Data(result);\n                let table = new google.visualization.Table(document.getElementById(currentChart.container.id));\n                table.draw(data.getDataTable(), currentChart.options);\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTable._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vVGFibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFFUixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUE7QUFLN0I7Ozs7O0dBS0c7QUFDSCxNQUFNLFlBQWEsU0FBUSxLQUFLO0lBRzVCO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ3RELEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsT0FBTyxDQUFBO0lBQ2xCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsT0FBTyxDQUFBO0lBQ2xCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLDRCQUE0QixDQUFBO0lBQ3ZDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsMENBQTBDLENBQUE7SUFDckQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFBO1lBQ25CLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUE7WUFDaEMsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGFBQWEsRUFBRSxLQUFLO2dCQUNwQixLQUFLLEVBQUUsWUFBWSxDQUFDLEtBQUs7Z0JBQ3pCLE1BQU0sRUFBRSxNQUFNO2FBQ2pCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLEVBQUUsQ0FBQyxDQUFDLENBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQTtZQUNoQixDQUFDO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0I7Z0JBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7Z0JBRTNCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7Z0JBRTlGLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUN6RCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQXpFYyxhQUFPLEdBQVksS0FBSyxDQUFBIn0=","/**\n * Todo API\n * @class google.API\n * @memberof google\n */\nexport class API {\n    /**\n     * todo\n     * @returns {string}\n     */\n    static get key() {\n        return this._key;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    static set key(value) {\n        this._key = value;\n    }\n}\n/**\n * todo\n * @type {string}\n * @private\n */\nAPI._key = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVBJLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2dvb2dsZS9BUEkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU07SUFDRjs7O09BR0c7SUFDSCxNQUFNLEtBQUssR0FBRztRQUNWLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFBO0lBQ3BCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxNQUFNLEtBQUssR0FBRyxDQUFFLEtBQWE7UUFDekIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUE7SUFDckIsQ0FBQzs7QUFFRDs7OztHQUlHO0FBQ1ksUUFBSSxHQUFXLEVBQUUsQ0FBQSJ9","import { Chart } from '../../sgvizler';\nimport { Data } from './Data';\nimport { API } from '../API';\n/**\n * Todo Table\n * @class google.visualization.Map\n * @tutorial google_visualization_Map\n * @memberof google.visualization\n */\nexport class Map extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['map'], mapsApiKey: API.key });\n        Map._isInit = true;\n    }\n    get icon() {\n        return 'fa-map';\n    }\n    get label() {\n        return 'Map';\n    }\n    get subtext() {\n        return 'Map';\n    }\n    get classFullName() {\n        return 'google.visualization.Map';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Map.html';\n    }\n    /**\n     * Make a Google map\n     * todo\n     * @memberOf Map\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = '100%';\n            if (currentChart.height !== '') {\n                height = currentChart.height;\n            }\n            let opt = Object.assign({\n                width: currentChart.width,\n                height: height,\n                showTooltip: true,\n                showInfoWindow: true\n            }, currentChart.options);\n            // fix bug in local\n            if (location.origin.startsWith('file:')) {\n                opt = Object.assign({\n                    icons: {\n                        default: {\n                            normal: 'https://maps.google.com/mapfiles/ms/micons/red-dot.png',\n                            selected: 'https://maps.google.com/mapfiles/ms/micons/blue-dot.png'\n                        }\n                    }\n                }, opt);\n            }\n            // init only one time\n            if (!Map._isInit) {\n                Map.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                let data = new Data(result);\n                let table = new google.visualization.Map(document.getElementById(currentChart.container.id));\n                table.draw(data.getDataTable(), opt);\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nMap._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL01hcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUVSLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFFBQVEsQ0FBQTtBQUM3QixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBSTVCOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFXLFNBQVEsS0FBSztJQUcxQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFHLFVBQVUsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQTtRQUMzRSxHQUFHLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsTUFBTSxDQUFDLFFBQVEsQ0FBQTtJQUNuQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsTUFBTSxDQUFDLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQTtJQUNyQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsTUFBTSxDQUFDLHdDQUF3QyxDQUFBO0lBQ25ELENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQTtZQUNuQixFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLE1BQU0sR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFBO1lBQ2hDLENBQUM7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixLQUFLLEVBQUUsWUFBWSxDQUFDLEtBQUs7Z0JBQ3pCLE1BQU0sRUFBRSxNQUFNO2dCQUNkLFdBQVcsRUFBRSxJQUFJO2dCQUNqQixjQUFjLEVBQUUsSUFBSTthQUN2QixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixtQkFBbUI7WUFDbkIsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztvQkFDaEIsS0FBSyxFQUFFO3dCQUNILE9BQU8sRUFBRTs0QkFDTCxNQUFNLEVBQUUsd0RBQXdEOzRCQUNoRSxRQUFRLEVBQUUseURBQXlEO3lCQUN0RTtxQkFDSjtpQkFDSixFQUFFLEdBQUcsQ0FBQyxDQUFBO1lBQ1gsQ0FBQztZQUVELHFCQUFxQjtZQUNyQixFQUFFLENBQUMsQ0FBQyxDQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUNoQixHQUFHLENBQUMsSUFBSSxFQUFFLENBQUE7WUFDZCxDQUFDO1lBRUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0I7Z0JBQ0csSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7Z0JBQzNCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7Z0JBQzVGLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO1lBQ3hDLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBakZjLFdBQU8sR0FBWSxLQUFLLENBQUEifQ==","/**\n * @namespace google\n */\nimport * as visualizationNS from './google/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './google/API';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vZ2xlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dvb2dsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE9BQU8sS0FBSyxlQUFlLE1BQU0sd0JBQXdCLENBQUE7QUFDekQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLGVBQWUsQ0FBQTtBQUU1QyxRQUFRO0FBQ1IsY0FBYyxjQUFjLENBQUEifQ==","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo Pie\n * @class d3.visualization.Pie\n * @tutorial d3_visualization_Pie\n * @memberof d3.visualization\n */\nexport class Pie extends Chart {\n    get icon() {\n        return 'fa-pie-chart';\n    }\n    get label() {\n        return 'Pie';\n    }\n    get subtext() {\n        return 'Pie';\n    }\n    get classFullName() {\n        return 'd3.visualization.Pie';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_Pie.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/d3/d3.css');\n        let dep = this.addScript(Core.path + '/lib/d3/d3.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            // console.log(data)\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let radius = Math.min(width, height) / 2;\n                svg = svg.append('g') // make a group to hold our pie chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n                // var donutWidth = 75;\n                let legendRectSize = 18;\n                let legendSpacing = 4;\n                let color = d3.scaleOrdinal(d3.schemeCategory10);\n                let arc = d3.arc()\n                    .innerRadius(0)\n                    .outerRadius(radius);\n                let pie = d3.pie()\n                    .value(function (d) { return d.count; })\n                    .sort(null);\n                let path = svg.selectAll('path')\n                    .data(pie(dataset))\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d, i) {\n                    return color(d.data.label);\n                });\n                // Todo limit nb (look pie chart of Google)\n                let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d, i) {\n                    let height = legendRectSize + legendSpacing;\n                    let offset = height * color.domain().length / 2;\n                    let horz = -2 * legendRectSize;\n                    let vert = i * height - offset;\n                    return 'translate(' + (horz + radius * 2 + 20) + ',' + vert + ')';\n                });\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color);\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d) { return d; });\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGllLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vUGllLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBRUwsTUFBTSxFQUNOLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFXLFNBQVEsS0FBSztJQUUxQixJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLHNCQUFzQixDQUFBO0lBQ2pDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsb0NBQW9DLENBQUE7SUFDL0MsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQTtRQUN6QyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsZUFBZSxDQUFDLENBQUE7SUFDekQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFBO1lBQ3RCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztn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","/**\n * @namespace d3\n */\nimport * as visualizationNS from './d3/visualization';\nexport const visualization = visualizationNS;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZDMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLG9CQUFvQixDQUFBO0FBQ3JELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUEifQ==","/**\n * Todo API\n * @class leaflet.API\n * @memberof google\n */\nexport class API {\n    static get osmAccessToken() {\n        return this._osmAccessToken;\n    }\n    static set osmAccessToken(value) {\n        this._osmAccessToken = value;\n    }\n}\n/**\n * todo\n * @type {string}\n * @private\n */\nAPI._osmAccessToken = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVBJLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xlYWZsZXQvQVBJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNO0lBQ0YsTUFBTSxLQUFLLGNBQWM7UUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUE7SUFDL0IsQ0FBQztJQUVELE1BQU0sS0FBSyxjQUFjLENBQUUsS0FBYTtRQUNwQyxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQTtJQUNoQyxDQUFDOztBQUVEOzs7O0dBSUc7QUFDWSxtQkFBZSxHQUFXLEVBQUUsQ0FBQSJ9","import { Chart, Core } from '../../sgvizler';\nimport { API } from '../API';\n/**\n * Todo Table\n * @class leaflet.visualization.Map\n * @tutorial leaflet_visualization_Map\n * @memberof leaflet.visualization\n */\nexport class Map extends Chart {\n    get icon() {\n        return 'fa-map';\n    }\n    get label() {\n        return 'Map';\n    }\n    get subtext() {\n        return 'Map';\n    }\n    get classFullName() {\n        return 'leaflet.visualization.Map';\n    }\n    get tutorialFilename() {\n        return 'tutorial-leaflet_visualization_Map.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/leaflet/leaflet.css');\n        this.addCss(Core.path + '/lib/leaflet/MarkerCluster.Default.css');\n        let dep = this.addScript(Core.path + '/lib/leaflet/leaflet-src.js');\n        this.addScript(Core.path + '/lib/leaflet/leaflet.markercluster-src.js', dep);\n    }\n    /**\n     * Make a Google map\n     * todo\n     * @memberOf Map\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let messageError = '';\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let map;\n            let height = '180px';\n            let idChart = currentChart.container.id + '-leaflet';\n            let element = document.getElementById(currentChart.container.id);\n            let markerArray = []; // create new markers array\n            let group;\n            let markers;\n            let marker;\n            let lat;\n            let long;\n            if (currentChart.height !== '') {\n                height = currentChart.height;\n            }\n            let opt = Object.assign({\n                width: currentChart.width,\n                height: height,\n                showTooltip: true,\n                showInfoWindow: true\n            }, currentChart.options);\n            if (element) {\n                element.innerHTML = \"<div id='\" + idChart + \"' style='width: \" + opt.width + '; height: ' + opt.height + \";'></div>\";\n                let osmLayer = new L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n                    attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery  <a href=\"http://mapbox.com\">Mapbox</a>',\n                    maxZoom: 18,\n                    id: 'mapbox.streets',\n                    accessToken: API.osmAccessToken\n                });\n                map = L.map(idChart, { zoom: 13, layers: [osmLayer] });\n                // todo insert option\n                markers = L.markerClusterGroup({\n                    chunkedLoading: true,\n                    spiderfyOnMaxZoom: true,\n                    showCoverageOnHover: true,\n                    zoomToBoundsOnClick: true\n                });\n                if (noCols <= 2) {\n                    messageError = 'Parameters : latitude(xsd:Decimal) longitude(xsd:Decimal) title(xsd:string' +\n                        ' optional) introduction(xsd:string optional) link(IRI optional)';\n                }\n                else {\n                    for (let row of rows) {\n                        lat = parseFloat(row[cols[0]].value);\n                        long = parseFloat(row[cols[1]].value);\n                        if (isNaN(lat) || isNaN(long)) {\n                            messageError = 'Latitude or longitude is not a decimal. Parameters of chart :' +\n                                ' latitude(xsd:Decimal)' +\n                                ' longitude(xsd:Decimal) title(xsd:string' +\n                                ' optional) introduction(xsd:string optional) link(IRI optional). ';\n                            break;\n                        }\n                        if (noCols >= 6) {\n                            // latitude longitude title text link\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            let text = row[cols[3]] !== undefined ? row[cols[3]].value : '';\n                            let link = row[cols[4]] !== undefined ? \"<a href='\" + row[cols[4]].value + \"' target='_blank'>\" + title + '</a>' : title;\n                            let img = row[cols[5]] !== undefined ? \"<img src='\" + row[cols[5]].value + \"' style='max-width:150px;height:150px;float:right;'/>\" : '';\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<div style=\"display: flow-root;\"><b>' + link + '</b>' + img + '<br/>' + text + '</div>');\n                        }\n                        else if (noCols === 5) {\n                            // latitude longitude title introduction link\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            let text = row[cols[3]] !== undefined ? row[cols[3]].value : '';\n                            let link = row[cols[4]] !== undefined ? \"<a href='\" + row[cols[4]].value + \"'>\" + title + '</a>' : title;\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<b>' + link + '</b><br/>' + text);\n                        }\n                        else if (noCols === 4) {\n                            // latitude longitude title introduction\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            let text = row[cols[3]] !== undefined ? row[cols[3]].value : '';\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<b>' + title + '</b><br/>' + text);\n                        }\n                        else if (noCols === 3) {\n                            // latitude longitude title\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<b>' + title + '</b>');\n                        }\n                        else if (noCols === 2) {\n                            // latitude longitude\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.addTo(map);\n                        }\n                        markers.addLayer(marker);\n                        markerArray.push(marker);\n                    }\n                }\n                if (messageError !== '') {\n                    return reject(Error(messageError));\n                }\n                map.addLayer(markers);\n                // zoom on the markers\n                group = L.featureGroup(markerArray);\n                map.fitBounds(group.getBounds());\n                // finish\n                return resolve();\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xlYWZsZXQvdmlzdWFsaXphdGlvbi9NYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxJQUFJLEVBQ1AsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBVzVCOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFXLFNBQVEsS0FBSztJQUUxQixJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsUUFBUSxDQUFBO0lBQ25CLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLDJCQUEyQixDQUFBO0lBQ3RDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMseUNBQXlDLENBQUE7SUFDcEQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsMEJBQTBCLENBQUMsQ0FBQTtRQUNuRCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsd0NBQXdDLENBQUMsQ0FBQTtRQUVqRSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsNkJBQTZCLENBQUMsQ0FBQTtRQUNuRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsMkNBQTJDLEVBQUMsR0FBRyxDQUFDLENBQUE7SUFDL0UsQ0FBQztJQUNEOzs7Ozs7T0FNRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENB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QUMsTUFBTSxDQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTs0QkFDbkYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxzQ0FBc0MsR0FBRyxJQUFJLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxPQUFPLEdBQUcsSUFBSSxHQUFHLFFBQVEsQ0FBQyxDQUFBO3dCQUM5RyxDQUFDO3dCQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDdEIsNkNBQTZDOzRCQUM3QyxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFBOzRCQUNoRSxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFBOzRCQUMvRCxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxHQUFHLFdBQVcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQTs0QkFFeEcsTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLFVBQVUsQ0FB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","/**\n * @namespace leaflet\n */\nimport * as visualizationNS from './leaflet/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './leaflet/API';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVhZmxldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sZWFmbGV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBQ0gsT0FBTyxLQUFLLGVBQWUsTUFBTSx5QkFBeUIsQ0FBQTtBQUMxRCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsZUFBZSxDQUFBO0FBRTVDLFFBQVE7QUFDUixjQUFjLGVBQWUsQ0FBQSJ9"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","throw","result","done","then","apply","containerLoadAll","S.Container","loadAllDependencies","readOptions","options","google","API","key","googleApiKey","leaflet","osmAccessToken","S.Core","path","containerDraw","elementID","drawWithElementId","containerDrawAll","drawAll","selectDraw","S.Select","selectDrawAll","getChartDoc","className","pathDoc","create","endpoint","query","chartName","loglevel","output","method","parameter","CHART_PATTERN_OPTIONS","Chart","[object Object]","this","_tabDependences","_patternOptions","EMPTY","_width","_height","_optionsRaw","_class","_style","_isDone","currentThis","Loader","on","container","isLoadedAllDependencies","_resultSparql","doDraw","tslib_1.__awaiter","Logger","log","id","loadDependencies","promisesArray","dep","push","load","all","patternOptions","classHtml","style","_container","optionsRaw","doParseOptionsRaw","height","width","html","opts","CLASS","Object","keys","map","property","join","STYLE","url","loadBefore","ScriptDependency","CssDependency","isLoaded","draw","valeur","error","console","displayFeedback","MESSAGES","ERROR_CHART","ERROR_DATA_EMPTY","patternOption","typePattern","matchArray","raw","exec","trim","patternStyle","patternClass","patternWiki","UNKNOWN","indexOf","execPattern","WIKI","VARIABLE","i","ERROR_CHART_PATTERN_OPTION_UNKNOWN","undefined","Table","icon","label","subtext","classFullName","tutorialFilename","super","currentChart","opt","assign","headings","cols","head","vars","rows","results","bindings","length","getHTMLStyleOrClass","col","row","obj","document","getElementById","innerHTML","event","fn","_listCallEvent","srcScript","evaluate","XPathResult","STRING_TYPE","stringValue","match","_pathScripts","_load","_loaded","loadScript","loadCss","call","len","_dependenciesToLoad","splice","endDownload","isLoad","logSimple","getElementsByTagName","script","createElement","type","src","getAbsoluteURL","onload","callBack","checkDependenciesToLoad","fireEvent","appendChild","link","rel","href","Dependency","startDownload","SparqlError","xhr","errorWikidata","response","Select","element","nodesOption","getSelectOptions","node","cloneNode","nodesSnapshot","CLASS_NAME","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength","snapshotItem","chartClass","Tools","getObjectByPath","Core","DOCPATH","nodeOption","nodeOptgroup","attrLabel","attrValue","attrIcon","attrSub","attrSelected","nodes","classSelected","selected","classOfChartSelectedByDefault","optgroup","charts","createAttribute","setAttributeNode","chart","text","Messages","args","message","ERROR_CHART_UNKNOWN","ERROR_REQUEST","ERROR_DEPENDENCIES","ERROR_ENDPOINT_FORGOT","replace","object","segments","split","cursor","sgvizler2","window","str","buf","unshift","charCodeAt","dec","String","fromCharCode","elapsedTime","messageName","S.Messages","get","Date","now","_startTime","_path","VERSION","HOMEPAGE","SPARQL_RESULT","SparqlTools","xml","json","jsonp","Request","_query","_endpoint","_endpointOutputFormat","_method","_queryParameter","listeners","endpointOutputFormat","queryParameter","myRequest","data","XMLHttpRequest","toLowerCase","encodeURIComponent","getOutputLabel","open","setRequestHeader","getHeaderAccept","onprogress","oEvent","lengthComputable","percentComplete","loaded","total","readyState","DONE","status","JSON","parse","getErrorMessage","onerror","onabort","send","CONTAINER_STATE","Container","_chartOptions","_chartName","_loglevel","_id","Error","self","_state","LOADING","elmAttrs","attributes","LOG_LEVEL_ATTRIBUTE_NAME","parseInt","CHART_ATTRIBUTE_NAME","CHART_OPTION_ATTRIBUTE_NAME","decodeHtml","request","QUERY_ATTRIBUTE_NAME","ENDPOINT_ATTRIBUTE_NAME","FAILED","OUTPUT_FORMAT_ATTRIBUTE_NAME","convertString","OUTPUT_METHOD_ATTRIBUTE_NAME","QUERY_PARAMETER_ATTRIBUTE_NAME","_request","$","widthCss","css","heightCss","_chart","ids","iterator","PREFIX","ANY_TYPE","thisNode","iterateNext","loadDependenciesId","attrQuery","attrEndpoint","attrChart","attrOptions","attrLevel","attrOutput","attrMethod","attrQueryAttribut","chartOptions","sparqlResult","sendRequest","loadDependenciesAndDraw","visualization","visualizationNS","DATATABLE_COL_OPTIONS","DataTable","addCss","depDatatables","addScript","codeStyle","noCols","m","datasetColumnsFunc","optionCol","regex","datasetColumnsDefs","colOptions","c","TAG","index","lastIndex","getFunctionColumnDefImg","getFunctionColumnDefSpan","getFunctionColumnDefDefault","targets","render","full","meta","datasetRow","noRows","idChart","datasetColumns","dataset","tableElement","tableId","tableClass","tableCellSpacing","tableWidth","class","cellspacing","colstyle","title","buildColumnDefs","r","columns","columnDefs","dom","buttons","Data","datatype","addColumn","addRows","x","y","setCell","parseFloat","time","getHours","getSeconds","getMilliseconds","_dataTable","packages","_isInit","showRowNumber","init","setOnLoadCallback","getDataTable","_key","Map","mapsApiKey","showTooltip","showInfoWindow","location","origin","startsWith","icons","default","normal","Pie","heightOpt","counter","Number","count","containerElement","d3","select","containerElementNode","clientWidth","clientHeight","svg","append","attr","radius","Math","min","color","scaleOrdinal","schemeCategory10","arc","innerRadius","outerRadius","pie","d","sort","legend","selectAll","enter","domain","offset","legendRectSize","_osmAccessToken","group","markers","marker","lat","long","messageError","markerArray","osmLayer","L","tileLayer","attribution","maxZoom","accessToken","zoom","layers","markerClusterGroup","chunkedLoading","spiderfyOnMaxZoom","showCoverageOnHover","zoomToBoundsOnClick","isNaN","img","bindPopup","addTo","addLayer","featureGroup","fitBounds","getBounds","sgvizler","S","bordercloud","bordercloudNS","googleNS","d3NS","jqueryProxy.prototype","extend","selectchart","param","option","$this","action","each","containerchart","S.Loader","detectRoot"],"mappings":"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"}