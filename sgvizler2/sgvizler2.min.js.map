{"version":3,"file":"sgvizler2.min.js","sources":["../../node_modules/tslib/tslib.es6.js","../module/sgvizler/Chart.js","../module/sgvizler/visualization/Table.js","../module/sgvizler/Loader.js","../module/sgvizler/Dependency.js","../module/sgvizler/SparqlError.js","../module/sgvizler/Select.js","../module/sgvizler/Messages.js","../module/sgvizler/Tools.js","../module/sgvizler/Logger.js","../module/sgvizler/Core.js","../module/sgvizler/SparqlTools.js","../module/sgvizler/Request.js","../module/sgvizler/Container.js","../module/sgvizler.js","../module/bordercloud/visualization/DataTable.js","../module/bordercloud.js","../module/google/Tools.js","../module/google/Data.js","../module/google/visualization/AnnotationChart.js","../module/google/visualization/AreaChart.js","../module/google/visualization/BarChart.js","../module/google/visualization/BubbleChart.js","../module/google/visualization/Calendar.js","../module/google/visualization/CandlestickChart.js","../module/google/visualization/ColumnChart.js","../module/google/visualization/ComboChart.js","../module/google/API.js","../module/google/visualization/GeoChart.js","../module/google/visualization/Histogram.js","../module/google/visualization/IntervalChart.js","../module/google/visualization/LineChart.js","../module/google/visualization/Map.js","../module/google/visualization/OrgChart.js","../module/google/visualization/Pie.js","../module/google/visualization/ScatterChart.js","../module/google/visualization/SteppedAreaChart.js","../module/google/visualization/Table.js","../module/google/visualization/Timeline.js","../module/google/visualization/TreeMap.js","../module/google/visualization/Trendline.js","../module/google.js","../module/d3.js","../module/d3/visualization/AreaChart.js","../module/d3/visualization/BarChart.js","../module/d3/visualization/BubbleChart.js","../module/d3/visualization/ColumnChart.js","../module/d3/visualization/Line.js","../module/d3/visualization/Pie.js","../module/d3/visualization/ScatterChart.js","../module/leaflet/API.js","../module/leaflet.js","../module/leaflet/visualization/Map.js","../module/index.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n","import * as tslib_1 from \"tslib\";\nimport { Logger, MESSAGES, CssDependency, ScriptDependency, Loader, Tools } from '../sgvizler';\n/**\n * Define the type of patterns for the options\n *\n * @class sgvizler.CHART_PATTERN_OPTIONS\n * @memberof sgvizler\n */\nexport var CHART_PATTERN_OPTIONS;\n(function (CHART_PATTERN_OPTIONS) {\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"EMPTY\"] = 0] = \"EMPTY\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"UNKNOWN\"] = 1] = \"UNKNOWN\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"VARIABLE\"] = 2] = \"VARIABLE\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"STYLE\"] = 3] = \"STYLE\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"CLASS\"] = 4] = \"CLASS\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"WIKI\"] = 5] = \"WIKI\";\n})(CHART_PATTERN_OPTIONS || (CHART_PATTERN_OPTIONS = {}));\n/**\n * Abstract class for all the charts. Ensures that chart types\n * correctly inherit methods from this class.\n * @class sgvizler.Chart\n * @abstract\n * @export\n * @memberof sgvizler\n */\nexport class Chart {\n    /**\n     * Constructor of all chart types created by\n     * sgvizler.charts inherit from.\n     * @memberof sgvizler.Chart\n     * @constructor sgvizler.Chart\n     */\n    constructor() {\n        /**\n         * Give the options of chart\n         * @property options\n         * @memberof sgvizler.Chart\n         * @public\n         * @type {{}}\n         */\n        this.options = {};\n        this._tabDependences = [];\n        this._patternOptions = CHART_PATTERN_OPTIONS.EMPTY;\n        this._width = '';\n        this._height = '';\n        this._optionsRaw = '';\n        this._class = '';\n        this._style = '';\n        this._width = '100%';\n        this._isDone = false;\n        let currentThis = this;\n        Loader.on('loaded', () => {\n            if (currentThis.container != null &&\n                !currentThis._isDone &&\n                currentThis.isLoadedAllDependencies() &&\n                currentThis._resultSparql !== null &&\n                currentThis._resultSparql !== undefined) {\n                currentThis.doDraw();\n            }\n        });\n    }\n    loadDependenciesAndDraw(result) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            Logger.log(this.container, 'Chart loaded dependencies : ' + this.container.id);\n            // let promisesArray: Array<any> = []\n            this._resultSparql = result;\n            if (this.isLoadedAllDependencies()) {\n                yield this.doDraw();\n            }\n            else {\n                yield this.loadDependencies();\n            }\n        });\n    }\n    loadDependencies() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let promisesArray = [];\n            for (let dep of this._tabDependences) {\n                promisesArray.push(dep.load());\n            }\n            return Promise.all(promisesArray);\n        });\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {CHART_PATTERN_OPTIONS}\n     */\n    get patternOptions() {\n        return this._patternOptions;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get classHtml() {\n        return this._class;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set classHtml(value) {\n        this._class = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get style() {\n        return this._style;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set style(value) {\n        this._style = value;\n    }\n    /**\n     *\n     * @memberof sgvizler.Chart\n     * @returns {Container}\n     */\n    get container() {\n        return this._container;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {Container} value\n     */\n    set container(value) {\n        this._container = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get optionsRaw() {\n        return this._optionsRaw;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set optionsRaw(value) {\n        this._optionsRaw = value;\n        this.doParseOptionsRaw();\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get height() {\n        return this._height;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set height(value) {\n        this._height = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get width() {\n        return this._width;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set width(value) {\n        this._width = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    getHTMLStyleOrClass() {\n        let html = '';\n        let opts = this.options;\n        if (this._patternOptions === CHART_PATTERN_OPTIONS.CLASS) {\n            html = Object.keys(opts).map((property) => '${opts[property]}').join(' ');\n            html = 'class=\"' + html + '\"';\n        }\n        if (this._patternOptions === CHART_PATTERN_OPTIONS.STYLE) {\n            html = Object.keys(opts).map((property) => '${property}:${opts[property]}').join(';');\n            html = 'style=\"' + html + '\"';\n        }\n        return html;\n    }\n    addScript(url, loadBefore) {\n        let dep = new ScriptDependency(url, loadBefore);\n        this._tabDependences.push(dep);\n        return dep;\n    }\n    addCss(url, loadBefore) {\n        let dep = new CssDependency(url, loadBefore);\n        this._tabDependences.push(dep);\n        return dep;\n    }\n    isLoadedAllDependencies() {\n        for (let dep of this._tabDependences) {\n            if (!Loader.isLoaded(dep)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    doDraw() {\n        Logger.log(this.container, 'Chart started : ' + this._container.id);\n        let currentThis = this;\n        let isEmpty = false;\n        if (currentThis._resultSparql === null\n            || currentThis._resultSparql === undefined) {\n            isEmpty = true;\n        }\n        else {\n            let cols = currentThis._resultSparql.head.vars;\n            let rows = currentThis._resultSparql.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            if (noCols === 0) {\n                isEmpty = true;\n            }\n        }\n        if (isEmpty) {\n            Logger.displayFeedback(currentThis._container, MESSAGES.ERROR_DATA_EMPTY);\n            Logger.log(currentThis.container, 'Chart finished with error : ' + currentThis._container.id);\n        }\n        else {\n            currentThis.draw(currentThis._resultSparql).then(function (valeur) {\n                currentThis._isDone = true;\n                Logger.log(currentThis.container, 'Chart finished : ' + currentThis._container.id);\n            }, function (error) {\n                console.log(error);\n                Logger.displayFeedback(currentThis._container, MESSAGES.ERROR_CHART, [error]);\n                Logger.log(currentThis.container, 'Chart finished with error : ' + currentThis._container.id);\n            });\n        }\n    }\n    // noinspection JSValidateJSDoc\n    // noinspection tslint\n    /**\n     * todo\n     * @memberof sgvizler.Chart\n     * @param {RegExp} patternOption\n     * @param {CHART_PATTERN_OPTIONS} typePattern\n     */\n    execPattern(patternOption, typePattern) {\n        let matchArray;\n        let raw = this._optionsRaw;\n        while ((matchArray = patternOption.exec(raw)) !== null) {\n            // this.options[matchArray[1].toLowerCase()] = matchArray[2].trim()\n            // this.options[matchArray[1]] = matchArray[2].trim()\n            Tools.assignProperty(this.options, matchArray[1], matchArray[2].trim());\n            this._patternOptions = typePattern;\n        }\n    }\n    /**\n     * todo\n     * @memberof sgvizler.Chart\n     */\n    doParseOptionsRaw() {\n        // 3 possibilities\n        // pattern option : separate by optionA=a|optionB=b\n        // pattern style : any options, only style separate by ;\n        // pattern class : words separate by space\n        // noinspection TsLint\n        let patternOption = /\\|? *([^=]*) *= *([^=|]*)/iy; // tslint:disable-line\n        let patternStyle = /([^:]+):([^:;]+) *;?/iy; // tslint:disable-line\n        let patternClass = /([^ |;]+) ?/iy; // tslint:disable-line\n        let patternWiki = /\\!? *([^=]*) *= *([^=!]*)/iy; // tslint:disable-line\n        let raw = this._optionsRaw;\n        if (raw === '') {\n            this._patternOptions = CHART_PATTERN_OPTIONS.EMPTY;\n        }\n        else {\n            this._patternOptions = CHART_PATTERN_OPTIONS.UNKNOWN;\n        }\n        if (this._optionsRaw.indexOf('|') === -1 && this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternWiki, CHART_PATTERN_OPTIONS.WIKI);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternOption, CHART_PATTERN_OPTIONS.VARIABLE);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternStyle, CHART_PATTERN_OPTIONS.STYLE);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            let matchArray;\n            let raw = this._optionsRaw;\n            let i = 0;\n            while ((matchArray = patternClass.exec(raw)) !== null) {\n                this.options['class' + i] = matchArray[2];\n                this._patternOptions = CHART_PATTERN_OPTIONS.UNKNOWN;\n                i++;\n            }\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            Logger.displayFeedback(this.container, MESSAGES.ERROR_CHART_PATTERN_OPTION_UNKNOWN, [this._optionsRaw]);\n        }\n        else if (this.patternOptions === CHART_PATTERN_OPTIONS.WIKI ||\n            this.patternOptions === CHART_PATTERN_OPTIONS.VARIABLE ||\n            this.patternOptions === CHART_PATTERN_OPTIONS.STYLE) {\n            if (this.options['width'] !== undefined) {\n                this.width = this.options['width'];\n            }\n            if (this.options['height'] !== undefined) {\n                this.height = this.options['height'];\n            }\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFHSCxNQUFNLEVBQ04sUUFBUSxFQUVSLGFBQWEsRUFDYixnQkFBZ0IsRUFDaEIsTUFBTSxFQUNOLEtBQUssRUFDUixNQUFNLGFBQWEsQ0FBQTtBQUVwQjs7Ozs7R0FLRztBQUNILE1BQU0sQ0FBTixJQUFZLHFCQU9YO0FBUEQsV0FBWSxxQkFBcUI7SUFDN0IsbUVBQUssQ0FBQTtJQUNMLHVFQUFPLENBQUE7SUFDUCx5RUFBUSxDQUFBO0lBQ1IsbUVBQUssQ0FBQTtJQUNMLG1FQUFLLENBQUE7SUFDTCxpRUFBSSxDQUFBO0FBQ1IsQ0FBQyxFQVBXLHFCQUFxQixLQUFyQixxQkFBcUIsUUFPaEM7QUFFRDs7Ozs7OztHQU9HO0FBQ0gsTUFBTTtJQXFCRjs7Ozs7T0FLRztJQUNIO1FBMUJBOzs7Ozs7V0FNRztRQUNJLFlBQU8sR0FBUSxFQUFFLENBQUE7UUFHaEIsb0JBQWUsR0FBc0IsRUFBRSxDQUFBO1FBRXZDLG9CQUFlLEdBQTBCLHFCQUFxQixDQUFDLEtBQUssQ0FBQTtRQUVwRSxXQUFNLEdBQVcsRUFBRSxDQUFBO1FBQ25CLFlBQU8sR0FBVyxFQUFFLENBQUE7UUFDcEIsZ0JBQVcsR0FBVyxFQUFFLENBQUE7UUFDeEIsV0FBTSxHQUFXLEVBQUUsQ0FBQTtRQUNuQixXQUFNLEdBQVcsRUFBRSxDQUFBO1FBU3ZCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1FBRXBCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQTtRQUN0QixNQUFNLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUU7WUFDcEIsRUFBRSxDQUFDLENBQUMsV0FBVyxDQUFDLFNBQVMsSUFBSSxJQUFJO2dCQUM3QixDQUFFLFdB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","import { Chart } from '../Chart';\n/**\n * Todo Table\n * @class sgvizler.visualization.Table\n * @tutorial sgvizler_visualization_Table\n * @memberof sgvizler.visualization\n */\nexport class Table extends Chart {\n    get icon() {\n        return 'fa-table';\n    }\n    get label() {\n        return 'Table';\n    }\n    get subtext() {\n        return 'simple table';\n    }\n    get classFullName() {\n        return 'sgvizler.visualization.Table';\n    }\n    get tutorialFilename() {\n        return 'tutorial-sgvizler_visualization_Table.html';\n    }\n    constructor() {\n        super();\n        //  addDependence(SparqlResult)\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let opt = Object.assign({ headings: 'true' }, currentChart.options);\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            // console.log(opt)\n            let html = '<table ' + currentChart.getHTMLStyleOrClass() + ' >';\n            if (opt.headings === 'true') {\n                html += '<tr>';\n                for (let col of cols) {\n                    html += '<th>' + col + '</th>';\n                }\n                html += '</tr>';\n            }\n            for (let row of rows) {\n                html += '<tr>';\n                for (let col of cols) {\n                    html += '<td>' + row[col].value + '</td>';\n                }\n                html += '</tr>';\n            }\n            html += '</table>';\n            let obj = document.getElementById(currentChart.container.id);\n            if (obj) {\n                obj.innerHTML = html;\n            }\n            // finish\n            resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2d2aXpsZXIvdmlzdWFsaXphdGlvbi9UYWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBSWhDOzs7OztHQUtHO0FBQ0gsTUFBTSxZQUFhLFNBQVEsS0FBSztJQUU1QixJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsT0FBTyxDQUFBO0lBQ2xCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLDhCQUE4QixDQUFBO0lBQ3pDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsNENBQTRDLENBQUE7SUFDdkQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDVCwrQkFBK0I7SUFDakMsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFDdkMsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFbkUsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUE7WUFDM0IsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUE7WUFDbEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtZQUN4QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1lBRXhCLG1CQUFtQjtZQUNuQixJQUFJLElBQUksR0FBRyxTQUFTLEdBQUcsWUFBWSxDQUFDLG1CQUFtQixFQUFFLEdBQUcsSUFBSSxDQUFBO1lBQ2hFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDMUIsSUFBSSxJQUFJLE1BQU0sQ0FBQTtnQkFDZCxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUNuQixJQUFJLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUE7Z0JBQ2xDLENBQUM7Z0JBQ0QsSUFBSSxJQUFJLE9BQU8sQ0FBQTtZQUNuQixDQUFDO1lBRUQsR0FBRyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDbkIsSUFBSSxJQUFJLE1BQU0sQ0FBQTtnQkFDZCxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUNuQixJQUFJLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFBO2dCQUM3QyxDQUFDO2dCQUNELElBQUksSUFBSSxPQUFPLENBQUE7WUFDbkIsQ0FBQztZQUVELElBQUksSUFBSSxVQUFVLENBQUE7WUFFbEIsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1lBQzVELEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ04sR0FBRyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUE7WUFDeEIsQ0FBQztZQUNELFNBQVM7WUFDVCxPQUFPLEVBQUUsQ0FBQTtRQUNiLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUNKIn0=","import { Logger, ScriptDependency, CssDependency } from '../sgvizler';\n/**\n * Todo\n *\n * @class sgvizler.visualization.Loader\n * @memberof sgvizler.visualization\n */\nexport class Loader {\n    static on(event, fn) {\n        if (event === 'loaded') {\n            Loader._listCallEvent.push(fn);\n        }\n    }\n    static detectRoot() {\n        let resultXpath = document.evaluate('//script[contains(@src,\"sgvizler2.js\")]/@src', document, null, XPathResult.STRING_TYPE, null);\n        let srcScript = resultXpath.stringValue;\n        let match = /^(.*)sgvizler2\\.js$/.exec(srcScript);\n        if (match) {\n            Loader._pathScripts = match[1];\n        }\n    }\n    static isLoad(dep) {\n        return Loader._load.indexOf(dep.url) !== -1;\n    }\n    static isLoaded(dep) {\n        return Loader._loaded.indexOf(dep.url) !== -1;\n    }\n    static load(dep) {\n        if (dep instanceof ScriptDependency) {\n            Loader.loadScript(dep);\n        }\n        else if (dep instanceof CssDependency) {\n            Loader.loadCss(dep);\n        }\n    }\n    static fireEvent(event) {\n        for (let call of Loader._listCallEvent) {\n            call(event);\n        }\n    }\n    static checkDependenciesToLoad() {\n        let len = Loader._dependenciesToLoad.length;\n        for (let i = 0; i < len; i++) {\n            let dep = Loader._dependenciesToLoad[i];\n            if (dep === undefined || Loader.isLoaded(dep)) {\n                this._dependenciesToLoad.splice(i);\n            }\n            else {\n                if (dep instanceof ScriptDependency) {\n                    Loader.loadScript(dep);\n                }\n                else if (dep instanceof ScriptDependency) {\n                    Loader.loadCss(dep);\n                }\n            }\n        }\n    }\n    static getAbsoluteURL(url) {\n        if (url.match(/^(\\/\\/|https?)/)) {\n            return url;\n        }\n        else {\n            return Loader._pathScripts + url;\n        }\n    }\n    static loadScript(dep) {\n        let url = dep.url;\n        return new Promise(function (resolve, reject) {\n            if (dep.loadBefore && !dep.loadBefore.endDownload) {\n                //Logger.logSimple('Waiting : ' + dep.loadBefore.url + ' before ' + dep.url)\n                Loader._dependenciesToLoad.push(dep);\n                Loader.load(dep.loadBefore);\n                return resolve();\n            }\n            // include script only once\n            if (Loader.isLoad(dep)) {\n                return resolve(); // false;\n            }\n            else {\n                Loader._load.push(url);\n            }\n            Logger.logSimple('Loading : ' + dep.url);\n            // Adding the script tag to the head as suggested before\n            let head = document.getElementsByTagName('head')[0];\n            let script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.src = Loader.getAbsoluteURL(url);\n            // Then bind the event to the callback function.\n            // There are several events for cross browser compatibility.\n            script.onload = function () {\n                Loader._loaded.push(url); // in first\n                dep.callBack();\n                Loader.checkDependenciesToLoad();\n                // remember included script\n                Loader.fireEvent('loaded');\n            };\n            // Fire the loading\n            head.appendChild(script);\n        });\n    }\n    static loadCss(dep) {\n        let url = dep.url;\n        return new Promise(function (resolve, reject) {\n            if (dep.loadBefore && !dep.loadBefore.endDownload) {\n                Loader._dependenciesToLoad.push(dep);\n                return Loader.load(dep.loadBefore);\n            }\n            // include script only once\n            if (Loader.isLoad(dep)) {\n                return; // false;\n            }\n            else {\n                Loader._load.push(url);\n            }\n            // <link rel=\"stylesheet\" type=\"text/css\" href=\"../dist/datatables.min.css\"/>\n            let head = document.getElementsByTagName('head')[0];\n            let link = document.createElement('link');\n            link.rel = 'stylesheet';\n            link.href = Loader.getAbsoluteURL(url);\n            // Then bind the event to the callback function.\n            // There are several events for cross browser compatibility.\n            link.onload = function () {\n                Loader._loaded.push(url);\n                Logger.logSimple('Loaded : ' + url);\n                dep.callBack();\n                Loader.checkDependenciesToLoad();\n                // remember included script\n                Loader.fireEvent('loaded');\n            };\n            // Fire the loading\n            head.appendChild(link);\n        });\n    }\n}\nLoader._load = [];\nLoader._loaded = [];\nLoader._dependenciesToLoad = [];\nLoader._pathScripts = '';\nLoader._listCallEvent = [];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0xvYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsTUFBTSxFQUNOLGdCQUFnQixFQUNoQixhQUFhLEVBRWhCLE1BQU0sYUFBYSxDQUFBO0FBRXBCOzs7OztHQUtHO0FBQ0gsTUFBTTtJQU9LLE1BQU0sQ0FBQyxFQUFFLENBQUUsS0FBYSxFQUFDLEVBQU87UUFDbkMsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDckIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDbEMsQ0FBQztJQUNMLENBQUM7SUFFTSxNQUFNLENBQUMsVUFBVTtRQUNwQixJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLDhDQUE4QyxFQUM5RSxRQUFRLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFFLENBQUE7UUFDbkQsSUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQTtRQUV2QyxJQUFJLEtBQUssR0FBRyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDakQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNSLE1BQU0sQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2xDLENBQUM7SUFDTCxDQUFDO0lBRU0sTUFBTSxDQUFDLE1BQU0sQ0FBRSxHQUFlO1FBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7SUFDL0MsQ0FBQztJQUVNLE1BQU0sQ0FBQyxRQUFRLENBQUUsR0FBZTtRQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FB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","import { Loader, Logger } from '../sgvizler';\nexport class Dependency {\n    constructor(url, loadBefore) {\n        this.url = url;\n        this.loadBefore = loadBefore ? loadBefore : null;\n        this.endDownload = false;\n        this.startDownload = false;\n    }\n    load() {\n        if (!this.isLoaded()) {\n            this.startDownload = true;\n            Logger.logSimple('Load started :' + this.url);\n            Loader.load(this);\n        }\n    }\n    isLoaded() {\n        if (Loader.isLoaded(this)) {\n            this.startDownload = true;\n            this.endDownload = true;\n        }\n        return this.endDownload;\n    }\n    callBack() {\n        this.endDownload = true;\n        Logger.logSimple('Load ended :' + this.url);\n    }\n}\nexport class ScriptDependency extends Dependency {\n}\nexport class CssDependency extends Dependency {\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwZW5kZW5jeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9EZXBlbmRlbmN5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxNQUFNLEVBQ04sTUFBTSxFQUNULE1BQU0sYUFBYSxDQUFBO0FBRXBCLE1BQU07SUFNRixZQUFhLEdBQVcsRUFBQyxVQUF1QjtRQUM1QyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQTtRQUNkLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQTtRQUNoRCxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQTtRQUN4QixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQTtJQUM5QixDQUFDO0lBRU0sSUFBSTtRQUNQLEVBQUUsQ0FBQyxDQUFDLENBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNwQixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQTtZQUN6QixNQUFNLENBQUMsU0FBUyxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUM3QyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1FBQ3JCLENBQUM7SUFDTCxDQUFDO0lBRU0sUUFBUTtRQUNYLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFBO1lBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFBO1FBQzNCLENBQUM7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQTtJQUMzQixDQUFDO0lBRU0sUUFBUTtRQUNYLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUMvQyxDQUFDO0NBQ0o7QUFFRCxNQUFNLHVCQUF3QixTQUFRLFVBQVU7Q0FBRztBQUVuRCxNQUFNLG9CQUFxQixTQUFRLFVBQVU7Q0FBRyJ9","/**\n * todo\n * @class sgvizler.SparqlError\n * @memberof sgvizler\n */\nexport class SparqlError {\n    static getErrorMessage(xhr) {\n        let patternWikidata = /MalformedQueryException: *(.*)/m; // tslint:disable-line\n        let errorWikidata = patternWikidata.exec(xhr.response);\n        if (errorWikidata !== null) {\n            return errorWikidata[1];\n        }\n        return xhr.response;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BhcnFsRXJyb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvU3BhcnFsRXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU07SUFFSyxNQUFNLENBQUMsZUFBZSxDQUFFLEdBQW1CO1FBQzlDLElBQUksZUFBZSxHQUFHLGlDQUFpQyxDQUFBLENBQUMsc0JBQXNCO1FBRTlFLElBQUksYUFBYSxHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ3RELEVBQUUsQ0FBQyxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDM0IsQ0FBQztRQUVELE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFBO0lBQ3ZCLENBQUM7Q0FDSiJ9","import * as tslib_1 from \"tslib\";\nimport { Tools, Core } from '../sgvizler';\n/**\n *\n * @memberof gvizler\n */\nexport class Select {\n    /**\n     *\n     * @param {string} elementID\n     * @returns {Promise<void>}\n     */\n    static drawWithElementId(elementID) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let element = document.getElementById(elementID);\n            if (element) {\n                yield Select.draw(element);\n            }\n        });\n    }\n    /**\n     *\n     * @param {Element} element\n     * @param options\n     * @returns {Promise<void>}\n     */\n    static draw(element, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let nodesOption = Select.getSelectOptions(options);\n            for (let node of nodesOption) {\n                element.appendChild(node.cloneNode(true));\n            }\n        });\n    }\n    /**\n     * todo\n     */\n    static drawAll() {\n        let nodesOption = Select.getSelectOptions();\n        let nodesSnapshot = document.evaluate(\"//select[contains(@class, '\" + Select.CLASS_NAME + \"')]\", document, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n        for (let i = 0; i < nodesSnapshot.snapshotLength; i++) {\n            for (let node of nodesOption) {\n                nodesSnapshot.snapshotItem(i).appendChild(node.cloneNode(true));\n            }\n        }\n    }\n    /**\n     * Build url of chart's doc\n     * @param {string} classFullName\n     * @param {string} pathDoc\n     * @returns {string} absolute or relative URL\n     */\n    static getChartDoc(classFullName, pathDoc) {\n        let chartClass = Tools.getObjectByPath(classFullName);\n        let path = '';\n        if (pathDoc !== undefined) {\n            path = pathDoc;\n        }\n        else {\n            path = Core.DOCPATH;\n        }\n        return path + chartClass.tutorialFilename;\n    }\n    static getSelectOptions(options) {\n        let chartClass;\n        let nodeOption;\n        let nodeOptgroup;\n        let attrLabel;\n        let attrValue;\n        let attrIcon;\n        let attrSub;\n        let attrSelected;\n        let nodes = [];\n        // todo: write the option selected in the doc\n        let classSelected = options && options.selected ? options.selected : this.classOfChartSelectedByDefault;\n        for (let optgroup of this.charts) {\n            nodeOptgroup = document.createElement('optgroup');\n            attrLabel = document.createAttribute('label');\n            attrLabel.value = optgroup.label;\n            nodeOptgroup.setAttributeNode(attrLabel);\n            for (let chart of optgroup.charts) {\n                chartClass = Tools.getObjectByPath(chart);\n                nodeOption = document.createElement('option');\n                attrIcon = document.createAttribute('data-icon');\n                attrIcon.value = chartClass.icon;\n                attrSub = document.createAttribute('data-subtext');\n                // todo: write the option subtext in the doc\n                if (options.subtext === 'classFullName') {\n                    attrSub.value = chartClass.classFullName;\n                }\n                else {\n                    attrSub.value = chartClass.subtext;\n                }\n                attrValue = document.createAttribute('value');\n                attrValue.value = chartClass.classFullName;\n                if (classSelected === chart) {\n                    attrSelected = document.createAttribute('selected');\n                    nodeOption.setAttributeNode(attrSelected);\n                }\n                nodeOption.text = chartClass.label;\n                nodeOption.setAttributeNode(attrIcon);\n                nodeOption.setAttributeNode(attrSub);\n                nodeOption.setAttributeNode(attrValue);\n                nodeOptgroup.appendChild(nodeOption);\n            }\n            nodes.push(nodeOptgroup);\n        }\n        return nodes;\n    }\n}\nSelect.CLASS_NAME = 'sgvizler-select';\nSelect.classOfChartSelectedByDefault = 'bordercloud.visualization.DataTable';\n/**\n * Stores the charts\n */\nSelect.charts = [\n    {\n        // optgroup\n        label: 'bordercloud.visualization',\n        charts: [\n            'bordercloud.visualization.DataTable'\n        ]\n    },\n    {\n        // optgroup\n        label: 'd3.visualization',\n        charts: [\n            /*'d3.visualization.AreaChart',\n            'd3.visualization.BarChart',\n            'd3.visualization.BubbleChart',\n            'd3.visualization.ColumnChart',*/\n            'd3.visualization.Line',\n            'd3.visualization.Pie'\n            /*,\n            'd3.visualization.ScatterChart'\n            */\n        ]\n    },\n    {\n        // optgroup\n        label: 'leaflet.visualization',\n        charts: [\n            'leaflet.visualization.Map'\n        ]\n    },\n    {\n        // optgroup\n        label: 'google.visualization',\n        charts: [\n            'google.visualization.AnnotationChart',\n            'google.visualization.AreaChart',\n            'google.visualization.BarChart',\n            'google.visualization.BubbleChart',\n            'google.visualization.Calendar',\n            'google.visualization.CandlestickChart',\n            'google.visualization.ColumnChart',\n            'google.visualization.ComboChart',\n            'google.visualization.GeoChart',\n            'google.visualization.Histogram',\n            'google.visualization.IntervalChart',\n            'google.visualization.LineChart',\n            'google.visualization.Map',\n            // 'google.visualization.OrgChart',\n            'google.visualization.Pie',\n            'google.visualization.ScatterChart',\n            'google.visualization.Table',\n            'google.visualization.Trendline'\n        ]\n    },\n    {\n        // optgroup\n        label: 'sgvizler.visualization',\n        charts: [\n            'sgvizler.visualization.Table'\n        ]\n    }\n];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL1NlbGVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxJQUFJLEVBQ1AsTUFBTSxhQUFhLENBQUE7QUFFcEI7OztHQUdHO0FBQ0gsTUFBTTtJQXdFRjs7OztPQUlHO0lBQ0ksTUFBTSxDQUFPLGlCQUFpQixDQUFFLFNBQWlCOztZQUNwRCxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQzlCLENBQUM7UUFDTCxDQUFDO0tBQUE7SUFFRDs7Ozs7T0FLRztJQUNJLE1BQU0sQ0FBTyxJQUFJLENBQUUsT0FBZ0IsRUFBQyxPQUFhOztZQUNwRCxJQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDbEQsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7WUFDN0MsQ0FBQztRQUNMLENBQUM7S0FBQTtJQUVEOztPQUVHO0lBQ0ksTUFBTSxDQUFDLE9BQU87UUFDakIsSUFBSSxXQUFXLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUE7UUFFM0MsSUFBSSxhQUFhLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyw2QkFBNkIsR0FBRyxNQUFNLENBQUMsVUFBVSxHQUFHLEtBQUssRUFDM0YsUUFBUSxFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsNEJBQTRCLEVBQUUsSUFBSSxDQUFFLENBQUE7UUFDcEUsR0FBRyxDQUFDLENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFHLENBQUMsR0FBRyxhQUFhLENBQUMsY0FBYyxFQUFFLENBQUMsRUFBRSxFQUFHLENBQUM7WUFDdkQsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsYUFBYSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO1lBQ25FLENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ksTUFBTSxDQUFDLFdBQVcsQ0FBRSxhQUFxQixFQUFDLE9BQWdCO1FBQzdELElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQyxlQUFlLENBQUMsYUFBYSxDQUFVLENBQUE7UUFFOUQsSUFBSSxJQUFJLEdBQVcsRUFBRSxDQUFBO1FBRXJCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksR0FBRyxPQUFPLENBQUE7UUFDbEIsQ0FBQztRQUFBLElBQUksQ0FBQyxDQUFDO1lBQ0gsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUE7UUFDdkIsQ0FBQztRQUVELE1BQU0sQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDLGdCQUFnQixDQUFBO0lBQzdDLENBQUM7SUFFTyxNQUFNLENBQUMsZ0JBQWdCLENBQUUsT0FBYTtRQUMxQyxJQUFJLFVBQVUsQ0FBQTtRQUNkLElBQUksVUFBVSxDQUFBO1FBQ2QsSUFBSSxZQUFZLENBQUE7UUFDaEIsSUFBSSxTQUFTLENBQUE7UUFDYixJQUFJLFNBQVMsQ0FBQTtRQUNiLElBQUksUUFBUSxDQUFBO1FBQ1osSUFBSSxPQUFPLENBQUE7UUFDWCxJQUFJLFlBQVksQ0FBQTtRQUNoQixJQUFJLEtBQUssR0FBZ0IsRUFBRSxDQUFBO1FBRTNCLDZDQUE2QztRQUM3QyxJQUFJLGFBQWEsR0FBRyxPQUFPLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLDZCQUE2QixDQUFBO1FBQ3ZHLEdBQUcsQ0FBQyxDQUFDLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBRS9CLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1lBQ2pELFNBQVMsR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQzdDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQTtZQUNoQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUE7WUFFeEMsR0FBRyxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQ2hDLFVBQVUsR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBVSxDQUFBO2dCQUNsRCxVQUFVLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQTtnQkFDN0MsUUFBUSxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUE7Z0JBQ2hELFFBQVEsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQTtnQkFDaEMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsY0FBYyxDQUFDLENBQUE7Z0JBQ2xELDRDQUE0QztnQkFDNUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sS0FBSyxlQUFlLENBQUMsQ0FBQyxDQUFDO29CQUN0QyxPQUFPLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUE7Z0JBQzVDLENBQUM7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ0osT0FBTyxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFBO2dCQUN0QyxDQUFDO2dCQUNELFNBQVMsR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFBO2dCQUM3QyxTQUFTLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUE7Z0JBRTFDLEVBQUUsQ0FBQyxDQUFDLGFBQWEsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUMxQixZQUFZLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQTtvQkFDbkQsVUFBVSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFBO2dCQUM3QyxDQUFDO2dCQUNELFVBQVUsQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQTtnQkFDbEMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFBO2dCQUNyQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUE7Z0JBQ3BDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQTtnQkFDdEMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQTtZQUN4QyxDQUFDO1lBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtRQUM1QixDQUFDO1FBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQTtJQUNoQixDQUFDOztBQW5MdUIsaUJBQVUsR0FBVyxpQkFBaUIsQ0FBQTtBQUUvQyxvQ0FBNkIsR0FBVyxxQ0FBcUMsQ0FBQTtBQUU1Rjs7R0FFRztBQUNZLGFBQU0sR0FBRztJQUNwQjtRQUNJLFdBQVc7UUFDWCxLQUFLLEVBQUUsMkJBQTJCO1FBQ2xDLE1BQU0sRUFBRTtZQUNKLHFDQUFxQztTQUN4QztLQUNKO0lBQ0Q7UUFDSSxXQUFXO1FBQ1gsS0FBSyxFQUFFLGtCQUFrQjtRQUN6QixNQUFNLEVBQUU7WUFDSjs7OzZDQUdpQztZQUNqQyx1QkFBdUI7WUFDdkIsc0JBQXNCO1lBQ3RCOztjQUVFO1NBQ0w7S0FDSjtJQUNEO1FBQ0ksV0FBVztRQUNYLEtBQUssRUFBRSx1QkFBdUI7UUFDOUIsTUFBTSxFQUFFO1lBQ0osMkJBQTJCO1NBQzlCO0tBQ0o7SUFDRDtRQUNJLFdBQVc7UUFDWCxLQUFLLEVBQUUsc0JBQXNCO1FBQzdCLE1BQU0sRUFBRTtZQUNKLHNDQUFzQztZQUN0QyxnQ0FBZ0M7WUFDaEMsK0JBQStCO1lBQy9CLGtDQUFrQztZQUNsQywrQkFBK0I7WUFDL0IsdUNBQXVDO1lBQ3ZDLGtDQUFrQztZQUNsQyxpQ0FBaUM7WUFDakMsK0JBQStCO1lBQy9CLGdDQUFnQztZQUNoQyxvQ0FBb0M7WUFDcEMsZ0NBQWdDO1lBQ2hDLDBCQUEwQjtZQUMxQixtQ0FBbUM7WUFDbkMsMEJBQTBCO1lBQzFCLG1DQUFtQztZQUNuQyw0QkFBNEI7WUFDNUIsZ0NBQWdDO1NBQ25DO0tBQ0o7SUFDRDtRQUNJLFdBQVc7UUFDWCxLQUFLLEVBQUUsd0JBQXdCO1FBQy9CLE1BQU0sRUFDRjtZQUNJLDhCQUE4QjtTQUNqQztLQUNSO0NBQ0osQ0FBQSJ9","/**\n * todo\n * @class sgvizler.MESSAGES\n * @memberof sgvizler\n */\nexport var MESSAGES;\n(function (MESSAGES) {\n    MESSAGES[MESSAGES[\"ERROR_CHART_UNKNOWN\"] = 0] = \"ERROR_CHART_UNKNOWN\";\n    MESSAGES[MESSAGES[\"ERROR_CHART_PATTERN_OPTION_UNKNOWN\"] = 1] = \"ERROR_CHART_PATTERN_OPTION_UNKNOWN\";\n    MESSAGES[MESSAGES[\"ERROR_REQUEST\"] = 2] = \"ERROR_REQUEST\";\n    MESSAGES[MESSAGES[\"ERROR_CHART\"] = 3] = \"ERROR_CHART\";\n    MESSAGES[MESSAGES[\"ERROR_DEPENDENCIES\"] = 4] = \"ERROR_DEPENDENCIES\";\n    MESSAGES[MESSAGES[\"ERROR_ENDPOINT_FORGOT\"] = 5] = \"ERROR_ENDPOINT_FORGOT\";\n    MESSAGES[MESSAGES[\"ERROR_DATA_EMPTY\"] = 6] = \"ERROR_DATA_EMPTY\";\n    MESSAGES[MESSAGES[\"ERROR_DATA_NOROW\"] = 7] = \"ERROR_DATA_NOROW\";\n})(MESSAGES || (MESSAGES = {}));\n/**\n *\n * @class sgvizler.Messages\n * @memberof sgvizler\n */\nexport class Messages {\n    static get(id, args) {\n        let message = '';\n        switch (id) {\n            case MESSAGES.ERROR_CHART_UNKNOWN:\n                message = 'The chart $0 does not exist.';\n                break;\n            case MESSAGES.ERROR_CHART_PATTERN_OPTION_UNKNOWN:\n                message = \"The pattern of chart options is unknown : '$0'\" +\n                    \"Use 'variable1=value1|variable1=value1' or for style 'width:100%;font:red;' or 'class1 class2'\";\n                break;\n            case MESSAGES.ERROR_REQUEST:\n                message = 'Sorry, the sparql server sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_CHART:\n                message = 'Sorry, the chart sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_DEPENDENCIES:\n                message = 'The chart dependencies sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_ENDPOINT_FORGOT:\n                message = 'The endpoint of Sparql service is forgotten (data-sgvizler-endpoint).';\n                break;\n            case MESSAGES.ERROR_DATA_EMPTY:\n                message = 'The resquest sent null.';\n                break;\n            case MESSAGES.ERROR_DATA_NOROW:\n                message = 'The resquest sent no row.';\n                break;\n        }\n        if (args) {\n            for (let i = 0, len = args.length; i < len; i++) {\n                message = message.replace('$' + i, args[i]);\n            }\n        }\n        return message;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvTWVzc2FnZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLFFBU1g7QUFURCxXQUFZLFFBQVE7SUFDaEIscUVBQW1CLENBQUE7SUFDbkIsbUdBQWtDLENBQUE7SUFDbEMseURBQWEsQ0FBQTtJQUNiLHFEQUFXLENBQUE7SUFDWCxtRUFBa0IsQ0FBQTtJQUNsQix5RUFBcUIsQ0FBQTtJQUNyQiwrREFBZ0IsQ0FBQTtJQUNoQiwrREFBZ0IsQ0FBQTtBQUNwQixDQUFDLEVBVFcsUUFBUSxLQUFSLFFBQVEsUUFTbkI7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTTtJQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUUsRUFBWSxFQUFDLElBQW9CO1FBQ2hELElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQTtRQUNoQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1QsS0FBSyxRQUFRLENBQUMsbUJBQW1CO2dCQUM3QixPQUFPLEdBQUcsOEJBQThCLENBQUE7Z0JBQ3hDLEtBQUssQ0FBQTtZQUNULEtBQUssUUFBUSxDQUFDLGtDQUFrQztnQkFDNUMsT0FBTyxHQUFHLGdEQUFnRDtvQkFDdEQsZ0dBQWdHLENBQUE7Z0JBQ3BHLEtBQUssQ0FBQTtZQUNULEtBQUssUUFBUSxDQUFDLGFBQWE7Z0JBQ3ZCLE9BQU8sR0FBRyxrREFBa0QsQ0FBQTtnQkFDNUQsS0FBSyxDQUFBO1lBQ1QsS0FBSyxRQUFRLENBQUMsV0FBVztnQkFDckIsT0FBTyxHQUFHLDBDQUEwQyxDQUFBO2dCQUNwRCxLQUFLLENBQUE7WUFDVCxLQUFLLFFBQVEsQ0FBQyxrQkFBa0I7Z0JBQzVCLE9BQU8sR0FBRyxnREFBZ0QsQ0FBQTtnQkFDMUQsS0FBSyxDQUFBO1lBQ1QsS0FBSyxRQUFRLENBQUMscUJBQXFCO2dCQUMvQixPQUFPLEdBQUcsdUVBQXVFLENBQUE7Z0JBQ2pGLEtBQUssQ0FBQTtZQUNULEtBQUssUUFBUSxDQUFDLGdCQUFnQjtnQkFDMUIsT0FBTyxHQUFHLHlCQUF5QixDQUFBO2dCQUNuQyxLQUFLLENBQUE7WUFDVCxLQUFLLFFBQVEsQ0FBQyxnQkFBZ0I7Z0JBQzFCLE9BQU8sR0FBRywyQkFBMkIsQ0FBQTtnQkFDckMsS0FBSyxDQUFBO1FBQ2IsQ0FBQztRQUVELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDUCxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM5QyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQy9DLENBQUM7UUFDTCxDQUFDO1FBRUQsTUFBTSxDQUFDLE9BQU8sQ0FBQTtJQUNsQixDQUFDO0NBQ0oifQ==","import * as sgvizler2 from '../index';\n/**\n * Todo comment\n * @class sgvizler.Tools\n * @memberof sgvizler\n */\nexport class Tools {\n    // noinspection JSValidateJSDoc\n    /**\n     * Gets the object located at `path` from `object`. `path`\n     * is given in dot notation.\n     * Search in first in the library and after in window object\n     * @param {string} path\n     * @param object\n     * @returns { any }  or undefined\n     */\n    static getObjectByPath(path, object) {\n        let i;\n        let len;\n        let segments = path.split('.');\n        let cursor = object || sgvizler2; // search in the lib if object is empty\n        for (i = 0, len = segments.length; i < len; i += 1) {\n            if (cursor === undefined) {\n                break;\n            }\n            if (i < len - 1) {\n                cursor = cursor[segments[i]]; // if cursor is undefined, it remains undefined.\n            }\n            else {\n                try {\n                    cursor = new cursor[segments[i]](); // create an instance\n                }\n                catch (e) {\n                    // do nothing\n                    // cursor[segments[i]]() is not a constructor]\n                    cursor = undefined;\n                }\n            }\n        }\n        if (cursor === undefined && !object) {\n            cursor = this.getObjectByPath(path, window);\n        }\n        return cursor;\n    }\n    static assignProperty(obj, path, value) {\n        return Tools.assignJSON(obj, Tools.getJSONByPath(path, value));\n    }\n    // public static escapeHtml (str: string): string {\n    //     let text = document.createTextNode(str)\n    //     let div = document.createElement('div')\n    //     div.appendChild(text)\n    //     return div.innerHTML\n    // }\n    // public static decodeHtml (html: string): any {\n    // //     let element = document.createElement('div')\n    // //     element.innerHTML = html\n    // //     return element.textContent\n    // // }\n    // // function decodeHTMLEntities(text) {\n    // }\n    static encodeHtml(str) {\n        let buf = [];\n        for (let i = str.length - 1; i >= 0; i--) {\n            buf.unshift(['&#', str.charCodeAt(i), ';'].join(''));\n        }\n        return buf.join('');\n    }\n    static decodeHtml(str) {\n        let text = str.replace(/&#(\\d+);/g, function (match, dec) {\n            return String.fromCharCode(dec).replace(/\\s/g, function (match, dec) {\n                return ' ';\n            });\n        });\n        return text;\n    }\n    static getJSONByPath(path, value) {\n        let json = '';\n        let propertyName = '';\n        let nextPath = '';\n        if (path.length === 0 || !value) {\n            return json;\n        }\n        let positionDot = path.search(/\\./);\n        if (positionDot === -1) {\n            propertyName = path.trim();\n            if (Number.isNaN(Number(value))) {\n                let valueBoolean = Tools.convertToBoolean(value);\n                if (valueBoolean === undefined) {\n                    let str = JSON.stringify(String(value));\n                    str = str.substring(1, str.length - 1);\n                    json = '{\"' + propertyName + '\":\"' + str + '\"}';\n                }\n                else {\n                    json = '{\"' + propertyName + '\":' + value + '}';\n                }\n            }\n            else {\n                json = '{\"' + propertyName + '\":' + value + '}';\n            }\n        }\n        else {\n            propertyName = path.substring(0, positionDot);\n            nextPath = path.substring(positionDot + 1, path.length);\n            json = '{\"' + propertyName.trim() + '\": ' + Tools.getJSONByPath(nextPath, value) + ' }';\n        }\n        return json;\n    }\n    static assignJSON(obj, json) {\n        Tools.mergeInObject(obj, JSON.parse(json));\n        return obj;\n    }\n    static convertToBoolean(input) {\n        if (input.length <= 5) {\n            try {\n                return JSON.parse(input);\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n        return undefined;\n    }\n    // Convert to typescript : https://github.com/gmasmejean/recursiveAssign/blob/master/index.js\n    static assign(ref, key, value) {\n        if (Tools.isPlainObject(value)) {\n            if (!Tools.isPlainObject(ref[key])) {\n                ref[key] = {};\n            }\n            Tools.mergeInObject(ref[key], value);\n        }\n        else {\n            ref[key] = value;\n        }\n    }\n    static mergeInObject(dest, data) {\n        Object.keys(data).forEach(key => {\n            Tools.assign(dest, key, data[key]);\n        });\n    }\n    static isPlainObject(o) {\n        return o !== undefined && o.constructor !== undefined && o.constructor.prototype === Object.prototype;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvVG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLFNBQVMsTUFBTSxVQUFVLENBQUE7QUFFckM7Ozs7R0FJRztBQUNILE1BQU07SUFFRiwrQkFBK0I7SUFDL0I7Ozs7Ozs7T0FPRztJQUNJLE1BQU0sQ0FBQyxlQUFlLENBQUUsSUFBWSxFQUFFLE1BQVk7UUFDckQsSUFBSSxDQUFDLENBQUE7UUFDTCxJQUFJLEdBQUcsQ0FBQTtRQUNQLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDOUIsSUFBSSxNQUFNLEdBQUcsTUFBTSxJQUFJLFNBQVMsQ0FBQSxDQUFFLHVDQUF1QztRQUV6RSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ2pELEVBQUUsQ0FBQyxDQUFDLE1BQU0sS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUN4QixLQUFLLENBQUE7WUFDUixDQUFDO1lBQ0QsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNkLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBSyxnREFBZ0Q7WUFDckYsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNKLElBQUksQ0FBQztvQkFDRCxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFDLHFCQUFxQjtnQkFDNUQsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNULGFB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","import * as S from '../sgvizler';\n/**\n * Handles all logging, either to console or designated HTML\n * container.\n *\n * @class sgvizler.Logger\n * @memberof sgvizler\n */\nexport class Logger {\n    /**\n     * Logs a message.\n     * @method log\n     * @protected\n     * @param {string} message The message to log.\n     */\n    static log(container, message) {\n        if (container.loglevel === 2) {\n            console.log(this.elapsedTime() + 's: ' + message);\n        }\n    }\n    static logSimple(message) {\n        console.log(this.elapsedTime() + 's: ' + message);\n    }\n    /**\n     * Todo\n     * @param {Container} container\n     * @param {MESSAGES} messageName\n     * @param {Array<string>} args\n     */\n    static displayFeedback(container, messageName, args) {\n        let message = S.Messages.get(messageName, args);\n        if (container.loglevel === 2) {\n            if (message) {\n                let obj = document.getElementById(container.id);\n                if (obj) {\n                    obj.innerHTML = \"<p style='color:red'>\" + message + '</p>';\n                }\n            }\n        }\n    }\n    /**\n     * @method timeElapsed\n     * @private\n     * @return {number} The number of seconds elapsed since\n     * this sgvizler got loaded.\n     */\n    static elapsedTime() {\n        return (Date.now() - this._startTime) / 1000;\n    }\n}\n/**\n * The timestamp for the load start of the current running\n * version of sgvizler. Used to calculate time elapse of\n * future events.\n */\nLogger._startTime = Date.now();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0xvZ2dlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssQ0FBQyxNQUFNLGFBQWEsQ0FBQTtBQUVoQzs7Ozs7O0dBTUc7QUFDSCxNQUFNO0lBUUY7Ozs7O09BS0c7SUFDSSxNQUFNLENBQUMsR0FBRyxDQUFFLFNBQXNCLEVBQUUsT0FBZTtRQUN0RCxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEdBQUcsS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFBO1FBQ3JELENBQUM7SUFDTCxDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBRSxPQUFlO1FBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLEtBQUssR0FBRyxPQUFPLENBQUMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSSxNQUFNLENBQUMsZUFBZSxDQUFFLFNBQXNCLEVBQUUsV0FBdUIsRUFBRSxJQUFvQjtRQUNoRyxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7UUFFOUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQy9DLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ04sR0FBRyxDQUFDLFNBQVMsR0FBRyx1QkFBdUIsR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFBO2dCQUM5RCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7SUFDTCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSyxNQUFNLENBQUMsV0FBVztRQUN0QixNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQTtJQUNoRCxDQUFDOztBQWxERDs7OztHQUlHO0FBQ1ksaUJBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUEifQ==","/**\n *\n * @class sgvizler.Core\n * @memberof sgvizler\n */\nexport class Core {\n    /**\n     * todo\n     * @returns {string}\n     */\n    static get path() {\n        return this._path;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    static set path(value) {\n        this._path = value;\n    }\n}\n/**\n * The version number of this sgvizler2.\n * @static\n * @readonly\n * @type {string} VERSION\n */\nCore.VERSION = '0.0';\n/**\n * sgvizler2's homepage.\n * @static\n * @readonly\n * @type {string} HOMEPAGE\n */\nCore.HOMEPAGE = 'https://bordercloud.github.io/sgvizler2/index.html';\n/**\n * sgvizler2's docs path\n * @static\n * @readonly\n * @type {string} DOCPATH\n */\nCore.DOCPATH = 'https://bordercloud.github.io/sgvizler2/';\nCore._path = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29yZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9Db3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNO0lBRUY7OztPQUdHO0lBQ0gsTUFBTSxLQUFLLElBQUk7UUFDWCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQTtJQUNyQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsTUFBTSxLQUFLLElBQUksQ0FBRSxLQUFhO1FBQzFCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO0lBQ3RCLENBQUM7O0FBRUQ7Ozs7O0dBS0c7QUFDb0IsWUFBTyxHQUFXLEtBQUssQ0FBQTtBQUU5Qzs7Ozs7R0FLRztBQUNvQixhQUFRLEdBQVcsb0RBQW9ELENBQUE7QUFFOUY7Ozs7O0dBS0c7QUFDb0IsWUFBTyxHQUFXLDBDQUEwQyxDQUFBO0FBRXBFLFVBQUssR0FBVyxFQUFFLENBQUEifQ==","/**\n *\n * @class sgvizler.SPARQL_RESULT\n * @memberof sgvizler\n */\nexport var SPARQL_RESULT;\n(function (SPARQL_RESULT) {\n    SPARQL_RESULT[SPARQL_RESULT[\"xml\"] = 0] = \"xml\";\n    SPARQL_RESULT[SPARQL_RESULT[\"json\"] = 1] = \"json\";\n    SPARQL_RESULT[SPARQL_RESULT[\"jsonp\"] = 2] = \"jsonp\";\n})(SPARQL_RESULT || (SPARQL_RESULT = {}));\n/**\n *\n * @class sgvizler.SparqlTools\n * @memberof gvizler\n */\nexport class SparqlTools {\n    static getOutputLabel(id) {\n        let str = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                str = 'xml';\n                break;\n            case SPARQL_RESULT.json:\n                str = 'json';\n                break;\n            case SPARQL_RESULT.jsonp:\n                str = 'jsonp';\n                break;\n        }\n        return str;\n    }\n    static getXMLHttpRequestResponseType(id) {\n        let type = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                type = ''; // \tDOMString (this is the default value for xhr)\n                break;\n            case SPARQL_RESULT.json:\n            case SPARQL_RESULT.jsonp:\n                type = 'json';\n                break;\n        }\n        return type;\n    }\n    static getHeaderAccept(id) {\n        let str = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                str = 'application/sparql-results+xml';\n                break;\n            case SPARQL_RESULT.json:\n            case SPARQL_RESULT.jsonp:\n                str = 'application/sparql-results+json';\n                break;\n        }\n        return str;\n    }\n    static convertString(label) {\n        let result = SPARQL_RESULT.json;\n        switch (label) {\n            case 'xml':\n                result = SPARQL_RESULT.xml;\n                break;\n            case 'json':\n                result = SPARQL_RESULT.json;\n                break;\n            case 'jsonp':\n                result = SPARQL_RESULT.jsonp;\n                break;\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BhcnFsVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvU3BhcnFsVG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLGFBSVg7QUFKRCxXQUFZLGFBQWE7SUFDckIsK0NBQUcsQ0FBQTtJQUNILGlEQUFJLENBQUE7SUFDSixtREFBSyxDQUFBO0FBQ1QsQ0FBQyxFQUpXLGFBQWEsS0FBYixhQUFhLFFBSXhCO0FBRUQ7Ozs7R0FJRztBQUNILE1BQU07SUFFSyxNQUFNLENBQUMsY0FBYyxDQUFFLEVBQWlCO1FBQzNDLElBQUksR0FBRyxHQUFXLEVBQUUsQ0FBQTtRQUNwQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1QsS0FBSyxhQUFhLENBQUMsR0FBRztnQkFDbEIsR0FBRyxHQUFHLEtBQUssQ0FBQTtnQkFDWCxLQUFLLENBQUE7WUFDVCxLQUFLLGFBQWEsQ0FBQyxJQUFJO2dCQUNuQixHQUFHLEdBQUcsTUFBTSxDQUFBO2dCQUNaLEtBQUssQ0FBQTtZQUNULEtBQUssYUFBYSxDQUFDLEtBQUs7Z0JBQ3BCLEdBQUcsR0FBRyxPQUFPLENBQUE7Z0JBQ2IsS0FBSyxDQUFBO1FBQ2IsQ0FBQztRQUNELE1BQU0sQ0FBQyxHQUFHLENBQUE7SUFDZCxDQUFDO0lBRU0sTUFBTSxDQUFDLDZCQUE2QixDQUFFLEVBQWlCO1FBQzFELElBQUksSUFBSSxHQUFXLEVBQUUsQ0FBQTtRQUNyQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1QsS0FBSyxhQUFhLENBQUMsR0FBRztnQkFDbEIsSUFBSSxHQUFHLEVBQUUsQ0FBQSxDQUFDLGlEQUFpRDtnQkFDM0QsS0FBSyxDQUFBO1lBQ1QsS0FBSyxhQUFhLENBQUMsSUFBSSxDQUFFO1lBQ3pCLEtBQUssYUFBYSxDQUFDLEtBQUs7Z0JBQ3BCLElBQUksR0FBRyxNQUFNLENBQUE7Z0JBQ2IsS0FBSyxDQUFBO1FBQ2IsQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFrQyxDQUFBO0lBQzdDLENBQUM7SUFFTSxNQUFNLENBQUMsZUFBZSxDQUFFLEVBQWlCO1FBQzVDLElBQUksR0FBRyxHQUFXLEVBQUUsQ0FBQTtRQUNwQixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1QsS0FBSyxhQUFhLENBQUMsR0FBRztnQkFDbEIsR0FBRyxHQUFHLGdDQUFnQyxDQUFBO2dCQUN0QyxLQUFLLENBQUE7WUFDVCxLQUFLLGFBQWEsQ0FBQyxJQUFJLENBQUU7WUFDekIsS0FBSyxhQUFhLENBQUMsS0FBSztnQkFDcEIsR0FBRyxHQUFHLGlDQUFpQyxDQUFBO2dCQUN2QyxLQUFLLENBQUE7UUFDYixDQUFDO1FBQ0QsTUFBTSxDQUFDLEdBQUcsQ0FBQTtJQUNkLENBQUM7SUFFTSxNQUFNLENBQUMsYUFBYSxDQUFFLEtBQWE7UUFDdEMsSUFBSSxNQUFNLEdBQWtCLGFBQWEsQ0FBQyxJQUFJLENBQUE7UUFDOUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNaLEtBQUssS0FBSztnQkFDTixNQUFNLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQTtnQkFDMUIsS0FBSyxDQUFBO1lBQ1QsS0FBSyxNQUFNO2dCQUNQLE1BQU0sR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFBO2dCQUMzQixLQUFLLENBQUE7WUFDVCxLQUFLLE9BQU87Z0JBQ1IsTUFBTSxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUE7Z0JBQzVCLEtBQUssQ0FBQTtRQUNiLENBQUM7UUFDRCxNQUFNLENBQUMsTUFBTSxDQUFBO0lBQ2pCLENBQUM7Q0FDSiJ9","import { SPARQL_RESULT, SparqlTools } from '../sgvizler';\nimport { SparqlError } from './SparqlError';\n/**\n * Important class. Runs SPARQL query against SPARQL\n * endpoints.\n *\n * Dependencies:\n *\n *   - sgvizler.util\n *   - sgvizler.namespace\n *   - sgvizler.registry\n *   - sgvizler.parser\n *   - sgvizler.loader\n *   - sgvizler.logger\n *   - sgvizler.defaults\n *   - jQuery\n *   - google.visualization\n *\n *\n * Example of how to use the Query class:\n *\n *     var sparqlQueryString = \"SELECT * {?s ?p ?o} LIMIT 10\",\n *         containerID = \"myElementID\",\n *         Q = new sgvizler.Query();\n *\n *     // Note that default values may be set in the sgvizler object.\n *     Q.query(sparqlQueryString)\n *         .endpointURL(\"http://dbpedia.org/sparql\")\n *         .endpointOutputFormat(\"json\")                    // Possible values 'xml', 'json', 'jsonp'.\n *         .chartFunction(\"google.visualization.BarChart\")  // The name of the function to draw the chart.\n *         .draw(containerID);                              // Draw the chart in the designated HTML element.\n *\n * @class sgvizler.Request\n * @memberof sgvizler\n */\nexport class Request {\n    constructor() {\n        this._query = '';\n        this._endpoint = '';\n        this._endpointOutputFormat = SPARQL_RESULT.json;\n        this._method = 'GET';\n        this._queryParameter = 'query';\n        this.listeners = {};\n    }\n    // private _endpointResultsUrlPart: string\n    // // private _chartPathFunction: string\n    // private _endpointURL: string\n    /**\n     *\n     * @returns {string}\n     */\n    get method() {\n        return this._method;\n    }\n    /**\n     *\n     * @param {string} value\n     */\n    set method(value) {\n        this._method = value;\n    }\n    /**\n     *\n     * @returns {Container}\n     */\n    get container() {\n        return this._container;\n    }\n    /**\n     *\n     * @param {Container} value\n     */\n    set container(value) {\n        this._container = value;\n    }\n    /**\n     * Get query string.\n     * @method query\n     * @public\n     * @return {string}\n     */\n    get query() {\n        return this._query;\n    }\n    /**\n     * Set query string.\n     * @method query\n     * @public\n     * @chainable\n     * @param value\n     */\n    set query(value) {\n        this._query = value;\n    }\n    /**\n     * Get endpoint URL.\n     * @method endpointURL\n     * @public\n     * @return {string}\n     */\n    get endpoint() {\n        return this._endpoint;\n    }\n    /**\n     * Set endpoint URL.\n     * @method endpointURL\n     * @public\n     * @chainable\n     * @example\n     *     sgvizler.endpointURL('http://sparql.dbpedia.org');\n     *   sets this Query object's endpoint to DBpedia.\n     * @param value\n     */\n    set endpoint(value) {\n        this._endpoint = value;\n    }\n    /**\n     * Get endpoint output format.\n     * @method endpointOutputFormat\n     * @public\n     * @return {string}\n     */\n    get endpointOutputFormat() {\n        return this._endpointOutputFormat;\n    }\n    /**\n     * Set endpoint output format. Legal values are `'xml'`,\n     * `'json'`, `'jsonp'`.\n     * @method endpointOutputFormat\n     * @public\n     * @chainable\n     * @param value\n     */\n    set endpointOutputFormat(value) {\n        this._endpointOutputFormat = value;\n    }\n    /**\n     * todo\n     * @returns {string}\n     */\n    get queryParameter() {\n        return this._queryParameter;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    set queryParameter(value) {\n        this._queryParameter = value;\n    }\n    sendRequest() {\n        let myRequest = this;\n        // Create new promise with the Promise() constructor;\n        // This has as its argument a function\n        // with two parameters, resolve and reject\n        return new Promise(function (resolve, reject) {\n            // Standard XHR to load an image\n            let xhr = new XMLHttpRequest();\n            let data;\n            let url = myRequest.endpoint;\n            if (myRequest.method.toLowerCase() === 'get') {\n                url += '?' + myRequest.queryParameter + '=' + encodeURIComponent(myRequest.query) +\n                    '&output=' + SparqlTools.getOutputLabel(myRequest.endpointOutputFormat);\n            }\n            else {\n                data = myRequest.queryParameter + '=' + encodeURIComponent(myRequest.query);\n            }\n            xhr.open(myRequest.method, url, true);\n            xhr.setRequestHeader('Accept', SparqlTools.getHeaderAccept(myRequest.endpointOutputFormat));\n            // hide errors xhr.responseType = SparqlTools.getXMLHttpRequestResponseType(myRequest.endpointOutputFormat)\n            // TODO check progress\n            xhr.onprogress = function (oEvent) {\n                if (oEvent.lengthComputable) {\n                    let percentComplete = (oEvent.loaded / oEvent.total) * 100;\n                    console.log('onprogress' + percentComplete);\n                }\n                else {\n                    // Impossible de calculer la progression puisque la taille totale est inconnue\n                }\n            };\n            // When the request loads, check whether it was successful\n            xhr.onload = function (options) {\n                if (xhr.readyState === XMLHttpRequest.DONE) {\n                    if (xhr.status === 200) {\n                        // If successful, resolve the promise by passing back the request response\n                        resolve(JSON.parse(xhr.response));\n                    }\n                    else {\n                        // If it fails, reject the promise with a error message\n                        reject(SparqlError.getErrorMessage(xhr));\n                    }\n                }\n            };\n            xhr.onerror = function (options) {\n                // Also deal with the case when the entire request fails to begin with\n                // This is probably a network error, so reject the promise with an appropriate message\n                reject(SparqlError.getErrorMessage(xhr));\n            };\n            xhr.onabort = function () {\n                reject(SparqlError.getErrorMessage(xhr));\n            };\n            // Send the request\n            if (data) {\n                xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\n                xhr.send(data);\n            }\n            else {\n                xhr.send();\n            }\n            // console.log(myRequest.query)\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVxdWVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9SZXF1ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFSCxhQUFhLEVBQ2IsV0FBVyxFQUNkLE1BQU0sYUFBYSxDQUFBO0FBQ3BCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUE7QUFFM0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBZ0NHO0FBQ0gsTUFBTTtJQWlJRjtRQTdIUSxXQUFNLEdBQVcsRUFBRSxDQUFBO1FBQ25CLGNBQVMsR0FBVyxFQUFFLENBQUE7UUFDdEIsMEJBQXFCLEdBQWtCLGFBQWEsQ0FBQyxJQUFJLENBQUE7UUFDekQsWUFBTyxHQUFHLEtBQUssQ0FBQTtRQUVmLG9CQUFlLEdBQVcsT0FBTyxDQUFBO1FBeUhyQyxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQTtJQUN2QixDQUFDO0lBekhELDBDQUEwQztJQUMxQyx3Q0FBd0M7SUFDeEMsK0JBQStCO0lBRS9COzs7T0FHRztJQUNILElBQUksTUFBTTtRQUNOLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0lBQ3ZCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFJLE1BQU0sQ0FBRSxLQUFhO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO0lBQ3hCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFJLFNBQVM7UUFDVCxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQTtJQUMxQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsSUFBSSxTQUFTLENBQUUsS0FBZ0I7UUFDM0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUE7SUFDM0IsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsSUFBSSxLQUFLO1FBQ0wsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUE7SUFDdEIsQ0FBQztJQUVEOzs7Ozs7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","import * as tslib_1 from \"tslib\";\nimport { Request, Tools, Logger, MESSAGES, SparqlTools } from '../sgvizler';\n/**\n *\n * @class sgvizler.\n * @memberof sgvizler\n */\nexport var CONTAINER_STATE;\n(function (CONTAINER_STATE) {\n    CONTAINER_STATE[CONTAINER_STATE[\"FAILED\"] = 0] = \"FAILED\";\n    CONTAINER_STATE[CONTAINER_STATE[\"LOADED\"] = 1] = \"LOADED\";\n    CONTAINER_STATE[CONTAINER_STATE[\"LOADING\"] = 2] = \"LOADING\";\n})(CONTAINER_STATE || (CONTAINER_STATE = {}));\n/**\n * Draws charts specified in HTML containers, here we call them\n * \"sgvizler-containers\".\n *\n * Example of use: The following sgvizler-container will be\n * selected by sgvizler due to the use of designated\n * attributes. The result is a pie chart (draw with\n * `google.visualization.PieChart`) showing the number of instance\n * per class in the endpoint at\n * `http://sws.ifi.uio.no/sparql/ndp`.\n *\n *     <div id=\"ex1\"\n *          data-sgvizler-endpoint=\"http://sws.ifi.uio.no/sparql/npd\"\n *          data-sgvizler-query=\"SELECT ?class (count(?instance) AS ?noOfInstances)\n *                               WHERE{ ?instance a ?class }\n *                               GROUP BY ?class\n *                               ORDER BY ?class\"\n *          data-sgvizler-chart=\"google.visualization.PieChart\"\n *          style=\"width:800px; height:400px;\"></div>\n *\n * These container must have an id attribute (or else sgvizler\n * will not know where to put the chart) and a query attribute (or\n * else the container will be ignored by sgvizler).\n *\n * Dependencies:\n *\n *  - sgvizler.util\n *  - sgvizler.loader\n *  - sgvizler.logger\n *  - sgvizler.Query\n *  - jQuery\n * @class sgvizler.Container\n * @memberof sgvizler\n */\nexport class Container {\n    /**\n     * Collects values designated for sgvizler in the given.\n     * See also property PREFIX.\n     * @param {string} elementID The ID for which the attributes should be collected.\n     */\n    constructor(elementID) {\n        this._chartOptions = '';\n        this._chartName = '';\n        this._loglevel = 0;\n        this._id = '';\n        // step 1 : read parameters and create the object Query\n        // pre-condition\n        let element = document.getElementById(elementID);\n        if (element === null) {\n            throw new Error('elementID unknown : ' + elementID);\n        }\n        let self = Container;\n        this._state = CONTAINER_STATE.LOADING;\n        let elmAttrs = element.attributes;\n        // read basic parameters\n        if (elmAttrs[self.LOG_LEVEL_ATTRIBUTE_NAME]) {\n            this._loglevel = parseInt(elmAttrs[self.LOG_LEVEL_ATTRIBUTE_NAME].value, 10);\n        }\n        if (elmAttrs[self.CHART_ATTRIBUTE_NAME]) {\n            this._chartName = elmAttrs[self.CHART_ATTRIBUTE_NAME].value;\n        }\n        if (elmAttrs[self.CHART_OPTION_ATTRIBUTE_NAME]) {\n            this._chartOptions =\n                Tools.decodeHtml(elmAttrs[self.CHART_OPTION_ATTRIBUTE_NAME].value);\n        }\n        // build request object\n        let request = new Request();\n        request.container = this;\n        this._id = elementID;\n        if (elmAttrs[self.QUERY_ATTRIBUTE_NAME]) {\n            request.query = Tools.decodeHtml(elmAttrs[self.QUERY_ATTRIBUTE_NAME].value);\n        }\n        if (elmAttrs[self.ENDPOINT_ATTRIBUTE_NAME]) {\n            request.endpoint = Tools.decodeHtml(elmAttrs[self.ENDPOINT_ATTRIBUTE_NAME].value);\n        }\n        else {\n            this._state = CONTAINER_STATE.FAILED;\n            Logger.displayFeedback(this, MESSAGES.ERROR_ENDPOINT_FORGOT);\n            return;\n        }\n        if (elmAttrs[self.OUTPUT_FORMAT_ATTRIBUTE_NAME]) {\n            request.endpointOutputFormat = SparqlTools.convertString(elmAttrs[self.OUTPUT_FORMAT_ATTRIBUTE_NAME].value);\n        }\n        if (elmAttrs[self.OUTPUT_METHOD_ATTRIBUTE_NAME]) {\n            request.method = elmAttrs[self.OUTPUT_METHOD_ATTRIBUTE_NAME].value;\n        }\n        if (elmAttrs[self.QUERY_PARAMETER_ATTRIBUTE_NAME]) {\n            request.queryParameter = elmAttrs[self.QUERY_PARAMETER_ATTRIBUTE_NAME].value;\n        }\n        this._request = request;\n        // build the chart object\n        let chart = Tools.getObjectByPath(this.chartName);\n        if (chart === undefined) {\n            this._state = CONTAINER_STATE.FAILED;\n            Logger.displayFeedback(this, MESSAGES.ERROR_CHART_UNKNOWN, [this.chartName]);\n        }\n        else {\n            chart.container = this;\n            // read with and height of container before chart options\n            try {\n                let element = $('#' + elementID);\n                let widthCss = element.css('width');\n                let heightCss = element.css('height');\n                if (widthCss !== null) {\n                    chart.width = widthCss;\n                }\n                if (heightCss !== null && heightCss !== '0px') {\n                    chart.height = heightCss;\n                }\n            }\n            catch (e) {\n                // do nothing, unit test not support jquery\n            }\n            // read options (and replace may be with and height)\n            chart.optionsRaw = this._chartOptions;\n            this._chart = chart;\n        }\n    }\n    /**\n     * Draws the sgvizler-containers with the given element id.\n     * @method containerDraw\n     * @param {string} elementID\n     * @param options\n     * @returns {Promise<void>}\n     */\n    static drawWithElementId(elementID, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let container = new Container(elementID);\n            // console.log(container)\n            Logger.log(container, 'drawing id: ' + elementID);\n            yield container.draw();\n        });\n    }\n    // noinspection JSValidateJSDoc\n    /**\n     * Draws all sgvizler-containers on page.\n     * @returns {Promise<any>}\n     */\n    static drawAll() {\n        let promisesArray = [];\n        let ids = [];\n        let iterator = document.evaluate('//div[@' + Container.PREFIX + 'query]/@id', document, null, XPathResult.ANY_TYPE, null);\n        let thisNode = iterator.iterateNext();\n        while (thisNode) {\n            ids.push(thisNode.value);\n            thisNode = iterator.iterateNext();\n        }\n        for (let id of ids) {\n            promisesArray.push(Container.drawWithElementId(id));\n        }\n        return Promise.all(promisesArray);\n    }\n    static loadDependenciesId(elementID, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let container = new Container(elementID);\n            // console.log(container)\n            Logger.log(container, 'Load dependencies id: ' + elementID);\n            yield container.loadDependencies();\n        });\n    }\n    static loadAllDependencies() {\n        let promisesArray = [];\n        let ids = [];\n        let iterator = document.evaluate('//div[@' + Container.PREFIX + 'query]/@id', document, null, XPathResult.ANY_TYPE, null);\n        let thisNode = iterator.iterateNext();\n        while (thisNode) {\n            ids.push(thisNode.value);\n            thisNode = iterator.iterateNext();\n        }\n        for (let id of ids) {\n            promisesArray.push(Container.loadDependenciesId(id));\n        }\n        return Promise.all(promisesArray);\n    }\n    /**\n     *\n     * @param {string} elementID\n     * @param {string} endpoint\n     * @param {string} query\n     * @param {string} chartName\n     * @param {string} options\n     * @param {string} loglevel\n     * @returns {string}\n     */\n    static create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter) {\n        let element = document.getElementById(elementID);\n        if (element === null) {\n            throw new Error('elementID unknown : ' + elementID);\n        }\n        let self = Container;\n        let attrQuery = document.createAttribute(self.QUERY_ATTRIBUTE_NAME);\n        let attrEndpoint = document.createAttribute(self.ENDPOINT_ATTRIBUTE_NAME);\n        let attrChart = document.createAttribute(self.CHART_ATTRIBUTE_NAME);\n        // attrQuery.value = Tools.escapeHtml(query)\n        attrQuery.value = query;\n        attrEndpoint.value = endpoint;\n        attrChart.value = chartName;\n        element.setAttributeNode(attrQuery);\n        element.setAttributeNode(attrEndpoint);\n        element.setAttributeNode(attrChart);\n        if (options) {\n            let attrOptions = document.createAttribute(self.CHART_OPTION_ATTRIBUTE_NAME);\n            attrOptions.value = options;\n            element.setAttributeNode(attrOptions);\n        }\n        if (loglevel) {\n            let attrLevel = document.createAttribute(self.LOG_LEVEL_ATTRIBUTE_NAME);\n            attrLevel.value = loglevel;\n            element.setAttributeNode(attrLevel);\n        }\n        if (output) {\n            let attrOutput = document.createAttribute(self.OUTPUT_FORMAT_ATTRIBUTE_NAME);\n            attrOutput.value = output;\n            element.setAttributeNode(attrOutput);\n        }\n        if (method) {\n            let attrMethod = document.createAttribute(self.OUTPUT_METHOD_ATTRIBUTE_NAME);\n            attrMethod.value = method;\n            element.setAttributeNode(attrMethod);\n        }\n        if (parameter) {\n            let attrQueryAttribut = document.createAttribute(self.QUERY_PARAMETER_ATTRIBUTE_NAME);\n            attrQueryAttribut.value = parameter;\n            element.setAttributeNode(attrQueryAttribut);\n        }\n        return element.innerHTML;\n    }\n    /**\n     *\n     * @returns {string}\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Get the name of chart object.\n     * @returns {string}\n     */\n    get chartName() {\n        return this._chartName;\n    }\n    ///////////////////////////////////// OPTIONS\n    /**\n     *\n     * @returns {string}\n     */\n    get chartOptions() {\n        return this._chartOptions;\n    }\n    /**\n     *\n     * @returns {Chart}\n     */\n    get chart() {\n        return this._chart;\n    }\n    /**\n     *\n     * @returns {Request}\n     */\n    get request() {\n        return this._request;\n    }\n    /**\n     *\n     * @returns {number}\n     */\n    get loglevel() {\n        return this._loglevel;\n    }\n    /**\n     *\n     * @returns {Promise<void>}\n     */\n    draw() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let sparqlResult;\n            if (this._state === CONTAINER_STATE.FAILED) {\n                return;\n            }\n            try {\n                sparqlResult = yield this.request.sendRequest();\n                // console.log(queryResult)\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_REQUEST, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n            if (this._state === CONTAINER_STATE.FAILED) {\n                return;\n            }\n            let sparqlResultI = sparqlResult;\n            if (sparqlResultI.head === undefined) {\n                console.log(sparqlResultI);\n                Logger.displayFeedback(this, MESSAGES.ERROR_CHART, ['ERROR_head_undefined']);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n            try {\n                this._chart.loadDependenciesAndDraw(sparqlResultI);\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_CHART, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n        });\n    }\n    loadDependencies() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this._chart.loadDependencies();\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_DEPENDENCIES, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n        });\n    }\n}\nContainer.PREFIX = 'data-sgvizler-';\nContainer.QUERY_ATTRIBUTE_NAME = Container.PREFIX + 'query';\nContainer.ENDPOINT_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint';\nContainer.OUTPUT_FORMAT_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-output-format';\nContainer.QUERY_PARAMETER_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-query-parameter';\nContainer.OUTPUT_METHOD_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-method';\nContainer.CHART_ATTRIBUTE_NAME = Container.PREFIX + 'chart';\nContainer.CHART_OPTION_ATTRIBUTE_NAME = Container.PREFIX + 'chart-options';\nContainer.LOG_LEVEL_ATTRIBUTE_NAME = Container.PREFIX + 'log';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGFpbmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0NvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUVILE9BQU8sRUFDUCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFFBQVEsRUFDUixXQUFXLEVBRWQsTUFBTSxhQUFhLENBQUE7QUFJcEI7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLGVBSVg7QUFKRCxXQUFZLGVBQWU7SUFDdkIseURBQU0sQ0FBQTtJQUNOLHlEQUFNLENBQUE7SUFDTiwyREFBTyxDQUFBO0FBQ1gsQ0FBQyxFQUpXLGVBQWUsS0FBZixlQUFlLFFBSTFCO0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlDRztBQUNILE1BQU07SUFvQkY7Ozs7T0FJRztJQUNILFlBQWEsU0FBaUI7UUFadEIsa0JBQWEsR0FBVyxFQUFFLENBQUE7UUFDMUIsZUFBVSxHQUFXLEVBQUUsQ0FBQTtRQUN2QixjQUFTLEdBQVcsQ0FBQyxDQUFBO1FBQ3JCLFFBQUcsR0FBVyxFQUFFLENBQUE7UUFVcEIsdURBQXVEO1FBQ3ZELGdCQUFnQjtRQUNoQixJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ2hELEVBQUUsQ0FBQyxDQUFDLE9BQU8sS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLEdBQUcsU0FBUyxDQUFDLENBQUE7UUFDdkQsQ0FBQztRQUVELElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQTtRQUNwQixJQUFJLENBQUMsTUFBTSxHQUFHLGVBQWUsQ0FBQyxPQUFPLENBQUE7UUFFckMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQTtRQUVqQyx3QkFBd0I7UUFDeEIsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyx3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","/**\n * @namespace sgvizler\n */\nimport * as visualizationNS from './sgvizler/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './sgvizler/Loader';\nexport * from './sgvizler/Dependency';\nexport * from './sgvizler/SparqlError';\nexport * from './sgvizler/Select';\nexport * from './sgvizler/Messages';\nexport * from './sgvizler/Tools';\nexport * from './sgvizler/Logger';\nexport * from './sgvizler/Core';\nexport * from './sgvizler/Chart';\nexport * from './sgvizler/SparqlTools';\nexport * from './sgvizler/Request';\nexport * from './sgvizler/Container';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2d2aXpsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2d2aXpsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLDBCQUEwQixDQUFBO0FBQzNELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUE7QUFFNUMsUUFBUTtBQUVSLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyx1QkFBdUIsQ0FBQTtBQUVyQyxjQUFjLHdCQUF3QixDQUFBO0FBQ3RDLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyxxQkFBcUIsQ0FBQTtBQUNuQyxjQUFjLGtCQUFrQixDQUFBO0FBQ2hDLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyxpQkFBaUIsQ0FBQTtBQUMvQixjQUFjLGtCQUFrQixDQUFBO0FBQ2hDLGNBQWMsd0JBQXdCLENBQUE7QUFDdEMsY0FBYyxvQkFBb0IsQ0FBQTtBQUNsQyxjQUFjLHNCQUFzQixDQUFBIn0=","import { Core, Chart, MESSAGES, Logger } from '../../sgvizler';\n/**\n * Enum for tri-state values.\n * @readonly\n * @enum {number}\n */\nvar DATATABLE_COL_OPTIONS;\n(function (DATATABLE_COL_OPTIONS) {\n    DATATABLE_COL_OPTIONS[DATATABLE_COL_OPTIONS[\"TAG\"] = 0] = \"TAG\";\n    DATATABLE_COL_OPTIONS[DATATABLE_COL_OPTIONS[\"STYLE\"] = 1] = \"STYLE\";\n})(DATATABLE_COL_OPTIONS || (DATATABLE_COL_OPTIONS = {}));\n/**\n * This table uses <a href=\"https://datatables.net/\">DataTables.net</a>.\n * You can adapt each column with the option colstyle.\n *\n * @class bordercloud.visualization.DataTable\n * @memberof bordercloud.visualization\n */\nexport class DataTable extends Chart {\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/DataTables/datatables.min.css');\n        this.addCss(Core.path + '/lib/DataTables/DataTables-1.10.15/css/dataTables.bootstrap4.min.css');\n        let depDatatables = this.addScript(Core.path + '/lib/DataTables/datatables.min.js');\n        this.addScript(Core.path + '/lib/DataTables/Buttons-1.4.0/js/dataTables.buttons.js', depDatatables);\n        this.addScript(Core.path + '/lib/DataTables/DataTables-1.10.15/js/dataTables.bootstrap4.js', depDatatables);\n    }\n    /**\n     * This function parses colStyle option and build the parameter ColumnDef of DataTable\n     * Example :\n     * \"colStyle=col2_img_max-width:250px;col2_img_border-radius:50%;col2_img_display:block;col2_img_margin:auto;col3_img_max-width:300px;col3_img_max-height:300px;col2_img_opacity:0.5\"\n     *\n     * @param {string} codeStyle\n     * @param {number} noCols\n     * @returns {Array<any>}\n     */\n    static buildColumnDefs(codeStyle, noCols) {\n        // noinspection Annotator\n        let regex = / *col([1-9]+)\\_([a-zA-Z]+)\\_([^=;\\n]*) */ig;\n        let m;\n        let datasetColumnsDefs = [];\n        let datasetColumnsFunc;\n        let colOptions = [];\n        let optionCol;\n        // init\n        for (let c = 0; c < noCols; c++) {\n            colOptions[c] = [];\n            colOptions[c][DATATABLE_COL_OPTIONS.TAG] = '';\n            colOptions[c][DATATABLE_COL_OPTIONS.STYLE] = '';\n        }\n        // noinspection TsLint\n        while ((m = regex.exec(codeStyle)) !== null) {\n            // This is necessary to avoid infinite loops with zero-width matches\n            if (m.index === regex.lastIndex) {\n                regex.lastIndex++;\n            }\n            optionCol = parseInt(m[1], 10);\n            colOptions[optionCol][DATATABLE_COL_OPTIONS.TAG] = m[2];\n            colOptions[optionCol][DATATABLE_COL_OPTIONS.STYLE] += m[3] + ';';\n        }\n        for (let c = 0; c < noCols; c++) {\n            switch (colOptions[c][DATATABLE_COL_OPTIONS.TAG]) {\n                case 'img':\n                    datasetColumnsFunc = this.getFunctionColumnDefImg(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                case 'span':\n                    datasetColumnsFunc = this.getFunctionColumnDefSpan(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                /**/\n                case 'video':\n                    datasetColumnsFunc = this.getFunctionColumnDefVideo(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                default:\n                    datasetColumnsFunc = this.getFunctionColumnDefDefault();\n            }\n            // noinspection TsLint\n            datasetColumnsDefs[c] = {\n                'targets': c,\n                // \"data\": \"description\",\n                'render': datasetColumnsFunc\n            };\n        }\n        return datasetColumnsDefs;\n    }\n    static getFunctionColumnDefDefault() {\n        return (function (data, type, full, meta) {\n            return data;\n        });\n    }\n    static getFunctionColumnDefImg(style) {\n        return (function (data, type, full, meta) {\n            return '<img src=\"' + data + '\"  style=\"' + style + '\"\\>';\n        });\n    }\n    static getFunctionColumnDefVideo(style) {\n        return (function (data, type, full, meta) {\n            let youtubePattern = new RegExp('youtu');\n            let facebookPattern = new RegExp('facebook');\n            let mediawikiPattern = new RegExp('commons\\.wikimedia\\.org');\n            if (youtubePattern.test(data)) {\n                let url = data.replace('watch?v=', 'embed/');\n                return '<iframe  style=\"' + style + '\" src=\"' + url + '\" meta http-equiv=\"X-Frame-Options\" content=\"allow\" frameborder=\"0\" allowfullscreen></iframe>';\n            }\n            else if (facebookPattern.test(data)) {\n                //data = 'https://www.facebook.com/XXXX/videos/XXXXX/' // example\n                //doc https://developers.facebook.com/docs/plugins/embedded-video-player\n                return '<iframe src=\"https://www.facebook.com/plugins/video.php?href=' + encodeURIComponent(data) + '&show_text=0&width=560\" style=\"border:none;overflow:hidden;' + style + '\" scrolling=\"no\" frameborder=\"0\" allowTransparency=\"true\" allowFullScreen=\"true\"></iframe>';\n            }\n            else if (mediawikiPattern.test(data)) {\n                //data = 'https://commons.wikimedia.org/wiki/File%3AAuguste_%26_Louis_Lumi%C3%A8re-_L'Arroseur_arros%C3%A9_(1895).webm' // example\n                //return '<iframe src=\"' + data + '?embedplayer=false\" style=\"' + style + '\" frameborder=\"0\" allowfullscreen></iframe>'\n                //doc http://html5video.org/wiki/Rewriting_HTML5_Media_Elements\n                return '<video controls style=\"' + style + '\"><source src=\"' + data + '\"></video>';\n            }\n            else {\n                return '<iframe  style=\"' + style + '\" src=\"' + data + '\" meta http-equiv=\"X-Frame-Options\" content=\"allow\" frameborder=\"0\" allowfullscreen></iframe>';\n            }\n        });\n    }\n    static getFunctionColumnDefSpan(style) {\n        return (function (data, type, full, meta) {\n            return '<span style=\"' + style + '\"\\>' + data + '</span>';\n        });\n    }\n    get icon() {\n        return 'fa-table';\n    }\n    get label() {\n        return 'DataTable';\n    }\n    get subtext() {\n        return 'DataTable';\n    }\n    get classFullName() {\n        return 'bordercloud.visualization.DataTable';\n    }\n    get tutorialFilename() {\n        return 'tutorial-bordercloud_visualization_DataTable.html';\n    }\n    /**\n     * Draw a chart\n     * Available options:\n     * - 'class' :  css class (default: \"table table-striped table-bordered\")\n     * - 'cellspacing'   : cellspacing of table  (default: \"0\")\n     * - 'width'   :  width (default: \"100%\")\n     * - 'colStyle'   :   (default: \"\")\n     *\n     * Example :\n     * \"colStyle=col2_img_max-width:250px;col2_img_border-radius:50%;col2_img_display:block;col2_img_margin:auto;col3_img_max-width:300px;col3_img_max-height:300px;col2_img_opacity:0.5\"\n     *\n     * @param {SparqlResultInterface} result\n     * @returns {Promise< any >}\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // precondition\n            let obj = document.getElementById(currentChart.container.id);\n            if (!obj) {\n                Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART_UNKNOWN, [currentChart.container.id]);\n                return resolve();\n            }\n            try {\n                let cols = result.head.vars;\n                let rows = result.results.bindings;\n                let row;\n                let datasetRow;\n                let noCols = cols.length;\n                let noRows = rows.length;\n                let idChart = currentChart.container.id + '-datatable';\n                let datasetColumns = [];\n                let datasetColumnsDefs;\n                let dataset = [];\n                let tableElement = document.createElement('table');\n                let tableId = document.createAttribute('id');\n                let tableClass = document.createAttribute('class');\n                let tableCellSpacing = document.createAttribute('cellspacing');\n                let tableWidth = document.createAttribute('width');\n                let opt = Object.assign({\n                    'class': 'table table-striped table-bordered',\n                    'cellspacing': '0',\n                    'width': '100%',\n                    'colstyle': undefined\n                }, currentChart.options);\n                for (let c = 0; c < noCols; c++) {\n                    datasetColumns[c] = { title: cols[c] };\n                }\n                if (opt.colstyle !== undefined) {\n                    datasetColumnsDefs = DataTable.buildColumnDefs(opt.colstyle, noCols);\n                }\n                for (let r = 0; r < noRows; r++) {\n                    row = rows[r];\n                    datasetRow = [];\n                    // loop cells\n                    for (let c = 0; c < noCols; c += 1) {\n                        datasetRow[c] = row[cols[c]] !== undefined ? row[cols[c]].value : '';\n                    }\n                    dataset[r] = datasetRow;\n                }\n                tableId.value = idChart;\n                tableClass.value = opt.class;\n                tableCellSpacing.value = opt.cellspacing;\n                tableWidth.value = opt.width;\n                tableElement.setAttributeNode(tableId);\n                tableElement.setAttributeNode(tableClass);\n                tableElement.setAttributeNode(tableCellSpacing);\n                tableElement.setAttributeNode(tableWidth);\n                obj.appendChild(tableElement);\n                $('#' + idChart).DataTable({\n                    bSort: false,\n                    data: dataset,\n                    columns: datasetColumns,\n                    columnDefs: datasetColumnsDefs,\n                    dom: 'Bfrtip',\n                    buttons: [\n                        'csv',\n                        'pdf',\n                        'print'\n                    ]\n                });\n            }\n            catch (e) {\n                return reject(e);\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YVRhYmxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2JvcmRlcmNsb3VkL3Zpc3VhbGl6YXRpb24vRGF0YVRhYmxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxJQUFJLEVBQ0osS0FBSyxFQUVMLFFBQVEsRUFDUixNQUFNLEVBQ1QsTUFBTSxnQkFBZ0IsQ0FBQTtBQUl2Qjs7OztHQUlHO0FBQ0gsSUFBSyxxQkFHSjtBQUhELFdBQUsscUJBQXFCO0lBQ3RCLCtEQUFHLENBQUE7SUFDSCxtRUFBSyxDQUFBO0FBQ1QsQ0FBQyxFQUhJLHFCQUFxQixLQUFyQixxQkFBcUIsUUFHekI7QUFFRDs7Ozs7O0dBTUc7QUFDSCxNQUFNLGdCQUFpQixTQUFRLEtBQUs7SUFFaEM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUVQLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxvQ0FBb0MsQ0FBQyxDQUFBO1FBQzdELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxzRUFBc0UsQ0FBQyxDQUFBO1FBQy9GLElBQUksYUFBYSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxtQ0FBbUMsQ0FBQyxDQUFBO1FBQ25GLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyx3REFBd0QsRUFBQyxhQUFhLENBQUMsQ0FBQTtRQUNsRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsZ0VBQWdFLEVBQUMsYUFBYSxDQUFDLENBQUE7SUFFOUcsQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ0ssTUFBTSxDQUFDLGVBQWUsQ0FBRSxTQUFpQixFQUFDLE1BQWM7UUFDNUQseUJBQXlCO1FBQ3pCLElBQUksS0FBSyxHQUFHLDRDQUE0QyxDQUFBO1FBQ3hELElBQUksQ0FBQyxDQUFBO1FBQ0wsSUFBSSxr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","/**\n * @namespace bordercloud\n */\nimport * as visualizationNS from './bordercloud/visualization';\nexport const visualization = visualizationNS;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9yZGVyY2xvdWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYm9yZGVyY2xvdWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLDZCQUE2QixDQUFBO0FBQzlELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUEifQ==","/**\n * Tools\n * @class google.Tools\n * @memberof google\n */\nexport class Tools {\n    static decodeFormatSize(value) {\n        let result = value;\n        if (Number.isNaN(Number(value))) {\n            result = result.replace('px', '');\n            if (!Number.isNaN(Number(result))) {\n                result = Number(result);\n            }\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZ29vZ2xlL1Rvb2xzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNO0lBQ0ssTUFBTSxDQUFDLGdCQUFnQixDQUFFLEtBQVU7UUFDdEMsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFBO1FBQ2xCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlCLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQTtZQUNqQyxFQUFFLENBQUMsQ0FBQyxDQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQzNCLENBQUM7UUFDTCxDQUFDO1FBQ0QsTUFBTSxDQUFDLE1BQU0sQ0FBQTtJQUNqQixDQUFDO0NBQ0oifQ==","/**\n * Data\n * @class google.Data\n * @memberof google.Data\n */\nexport class Data {\n    constructor(result, raw = false) {\n        if (raw) {\n            this.convertResultRaw(result);\n        }\n        else {\n            this.convertResult(result);\n        }\n    }\n    setRole(col, role) {\n        this._dataTable.setColumnProperty(col, 'role', role);\n    }\n    getDataTable() {\n        return this._dataTable;\n    }\n    convertResult(result) {\n        let data = new google.visualization.DataTable();\n        let cols = result.head.vars;\n        let rows = result.results.bindings;\n        let noCols = cols.length;\n        let noRows = rows.length;\n        for (let col of cols) {\n            // RDF Term\tJSON form\n            // IRI I\t{\"type\": \"uri\", \"value\": \"I\"}\n            // Literal S\t{\"type\": \"literal\",\"value\": \"S\"}\n            // Literal S with language tag L\t{ \"type\": \"literal\", \"value\": \"S\", \"xml:lang\": \"L\"}\n            // Literal S with datatype IRI D\t{ \"type\": \"literal\", \"value\": \"S\", \"datatype\": \"D\"}\n            // Blank node, label B\t{\"type\": \"bnode\", \"value\": \"B\"}\n            let colName = col.replace('_', ' ');\n            if (noRows > 0) {\n                let type = rows[0][col] !== undefined ? rows[0][col].datatype : '';\n                if (type === 'http://www.w3.org/2001/XMLSchema#decimal' ||\n                    type === 'http://www.w3.org/2001/XMLSchema#integer') {\n                    data.addColumn('number', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#boolean') {\n                    data.addColumn('boolean', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#date') {\n                    data.addColumn('date', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#dateTime') {\n                    data.addColumn('datetime', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#time') {\n                    data.addColumn('timeofday', colName);\n                }\n                else {\n                    data.addColumn('string', colName);\n                }\n            }\n            else {\n                data.addColumn('string', colName);\n            }\n        }\n        if (noRows > 0) {\n            data.addRows(noRows);\n            let i = 0;\n            for (let x = 0; x < noRows; x++) {\n                for (let y = 0; y < noCols; y++) {\n                    // data.setCell(x,y,rows[x][cols[y]].value)\n                    let type = rows[x][cols[y]] !== undefined && rows[x][cols[y]].hasOwnProperty('datatype') ? rows[x][cols[y]].datatype : '';\n                    if (type === 'http://www.w3.org/2001/XMLSchema#integer') {\n                        data.setCell(x, y, parseInt(rows[x][cols[y]].value, 10));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#decimal' || type === 'http://www.w3.org/2001/XMLSchema#float') {\n                        data.setCell(x, y, parseFloat(rows[x][cols[y]].value));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#boolean') {\n                        // todo test\n                        // 'boolean' - JavaScript boolean value ('true' or 'false'). Example value: v:'true'\n                        data.setCell(x, y, rows[x][cols[y]].value === 'true' ? true : false);\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#date') {\n                        // todo test\n                        // 'date' - JavaScript Date object (zero-based month), with the time truncated. Example value: v:new Date(2008, 0, 15)\n                        data.setCell(x, y, new Date(rows[x][cols[y]].value));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#dateTime') {\n                        // todo test\n                        // 'datetime' - JavaScript Date object including the time. Example value: v:new Date(2008, 0, 15, 14, 30, 45)\n                        data.setCell(x, y, new Date(rows[x][cols[y]].value));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#time') {\n                        // todo test\n                        // 'timeofday' - Array of three numbers and an optional fourth, representing hour (0 indicates midnight), minute, second, and optional millisecond. Example values: v:[8, 15, 0], v: [6, 12, 1, 144]\n                        let time = new Date(rows[x][cols[y]].value);\n                        data.setCell(x, y, [time.getHours(), time.getHours(), time.getSeconds(), time.getMilliseconds()]);\n                    }\n                    else {\n                        if (rows[x][cols[y]] === undefined) {\n                            data.setCell(x, y, null);\n                        }\n                        else {\n                            // 'string' - JavaScript string value. Example value: v:'hello'\n                            //let value = rows[x][cols[y]] !== undefined ? rows[x][cols[y]].value : ''\n                            data.setCell(x, y, rows[x][cols[y]].value);\n                        }\n                    }\n                    // console.log('rows['+x+'][cols['+y+']].value = ' + rows[x][cols[y]].value + ' ' +\n                    // rows[x][cols[y]].datatype)\n                }\n            }\n        }\n        this._dataTable = data;\n    }\n    convertResultRaw(result) {\n        let data = new google.visualization.DataTable();\n        let cols = result.head.vars;\n        let rows = result.results.bindings;\n        let noCols = cols.length;\n        let noRows = rows.length;\n        for (let col of cols) {\n            data.addColumn('string', col);\n        }\n        if (noRows > 0) {\n            data.addRows(noRows);\n            let i = 0;\n            for (let x = 0; x < noRows; x++) {\n                for (let y = 0; y < noCols; y++) {\n                    if (rows[x][cols[y]] === undefined) {\n                        data.setCell(x, y, '');\n                    }\n                    else {\n                        data.setCell(x, y, rows[x][cols[y]].value.toString());\n                    }\n                }\n            }\n        }\n        this._dataTable = data;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9nb29nbGUvRGF0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQTs7OztHQUlHO0FBQ0gsTUFBTTtJQUlGLFlBQWEsTUFBNkIsRUFBRSxNQUFlLEtBQUs7UUFDNUQsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNOLElBQUksQ0FBQyxnQkFBZ0IsQ0FBRSxNQUFNLENBQUMsQ0FBQTtRQUNsQyxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixJQUFJLENBQUMsYUFBYSxDQUFFLE1BQU0sQ0FBQyxDQUFBO1FBQy9CLENBQUM7SUFDTCxDQUFDO0lBRUQsT0FBTyxDQUFFLEdBQVcsRUFBRSxJQUFZO1FBQzlCLElBQUksQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUN4RCxDQUFDO0lBRUQsWUFBWTtRQUNSLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFBO0lBQzFCLENBQUM7SUFFTyxhQUFhLENBQUUsTUFBNkI7UUFDaEQsSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxDQUFBO1FBRS9DLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFBO1FBQzNCLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFBO1FBQ2xDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7UUFDeEIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtRQUV4QixHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25CLHFCQUFxQjtZQUNyQixzQ0FBc0M7WUFDdEMsNkNBQTZDO1lBQzdDLG9GQUFvRjtZQUNwRixvRkFBb0Y7WUFD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","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo AnnotationChart\n * @class google.visualization.AnnotationChart\n * @tutorial google_visualization_AnnotationChart\n * @memberof google.visualization\n */\nexport class AnnotationChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['annotationchart'] });\n        AnnotationChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-line-chart';\n    }\n    get label() {\n        return 'AnnotationChart';\n    }\n    get subtext() {\n        return 'AnnotationChart';\n    }\n    get classFullName() {\n        return 'google.visualization.AnnotationChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_AnnotationChart.html';\n    }\n    /**\n     * Make a standard simple html AnnotationChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf AnnotationChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!AnnotationChart._isInit) {\n                AnnotationChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let AnnotationChart = new google.visualization.AnnotationChart(document.getElementById(currentChart.container.id));\n                    AnnotationChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nAnnotationChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQW5ub3RhdGlvbkNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0Fubm90YXRpb25DaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxzQkFBdUIsU0FBUSxLQUFLO0lBR3RDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsaUJBQWlCLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDaEUsZUFBZSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDbEMsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE1BQU0sQ0FBQyxlQUFlLENBQUE7SUFDMUIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQTtJQUM1QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsTUFBTSxDQUFDLGlCQUFpQixDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLHNDQUFzQyxDQUFBO0lBQ2pELENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsb0RBQW9ELENBQUE7SUFDL0QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDNUIsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFBO1lBQzFCLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLGVBQWUsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNsSCxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDbEQsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTVFYyx1QkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo AreaChart\n * @class google.visualization.AreaChart\n * @tutorial google_visualization_AreaChart\n * @memberof google.visualization\n */\nexport class AreaChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        AreaChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-area-chart';\n    }\n    get label() {\n        return 'AreaChart';\n    }\n    get subtext() {\n        return 'AreaChart';\n    }\n    get classFullName() {\n        return 'google.visualization.AreaChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_AreaChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!AreaChart._isInit) {\n                AreaChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let areaChart = new google.visualization.AreaChart(document.getElementById(currentChart.container.id));\n                    areaChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nAreaChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXJlYUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0FyZWFDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxnQkFBaUIsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsZUFBZSxDQUFBO0lBQzFCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLGdDQUFnQyxDQUFBO0lBQzNDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsOENBQThDLENBQUE7SUFDekQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ3BCLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLFNBQVMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUN0RyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDNUMsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTVFYyxpQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo BarChart\n * @class google.visualization.BarChart\n * @tutorial google_visualization_BarChart\n * @memberof google.visualization\n */\nexport class BarChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'bar'] });\n        BarChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-align-left';\n    }\n    get label() {\n        return 'BarChart';\n    }\n    get subtext() {\n        return 'BarChart';\n    }\n    get classFullName() {\n        return 'google.visualization.BarChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_BarChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf BarChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!BarChart._isInit) {\n                BarChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.BarChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nBarChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFyQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQmFyQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sZUFBZ0IsU0FBUSxLQUFLO0lBRy9CO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUNqRSxRQUFRLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUMzQixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsTUFBTSxDQUFDLGVBQWUsQ0FBQTtJQUMxQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsTUFBTSxDQUFDLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE1BQU0sQ0FBQywrQkFBK0IsQ0FBQTtJQUMxQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsTUFBTSxDQUFDLDZDQUE2QyxDQUFBO0lBQ3hELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ3hELENBQUM7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixLQUFLLEVBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2xELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLEVBQUUsQ0FBQyxDQUFDLENBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ3JCLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtZQUNuQixDQUFDO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUksQ0FBQztvQkFDRCxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDakcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7Z0JBQ3hDLENBQUM7Z0JBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDYixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2dCQUNqRyxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUE7WUFDTixTQUFTO1lBQ1QsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUEzRWMsZ0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo BubbleChart\n * @class google.visualization.BubbleChart\n * @tutorial google_visualization_BubbleChart\n * @memberof google.visualization\n */\nexport class BubbleChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        BubbleChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-circle';\n    }\n    get label() {\n        return 'BubbleChart';\n    }\n    get subtext() {\n        return 'BubbleChart';\n    }\n    get classFullName() {\n        return 'google.visualization.BubbleChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_BubbleChart.html';\n    }\n    /**\n     * Make a standard simple html bubbleChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf BubbleChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!BubbleChart._isInit) {\n                BubbleChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.BubbleChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nBubbleChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnViYmxlQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQnViYmxlQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sa0JBQW1CLFNBQVEsS0FBSztJQUdsQztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUMxRCxXQUFXLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUM5QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsTUFBTSxDQUFDLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsTUFBTSxDQUFDLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE1BQU0sQ0FBQyxrQ0FBa0MsQ0FBQTtJQUM3QyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsTUFBTSxDQUFDLGdEQUFnRCxDQUFBO0lBQzNELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ3hELENBQUM7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLEVBQUUsQ0FBQyxDQUFDLENBQUUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtZQUN0QixDQUFDO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUksQ0FBQztvQkFDRCxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDbkcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7Z0JBQ3pDLENBQUM7Z0JBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDYixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2dCQUNqRyxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUE7WUFDTixTQUFTO1lBQ1QsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUEzRWMsbUJBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Calendar\n * @class google.visualization.Calendar\n * @tutorial google_visualization_Calendar\n * @memberof google.visualization\n */\nexport class Calendar extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['calendar'] });\n        Calendar._isInit = true;\n    }\n    get icon() {\n        return 'fa-calendar';\n    }\n    get label() {\n        return 'Calendar';\n    }\n    get subtext() {\n        return 'Calendar';\n    }\n    get classFullName() {\n        return 'google.visualization.Calendar';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Calendar.html';\n    }\n    /**\n     * Make a standard simple html Calendar.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Calendar\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!Calendar._isInit) {\n                Calendar.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let calendar = new google.visualization.Calendar(document.getElementById(currentChart.container.id));\n                    calendar.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nCalendar._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FsZW5kYXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQ2FsZW5kYXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sZUFBZ0IsU0FBUSxLQUFLO0lBRy9CO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ3pELFFBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzNCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLCtCQUErQixDQUFBO0lBQzFDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDckIsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ25CLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNyRyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDMUMsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTVFYyxnQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES, Messages } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo CandlestickChart\n * @class google.visualization.CandlestickChart\n * @tutorial google_visualization_CandlestickChart\n * @memberof google.visualization\n */\nexport class CandlestickChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        CandlestickChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-line-chart';\n    }\n    get label() {\n        return 'CandlestickChart';\n    }\n    get subtext() {\n        return 'CandlestickChart';\n    }\n    get classFullName() {\n        return 'google.visualization.CandlestickChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_CandlestickChart.html';\n    }\n    /**\n     * Make a standard simple html CandlestickChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf CandlestickChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // console.log(noCols + \" x \" + noRows)\n            if (result.results.bindings.length === 0) {\n                return reject(Messages.get(MESSAGES.ERROR_DATA_NOROW));\n            }\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!CandlestickChart._isInit) {\n                CandlestickChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let candlestickChart = new google.visualization.CandlestickChart(document.getElementById(currentChart.container.id));\n                    candlestickChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nCandlestickChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FuZGxlc3RpY2tDaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9DYW5kbGVzdGlja0NoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFFBQVEsRUFDUixRQUFRLEVBRVgsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLHVCQUF3QixTQUFRLEtBQUs7SUFHdkM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDMUQsZ0JBQWdCLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUNuQyxDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsTUFBTSxDQUFDLGVBQWUsQ0FBQTtJQUMxQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixNQUFNLENBQUMsdUNBQXVDLENBQUE7SUFDbEQsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE1BQU0sQ0FBQyxxREFBcUQsQ0FBQTtJQUNoRSxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsdUNBQXVDO1lBRXZDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN4QyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQTtZQUMxRCxDQUFDO1lBRUQsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtZQUMzQixDQUFDO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUksQ0FBQztvQkFDRCxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3JILGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7Z0JBQ2xELENBQUM7Z0JBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDYixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2dCQUNqRyxDQUFDO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUEvRWMsd0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo ColumnChart\n * @class google.visualization.ColumnChart\n * @tutorial google_visualization_ColumnChart\n * @memberof google.visualization\n */\nexport class ColumnChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'bar'] });\n        ColumnChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-bar-chart';\n    }\n    get label() {\n        return 'ColumnChart';\n    }\n    get subtext() {\n        return 'ColumnChart';\n    }\n    get classFullName() {\n        return 'google.visualization.ColumnChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_ColumnChart.html';\n    }\n    /**\n     * Make a standard simple html ColumnChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf ColumnChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                reverseCategories: false,\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!ColumnChart._isInit) {\n                ColumnChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let ColumnChart = new google.visualization.ColumnChart(document.getElementById(currentChart.container.id));\n                    ColumnChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nColumnChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sdW1uQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQ29sdW1uQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sa0JBQW1CLFNBQVEsS0FBSztJQUdsQztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDakUsV0FBVyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDOUIsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE1BQU0sQ0FBQyxjQUFjLENBQUE7SUFDekIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE1BQU0sQ0FBQyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE1BQU0sQ0FBQyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixNQUFNLENBQUMsa0NBQWtDLENBQUE7SUFDN0MsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE1BQU0sQ0FBQyxnREFBZ0QsQ0FBQTtJQUMzRCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN4RCxDQUFDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDcEIsaUJBQWlCLEVBQUUsS0FBSztnQkFDeEIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixFQUFFLENBQUMsQ0FBQyxDQUFFLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUN4QixXQUFXLENBQUMsSUFBSSxFQUFFLENBQUE7WUFDdEIsQ0FBQztZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJLENBQUM7b0JBQ0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksV0FBVyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQzFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2dCQUM5QyxDQUFDO2dCQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtnQkFDakcsQ0FBQztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBN0VjLG1CQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo ComboChart\n * @class google.visualization.ComboChart\n * @tutorial google_visualization_ComboChart\n * @memberof google.visualization\n */\nexport class ComboChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        ComboChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-signal';\n    }\n    get label() {\n        return 'ComboChart';\n    }\n    get subtext() {\n        return 'ComboChart';\n    }\n    get classFullName() {\n        return 'google.visualization.ComboChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_ComboChart.html';\n    }\n    /**\n     * Make a standard simple html ComboChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf ComboChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!ComboChart._isInit) {\n                ComboChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let comboChart = new google.visualization.ComboChart(document.getElementById(currentChart.container.id));\n                    comboChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nComboChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tYm9DaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9Db21ib0NoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLGlCQUFrQixTQUFRLEtBQUs7SUFHakM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDMUQsVUFBVSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE1BQU0sQ0FBQyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE1BQU0sQ0FBQyxZQUFZLENBQUE7SUFDdkIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE1BQU0sQ0FBQyxZQUFZLENBQUE7SUFDdkIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixNQUFNLENBQUMsaUNBQWlDLENBQUE7SUFDNUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE1BQU0sQ0FBQywrQ0FBK0MsQ0FBQTtJQUMxRCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN4RCxDQUFDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDcEIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixFQUFFLENBQUMsQ0FBQyxDQUFFLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUN2QixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUE7WUFDckIsQ0FBQztZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJLENBQUM7b0JBQ0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksVUFBVSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3hHLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2dCQUM3QyxDQUFDO2dCQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtnQkFDakcsQ0FBQztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBNUVjLGtCQUFPLEdBQVksS0FBSyxDQUFBIn0=","/**\n * Todo API\n * @class google.API\n * @memberof google\n */\nexport class API {\n    /**\n     * todo\n     * @returns {string}\n     */\n    static get key() {\n        return this._key;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    static set key(value) {\n        this._key = value;\n    }\n}\n/**\n * todo\n * @type {string}\n * @private\n */\nAPI._key = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVBJLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2dvb2dsZS9BUEkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU07SUFDRjs7O09BR0c7SUFDSCxNQUFNLEtBQUssR0FBRztRQUNWLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFBO0lBQ3BCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxNQUFNLEtBQUssR0FBRyxDQUFFLEtBQWE7UUFDekIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUE7SUFDckIsQ0FBQzs7QUFFRDs7OztHQUlHO0FBQ1ksUUFBSSxHQUFXLEVBQUUsQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\nimport { API } from '../API';\n/**\n * Todo GeoChart\n * @class google.visualization.GeoChart\n * @tutorial google_visualization_GeoChart\n * @memberof google.visualization\n */\nexport class GeoChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['geochart'], mapsApiKey: API.key });\n        GeoChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-globe';\n    }\n    get label() {\n        return 'GeoChart';\n    }\n    get subtext() {\n        return 'GeoChart';\n    }\n    get classFullName() {\n        return 'google.visualization.GeoChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_GeoChart.html';\n    }\n    /**\n     * Make a standard simple html geochart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf GeoChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!GeoChart._isInit) {\n                GeoChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let geochart = new google.visualization.GeoChart(document.getElementById(currentChart.container.id));\n                    geochart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nGeoChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2VvQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vR2VvQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUM5QixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBSTVCOzs7OztHQUtHO0FBQ0gsTUFBTSxlQUFnQixTQUFRLEtBQUs7SUFHL0I7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxVQUFVLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBQyxDQUFDLENBQUE7UUFDOUUsUUFBUSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDM0IsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE1BQU0sQ0FBQyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE1BQU0sQ0FBQyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE1BQU0sQ0FBQyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixNQUFNLENBQUMsK0JBQStCLENBQUE7SUFDMUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE1BQU0sQ0FBQyw2Q0FBNkMsQ0FBQTtJQUN4RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN4RCxDQUFDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDcEIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixFQUFFLENBQUMsQ0FBQyxDQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixRQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7WUFDbkIsQ0FBQztZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJLENBQUM7b0JBQ0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3BHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2dCQUMzQyxDQUFDO2dCQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtnQkFDakcsQ0FBQztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBNUVjLGdCQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Histogram\n * @class google.visualization.Histogram\n * @tutorial google_visualization_Histogram\n * @memberof google.visualization\n */\nexport class Histogram extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        Histogram._isInit = true;\n    }\n    get icon() {\n        return 'fa-area-chart';\n    }\n    get label() {\n        return 'Histogram';\n    }\n    get subtext() {\n        return 'Histogram';\n    }\n    get classFullName() {\n        return 'google.visualization.Histogram';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Histogram.html';\n    }\n    /**\n     * Make a standard simple html Histogram.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Histogram\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!Histogram._isInit) {\n                Histogram.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let histogram = new google.visualization.Histogram(document.getElementById(currentChart.container.id));\n                    histogram.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nHistogram._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGlzdG9ncmFtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0hpc3RvZ3JhbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxnQkFBaUIsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsZUFBZSxDQUFBO0lBQzFCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLGdDQUFnQyxDQUFBO0lBQzNDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsOENBQThDLENBQUE7SUFDekQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ3BCLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLFNBQVMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUN0RyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDNUMsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTVFYyxpQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo IntervalChart\n * @class google.visualization.IntervalChart\n * @tutorial google_visualization_IntervalChart\n * @memberof google.visualization\n */\nexport class IntervalChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'line'] });\n        IntervalChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-line-chart';\n    }\n    get label() {\n        return 'Interval';\n    }\n    get subtext() {\n        return 'Interval';\n    }\n    get classFullName() {\n        return 'google.visualization.IntervalChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_IntervalChart.html';\n    }\n    /**\n     * Draw a IntervalChart\n     * @memberOf IntervalChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!IntervalChart._isInit) {\n                IntervalChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let cols = result.head.vars;\n                    let noCols = cols.length;\n                    for (let y = 2; y < noCols; y++) {\n                        data.setRole(y, 'interval');\n                    }\n                    let line = new google.visualization.LineChart(document.getElementById(currentChart.container.id));\n                    line.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nIntervalChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW50ZXJ2YWxDaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9JbnRlcnZhbENoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLG9CQUFxQixTQUFRLEtBQUs7SUFHcEM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxXQUFXLEVBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ2pFLGFBQWEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ2hDLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsZUFBZSxDQUFBO0lBQzFCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLG9DQUFvQyxDQUFBO0lBQy9DLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsa0RBQWtELENBQUE7SUFDN0QsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUV4QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN4RCxDQUFDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDcEIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixFQUFFLENBQUMsQ0FBQyxDQUFFLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUMxQixhQUFhLENBQUMsSUFBSSxFQUFFLENBQUE7WUFDeEIsQ0FBQztZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJLENBQUM7b0JBQ0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFBO29CQUMzQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO29CQUV4QixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUM5QixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxVQUFVLENBQUMsQ0FBQTtvQkFDOUIsQ0FBQztvQkFFRCxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNqRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDdkMsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQS9FYyxxQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo LineChart\n * @class google.visualization.LineChart\n * @tutorial google_visualization_LineChart\n * @memberof google.visualization\n */\nexport class LineChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'line'] });\n        LineChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-line-chart';\n    }\n    get label() {\n        return 'Line';\n    }\n    get subtext() {\n        return 'Line';\n    }\n    get classFullName() {\n        return 'google.visualization.LineChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_LineChart.html';\n    }\n    /**\n     * Draw a LineChart\n     * @memberOf LineChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = '500';\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!LineChart._isInit) {\n                LineChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let line = new google.visualization.LineChart(document.getElementById(currentChart.container.id));\n                    line.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nLineChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGluZUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0xpbmVDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxnQkFBaUIsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxFQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUNqRSxTQUFTLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUM1QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsTUFBTSxDQUFDLGVBQWUsQ0FBQTtJQUMxQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLE1BQU0sQ0FBQTtJQUNqQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsTUFBTSxDQUFDLE1BQU0sQ0FBQTtJQUNqQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE1BQU0sQ0FBQyxnQ0FBZ0MsQ0FBQTtJQUMzQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsTUFBTSxDQUFDLDhDQUE4QyxDQUFBO0lBQ3pELENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFFeEMsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFBO1lBQ2xCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ3BCLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNqRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDdkMsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQXhFYyxpQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { API } from '../API';\n/**\n * Todo Table\n * @class google.visualization.Map\n * @tutorial google_visualization_Map\n * @memberof google.visualization\n */\nexport class Map extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['map'], mapsApiKey: API.key });\n        Map._isInit = true;\n    }\n    get icon() {\n        return 'fa-map';\n    }\n    get label() {\n        return 'Map';\n    }\n    get subtext() {\n        return 'Map';\n    }\n    get classFullName() {\n        return 'google.visualization.Map';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Map.html';\n    }\n    /**\n     * Make a Google map\n     * todo\n     * @memberOf Map\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height,\n                showTooltip: false,\n                showInfoWindow: true,\n                enableScrollWheel: true\n            }, currentChart.options);\n            // fix bug in local\n            if (location.origin.startsWith('file:')) {\n                opt = Object.assign({\n                    icons: {\n                        default: {\n                            normal: 'https://maps.google.com/mapfiles/ms/micons/red-dot.png',\n                            selected: 'https://maps.google.com/mapfiles/ms/micons/blue-dot.png'\n                        }\n                    }\n                }, opt);\n            }\n            // init only one time\n            if (!Map._isInit) {\n                Map.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let messageError = '';\n                    let cols = result.head.vars;\n                    let rows = result.results.bindings;\n                    let noCols = cols.length;\n                    let noRows = rows.length;\n                    let lat;\n                    let long;\n                    let description;\n                    let data = new google.visualization.DataTable();\n                    if (noCols <= 2) {\n                        messageError = 'Parameters : latitude(xsd:Decimal) longitude(xsd:Decimal) title(xsd:string' +\n                            ' optional) introduction(xsd:string optional) link(IRI optional)';\n                    }\n                    else {\n                        let latitudeCol = 0;\n                        let longitudeCol = 1;\n                        let descriptionCol = 2;\n                        data.addColumn('number', latitudeCol);\n                        data.addColumn('number', longitudeCol);\n                        if (noCols > 2) {\n                            data.addColumn('string', descriptionCol);\n                        }\n                        data.addRows(noRows);\n                        for (let x = 0; x < noRows; x++) {\n                            lat = parseFloat(rows[x][cols[latitudeCol]].value);\n                            long = parseFloat(rows[x][cols[longitudeCol]].value);\n                            description = '';\n                            if (isNaN(lat) || isNaN(long)) {\n                                messageError = 'Latitude or longitude is not a decimal. Parameters of chart :' +\n                                    ' latitude(xsd:Decimal)' +\n                                    ' longitude(xsd:Decimal) title(xsd:string' +\n                                    ' optional) introduction(xsd:string optional) link(IRI optional). ';\n                                break;\n                            }\n                            if (noCols >= 6) {\n                                // latitude longitude title text link\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                let text = rows[x][cols[3]] !== undefined ? \"<p style='margin: 0px'>\" + rows[x][cols[3]].value + '</p>' : '';\n                                let link = rows[x][cols[4]] !== undefined ? \"<a style='font-size: large;font-style: medium;' href='\" + rows[x][cols[4]].value + \"' target='_blank'>\" + title + '</a>' : title;\n                                let img = rows[x][cols[5]] !== undefined ? \"<img src='\" + rows[x][cols[5]].value + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/>\" : '';\n                                if (rows[x][cols[3]] === undefined || rows[x][cols[3]].value.length === 0) {\n                                    description = '<div style=\"display: flow-root;min-width: 150px;min-height:150px;\">' + link + '<div>' + img + '</div></div>';\n                                }\n                                else {\n                                    description = '<div style=\"display: flow-root;width: 350px;min-height:150px;\">' + link + '<div>' + img + text + '</div></div>';\n                                }\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 5) {\n                                // latitude longitude title introduction link\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                let text = rows[x][cols[3]] !== undefined ? rows[x][cols[3]].value : '';\n                                let link = rows[x][cols[4]] !== undefined ? \"<a href='\" + rows[x][cols[4]].value + \"'>\" + title + '</a>' : title;\n                                description = '<b>' + link + '</b><br/>' + text;\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 4) {\n                                // latitude longitude title introduction\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                let text = rows[x][cols[3]] !== undefined ? rows[x][cols[3]].value : '';\n                                description = '<b>' + title + '</b><br/>' + text;\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 3) {\n                                // latitude longitude title\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                description = '<b>' + title + '</br>';\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 2) {\n                                // latitude longitude\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                            }\n                        }\n                    }\n                    if (messageError !== '') {\n                        return reject(Error(messageError));\n                    }\n                    let table = new google.visualization.Map(document.getElementById(currentChart.container.id));\n                    table.draw(data, opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nMap._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL01hcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUVoQyxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBSTVCOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFXLFNBQVEsS0FBSztJQUcxQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFHLFVBQVUsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQTtRQUMzRSxHQUFHLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsTUFBTSxDQUFDLFFBQVEsQ0FBQTtJQUNuQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsTUFBTSxDQUFDLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQTtJQUNyQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsTUFBTSxDQUFDLHdDQUF3QyxDQUFBO0lBQ25ELENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFB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","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo OrgChart\n * @class google.visualization.OrgChart\n * @tutorial google_visualization_OrgChart\n * @memberof google.visualization\n */\nexport class OrgChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['orgchart'] });\n        OrgChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-sitemap';\n    }\n    get label() {\n        return 'OrgChart';\n    }\n    get subtext() {\n        return 'OrgChart';\n    }\n    get classFullName() {\n        return 'google.visualization.OrgChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_OrgChart.html';\n    }\n    /**\n     * Make a standard simple html OrgChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf OrgChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height,\n                allowHtml: true\n            }, currentChart.options);\n            if (!OrgChart._isInit) {\n                OrgChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let orgChart = new google.visualization.OrgChart(document.getElementById(currentChart.container.id));\n                    orgChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nOrgChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3JnQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vT3JnQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sZUFBZ0IsU0FBUSxLQUFLO0lBRy9CO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ3pELFFBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzNCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsWUFBWSxDQUFBO0lBQ3ZCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLCtCQUErQixDQUFBO0lBQzFDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsU0FBUyxFQUFFLElBQUk7YUFDbEIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDckIsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ25CLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNwRyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDM0MsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTdFYyxnQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Pie\n * @class google.visualization.Pie\n * @tutorial google_visualization_Pie\n * @memberof google.visualization\n */\nexport class Pie extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        Pie._isInit = true;\n    }\n    get icon() {\n        return 'fa-pie-chart';\n    }\n    get label() {\n        return 'Pie';\n    }\n    get subtext() {\n        return 'Pie';\n    }\n    get classFullName() {\n        return 'google.visualization.Pie';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Pie.html';\n    }\n    /**\n     * Make a standard simple html pie.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!Pie._isInit) {\n                Pie.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let Pie = new google.visualization.PieChart(document.getElementById(currentChart.container.id));\n                    Pie.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nPie._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGllLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL1BpZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFXLFNBQVEsS0FBSztJQUcxQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUMxRCxHQUFHLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsTUFBTSxDQUFDLGNBQWMsQ0FBQTtJQUN6QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsTUFBTSxDQUFDLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQTtJQUNyQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsTUFBTSxDQUFDLHdDQUF3QyxDQUFBO0lBQ25ELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ3hELENBQUM7WUFDRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLEVBQUUsQ0FBQyxDQUFDLENBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtZQUNkLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLEdBQUcsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUMvRixHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDdEMsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTNFYyxXQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo ScatterChart\n * @class google.visualization.ScatterChart\n * @tutorial google_visualization_ScatterChart\n * @memberof google.visualization\n */\nexport class ScatterChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        ScatterChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-circle';\n    }\n    get label() {\n        return 'ScatterChart';\n    }\n    get subtext() {\n        return 'ScatterChart';\n    }\n    get classFullName() {\n        return 'google.visualization.ScatterChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_ScatterChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf ScatterChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!ScatterChart._isInit) {\n                ScatterChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.ScatterChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nScatterChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NhdHRlckNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL1NjYXR0ZXJDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxtQkFBb0IsU0FBUSxLQUFLO0lBR25DO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFlBQVksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQy9CLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLG1DQUFtQyxDQUFBO0lBQzlDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsaURBQWlELENBQUE7SUFDNUQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDekIsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ3ZCLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNyRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDeEMsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUVELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTdFYyxvQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo SteppedAreaChart\n * @class google.visualization.SteppedAreaChart\n * @tutorial google_visualization_SteppedAreaChart\n * @memberof google.visualization\n */\nexport class SteppedAreaChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        SteppedAreaChart._isInit = true;\n    }\n    get icon() {\n        return 'fa-area-chart';\n    }\n    get label() {\n        return 'SteppedAreaChart';\n    }\n    get subtext() {\n        return 'SteppedAreaChart';\n    }\n    get classFullName() {\n        return 'google.visualization.SteppedAreaChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_SteppedAreaChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!SteppedAreaChart._isInit) {\n                SteppedAreaChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let steppedAreaChart = new google.visualization.SteppedAreaChart(document.getElementById(currentChart.container.id));\n                    steppedAreaChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nSteppedAreaChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RlcHBlZEFyZWFDaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9TdGVwcGVkQXJlYUNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLHVCQUF3QixTQUFRLEtBQUs7SUFHdkM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDMUQsZ0JBQWdCLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUNuQyxDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsTUFBTSxDQUFDLGVBQWUsQ0FBQTtJQUMxQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixNQUFNLENBQUMsdUNBQXVDLENBQUE7SUFDbEQsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE1BQU0sQ0FBQyxxREFBcUQsQ0FBQTtJQUNoRSxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN4RCxDQUFDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDcEIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixFQUFFLENBQUMsQ0FBQyxDQUFFLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFBO1lBQzNCLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLGdCQUFnQixHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDcEgsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDbkQsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTVFYyx3QkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Table\n * @class google.visualization.Table\n * @tutorial google_visualization_Table\n * @memberof google.visualization\n */\nexport class Table extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['table'] });\n        Table._isInit = true;\n    }\n    get icon() {\n        return 'fa-table';\n    }\n    get label() {\n        return 'Table';\n    }\n    get subtext() {\n        return 'Table';\n    }\n    get classFullName() {\n        return 'google.visualization.Table';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Table.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = '100%';\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                raw: true,\n                showRowNumber: false,\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!Table._isInit) {\n                Table.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result, opt.raw);\n                    let table = new google.visualization.Table(document.getElementById(currentChart.container.id));\n                    table.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTable._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vVGFibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sWUFBYSxTQUFRLEtBQUs7SUFHNUI7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDdEQsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE1BQU0sQ0FBQyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE1BQU0sQ0FBQyxPQUFPLENBQUE7SUFDbEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE1BQU0sQ0FBQyxPQUFPLENBQUE7SUFDbEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixNQUFNLENBQUMsNEJBQTRCLENBQUE7SUFDdkMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE1BQU0sQ0FBQywwQ0FBMEMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUE7WUFDbkIsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN4RCxDQUFDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDcEIsR0FBRyxFQUFFLElBQUk7Z0JBQ1QsYUFBYSxFQUFFLEtBQUs7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDbEIsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ2hCLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7b0JBQ25DLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQzlGLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2dCQUN4QyxDQUFDO2dCQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtnQkFDakcsQ0FBQztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBOUVjLGFBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Timeline\n * @class google.visualization.Timeline\n * @tutorial google_visualization_Timeline\n * @memberof google.visualization\n */\nexport class Timeline extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['timeline'] });\n        Timeline._isInit = true;\n    }\n    get icon() {\n        return 'fa-tasks';\n    }\n    get label() {\n        return 'Timeline';\n    }\n    get subtext() {\n        return 'Timeline';\n    }\n    get classFullName() {\n        return 'google.visualization.Timeline';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Timeline.html';\n    }\n    /**\n     * Make a standard simple html Timeline.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Timeline\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!Timeline._isInit) {\n                Timeline.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let timeline = new google.visualization.Timeline(document.getElementById(currentChart.container.id));\n                    timeline.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTimeline._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGltZWxpbmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vVGltZWxpbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sZUFBZ0IsU0FBUSxLQUFLO0lBRy9CO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ3pELFFBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzNCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLCtCQUErQixDQUFBO0lBQzFDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDckIsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ25CLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNwRyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDM0MsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTVFYyxnQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo TreeMap\n * @class google.visualization.TreeMap\n * @tutorial google_visualization_TreeMap\n * @memberof google.visualization\n */\nexport class TreeMap extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['treemap'] });\n        TreeMap._isInit = true;\n    }\n    get icon() {\n        return 'fa-area-chart';\n    }\n    get label() {\n        return 'TreeMap';\n    }\n    get subtext() {\n        return 'TreeMap';\n    }\n    get classFullName() {\n        return 'google.visualization.TreeMap';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_TreeMap.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            }, currentChart.options);\n            if (!TreeMap._isInit) {\n                TreeMap.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let treeMap = new google.visualization.TreeMap(document.getElementById(currentChart.container.id));\n                    treeMap.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTreeMap._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHJlZU1hcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9UcmVlTWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLGNBQWUsU0FBUSxLQUFLO0lBRzlCO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsU0FBUyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ3hELE9BQU8sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzFCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsZUFBZSxDQUFBO0lBQzFCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsU0FBUyxDQUFBO0lBQ3BCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsU0FBUyxDQUFBO0lBQ3BCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLDhCQUE4QixDQUFBO0lBQ3pDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsNENBQTRDLENBQUE7SUFDdkQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsQ0FBRSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDcEIsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ2xCLENBQUM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSSxDQUFDO29CQUNELElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLE9BQU8sR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNsRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtnQkFDMUMsQ0FBQztnQkFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ2pHLENBQUM7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQTVFYyxlQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Trendline\n * @class google.visualization.Trendline\n * @tutorial google_visualization_Trendline\n * @memberof google.visualization\n */\nexport class Trendline extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        Trendline._isInit = true;\n    }\n    get icon() {\n        return 'fa-line-chart';\n    }\n    get label() {\n        return 'Trendline';\n    }\n    get subtext() {\n        return 'Trendline';\n    }\n    get classFullName() {\n        return 'google.visualization.Trendline';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Trendline.html';\n    }\n    /**\n     * Make a standard simple html Trendline.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Trendline\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height,\n                trendlines: { 0: {} }\n            }, currentChart.options);\n            if (!Trendline._isInit) {\n                Trendline.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.ScatterChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTrendline._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHJlbmRsaW5lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL1RyZW5kbGluZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxnQkFBaUIsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsZUFBZSxDQUFBO0lBQzFCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLGdDQUFnQyxDQUFBO0lBQzNDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsOENBQThDLENBQUE7SUFDekQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDeEQsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsVUFBVSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTthQUN4QixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixFQUFFLENBQUMsQ0FBQyxDQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUN0QixTQUFTLENBQUMsSUFBSSxFQUFFLENBQUE7WUFDcEIsQ0FBQztZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJLENBQUM7b0JBQ0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3JHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2dCQUN4QyxDQUFDO2dCQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtnQkFDakcsQ0FBQztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBN0VjLGlCQUFPLEdBQVksS0FBSyxDQUFBIn0=","/**\n * @namespace google\n */\nimport * as visualizationNS from './google/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './google/Data';\nexport * from './google/Tools';\nexport * from './google/API';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vZ2xlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dvb2dsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE9BQU8sS0FBSyxlQUFlLE1BQU0sd0JBQXdCLENBQUE7QUFDekQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLGVBQWUsQ0FBQTtBQUU1QyxRQUFRO0FBQ1IsY0FBYyxlQUFlLENBQUE7QUFDN0IsY0FBYyxnQkFBZ0IsQ0FBQTtBQUM5QixjQUFjLGNBQWMsQ0FBQSJ9","/**\n * @namespace d3\n */\nimport * as visualizationNS from './d3/visualization';\nexport const visualization = visualizationNS;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZDMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLG9CQUFvQixDQUFBO0FBQ3JELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUEifQ==","import { Chart, Core } from '../../sgvizler';\n/**\n * Todo AreaChart\n * @class d3.visualization.AreaChart\n * @tutorial d3_visualization_AreaChart\n * @memberof d3.visualization\n */\nexport class AreaChart extends Chart {\n    get icon() {\n        return 'fa-area-chart';\n    }\n    get label() {\n        return 'AreaChart';\n    }\n    get subtext() {\n        return 'AreaChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.AreaChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_AreaChart.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/d3/d3.css');\n        let dep = this.addScript(Core.path + '/lib/d3/d3.js');\n    }\n    /**\n     * Make a simple line.\n     * Available options:\n     * -\n     * @memberOf AreaChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            console.log('test');\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            /*let cols = result.head.vars\n            let rows = result.results.bindings\n            let noCols = cols.length\n            let noRows = rows.length\n            let dataset: Array<any> = []\n            let label\n            let count\n            let data = [{\n                date: '1-May-12',\n                close: 58.1\n            }]\n            for (let row of rows) {\n                label = row[cols[0]].value\n                count = Number(row[cols[1]].value)\n                if ( label === undefined || count === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + count)\n                } else {\n                    dataset.push({ label: label , count: count })\n                }\n            }\n\n            console.log(data)\n            let margin = {\n                top: 30,\n                right: 20 * 3,\n                bottom: 30,\n                left: 50\n            }\n            let width = 800 - margin.left - margin.right\n            let height = 570 - margin.top - margin.bottom\n            let parseDate = d3.time.format('%d-%b-%y').parse\n            // x axis\n            let x = d3.scalePoint().range([0, width])\n            let xAxis = d3.axisBottom().scale(x).ticks(15)\n            // y axis\n            let y = d3.scaleLinear().range([height, 0])\n            let yAxis = d3.axisRight().scale(y).ticks(17)\n\n            let valueline = d3.line()\n                .x(function (d: any) {\n                  return x(d.date)\n                })\n                .y(function (d: any) {\n                  return y(d.close)\n                })\n            let svg = d3.select( '#' + currentChart.container.id)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n// get data\n\ndata.forEach(function (d: any) {\n    d.date = parseDate(d.date)\n    d.close = +d.close\n})\n            svg.append('path') // Add the valueline path.\n            // .attr('fill', 'none')\n           // .attr('stroke', 'steelblue')\n           // .attr('stroke-linejoin', 'round')\n           // .attr('stroke-linecap', 'round')\n           // .attr('stroke-width', 1.5)\n          //  .attr('d', valueline(dataset))\n           .attr('d', valueline(data))\n            svg.append('g') // Add the X Axis\n            .attr('class', 'x axis')\n                .attr('transform', 'translate(0,' + height + ')')\n                .call(xAxis)\n            svg.append('g') // Add the Y Axis\n                .attr('class', 'y axis')\n                .call(yAxis)*/\n            // finish\n            // Example\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let margin = { top: 20, right: 20, bottom: 30, left: 40 };\n                let widthChart = width - (margin.left + margin.right);\n                let heightChart = height - (margin.top + margin.bottom);\n                let xScale = d3.scaleLinear();\n                let yScale = d3.scaleLinear();\n                let xAxisCall = d3.axisBottom();\n                let yAxisCall = d3.axisLeft();\n                xScale.domain([0, 100]).range([0, widthChart]);\n                yScale.domain([0, 100]).range([heightChart, 0]);\n                xAxisCall.scale(xScale);\n                yAxisCall.scale(yScale);\n                let newX = svg.append('g')\n                    .attr('transform', 'translate(' + [margin.left, heightChart + margin.top] + ')')\n                    .call(xAxisCall);\n                let newY = svg.append('g')\n                    .attr('transform', 'translate(' + [margin.left, margin.top] + ')')\n                    .call(yAxisCall);\n            }\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXJlYUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vQXJlYUNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBR0wsSUFBSSxFQUNQLE1BQU0sZ0JBQWdCLENBQUE7QUFJdkI7Ozs7O0dBS0c7QUFDSCxNQUFNLGdCQUFpQixTQUFRLEtBQUs7SUFFaEMsSUFBVyxJQUFJO1FBQ1gsTUFBTSxDQUFDLGVBQWUsQ0FBQTtJQUMxQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsTUFBTSxDQUFDLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQTtJQUN2QyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsTUFBTSxDQUFDLDBDQUEwQyxDQUFBO0lBQ3JELENBQUM7SUFFRDtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLGdCQUFnQixDQUFDLENBQUE7UUFDekMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLGVBQWUsQ0FBQyxDQUFBO0lBQ3pELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBQ3ZDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDbkIsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFBO1lBQ3RCLEVBQUUsQ0FBQyxD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","/** Work in progress, help us ! */\nimport { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo BarChart\n * @class d3.visualization.BarChart\n * @tutorial d3_visualization_BarChart\n * @memberof d3.visualization\n */\nexport class BarChart extends Chart {\n    get icon() {\n        return 'fa-bar-chart';\n    }\n    get label() {\n        return 'BarChart';\n    }\n    get subtext() {\n        return 'BarChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.BarChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_BarChart.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/d3/d3.css');\n        let dep = this.addScript(Core.path + '/lib/d3/d3.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf BarChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            // console.log(data)\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let radius = Math.min(width, height) / 2;\n                svg = svg.append('g') // make a group to hold our pie chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n                // var donutWidth = 75;\n                /*let legendRectSize = 18\n                let legendSpacing = 4\n                let color = d3.scaleOrdinal(d3.schemeCategory10)*/\n                /*let arc = d3.arc()\n                   // .innerRadius(radius - donutWidth)\n                    .innerRadius(0)\n                    .outerRadius(radius)\n                let pie = d3.pie()\n                    .value(function (d: any) { return d.count })\n                    .sort(null)*/\n                /*let path = svg.selectAll('path')\n                    .data(pie(dataset)\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d: any, i: any) {\n                        return color(d.data.label)\n                    })*/\n                let bars = svg.selectAll('rect')\n                    .data(dataset)\n                    .enter()\n                    .append('rect')\n                    .attr('width', function (i) { return i.count / 10000; })\n                    .attr('height', 50)\n                    .attr('y', function (i, j) { return j * 50; })\n                    .attr('fill', '#3399FF');\n                console.log('dataset : ' + dataset);\n                // Todo limit nb (look pie chart of Google)\n                /*let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d: any, i: any) {\n                        let height = legendRectSize + legendSpacing\n                        let offset = height * color.domain().length / 2\n                        let horz = -2 * legendRectSize\n                        let vert = i * height - offset\n                        return 'translate(' + (horz + radius * 2 + 20 ) + ',' + vert + ')'\n                    })\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color)\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d: any) { return d })*/\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFyQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZDMvdmlzdWFsaXphdGlvbi9CYXJDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQ0FBa0M7QUFFbEMsT0FBTyxFQUNILEtBQUssRUFFTCxNQUFNLEVBQ04sSUFBSSxFQUNQLE1BQU0sZ0JBQWdCLENBQUE7QUFJdkI7Ozs7O0dBS0c7QUFDSCxNQUFNLGVBQWdCLFNBQVEsS0FBSztJQUUvQixJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLDJCQUEyQixDQUFBO0lBQ3RDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMseUNBQXlDLENBQUE7SUFDcEQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQTtRQUN6QyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsZUFBZSxDQUFDLENBQUE7SUFDekQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFBO1lBQ3RCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsU0FBUyxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUE7WUFDbkMsQ0FBQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGFBQWEsRUFBRSxLQUFLO2dCQUNwQixLQUFLLEVBQUUsWUFBWSxDQUFDLEtBQUs7Z0JBQ3pCLE1BQU0sRUFBRSxTQUFTO2FBQ3BCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLHNCQUFzQjtZQUN0QixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtZQUMzQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQTtZQUNsQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1lBQ3hCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7WUFDeEIsSUFBSSxPQUFPLEdBQWUsRUFBRSxDQUFBO1lBQzVCLElBQUksS0FBSyxDQUFBO1lBQ1QsSUFBSSxPQUFPLENBQUE7WUFDWCxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixLQUFLLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQTtnQkFDMUIsT0FBTyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7Z0JBQ3BDLEVBQUUsQ0FBQyxDQUFFLEtBQUssS0FBSyxTQUFTLElBQUksT0FBTyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7b0JBQ2hELE1BQU0sQ0FBQyxTQUFTLENBQUMsMEJBQTBCLEdBQUcsS0FBSyxHQUFHLFNBQVMsR0FBRyxPQUFPLENBQUMsQ0FBQTtnQkFDOUUsQ0FBQztnQkFBQSxJQUFJLENBQUMsQ0FBQztvQkFDSCxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRyxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQTtnQkFDbkQsQ0FBQztZQUNMLENBQUM7WUFFRCxvQkFBb0I7WUFDcEIsSUFBSSxnQkFBZ0IsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1lBQ2pFLElBQUksb0JBQW9CLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxFQUFTLENBQUE7WUFDekQsRUFBRSxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO2dCQUN2QixJQUFJLEtBQUssR0FBRyxvQkFBb0IsQ0FBQyxXQUFXLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQTtnQkFDM0YsSUFBSSxNQUFNLEdBQUcsb0JBQW9CLENBQUMsWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsb0JBQW9CLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUE7Z0JBQzlGLElBQUksR0FBRyxHQUFHLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyx1Q0FBdUM7cUJBQzNFLElBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDO3FCQUNwQixJQUFJLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztxQkFDdEIsSUFBSSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQTtnQkFFekIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO2dCQUV4QyxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxxQ0FBcUM7cUJBQ3RELElBQUksQ0FBQyxXQUFXLEVBQUUsWUFBWSxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQTtnQkFFN0UsdUJBQXVCO2dCQUN2Qjs7a0VBRWtEO2dCQUVsRDs7Ozs7O2lDQU1pQjtnQkFDakI7Ozs7Ozs7d0JBT1E7Z0JBRVIsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7cUJBQzNCLElBQUksQ0FBQyxPQUFPLENBQUM7cUJBQ2IsS0FBSyxFQUFFO3FCQUNQLE1BQU0sQ0FBQyxNQUFNLENBQUM7cUJBQ2QsSUFBSSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUEsQ0FBQyxDQUFDLENBQUM7cUJBQzNELElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDO3FCQUNsQixJQUFJLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBTSxFQUFFLENBQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQSxDQUFDLENBQUMsQ0FBQztxQkFDdEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQTtnQkFDNUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDLENBQUE7Z0JBR25DLDJDQUEyQztnQkFDM0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzJEQW9CMkM7WUFDL0MsQ0FBQztZQUNELFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0NBRUoifQ==","import { Chart, Core } from '../../sgvizler';\n/**\n * Todo BubbleChart\n * @class d3.visualization.BubbleChart\n * @tutorial d3_visualization_BubbleChart\n * @memberof d3.visualization\n */\nexport class BubbleChart extends Chart {\n    get icon() {\n        return 'fa-pie-chart';\n    }\n    get label() {\n        return 'BubbleChart';\n    }\n    get subtext() {\n        return 'BubbleChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.BubbleChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_BubbleChart.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/d3/d3.css');\n        let dep = this.addScript(Core.path + '/lib/d3/d3.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            /*let dataset: Array<any> = []\n            let label\n            let counter\n            for (let row of rows) {\n                label = row[cols[0]].value\n                counter = Number(row[cols[1]].value)\n                if ( label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter)\n                } else {\n                    dataset.push({ label: label , count: counter })\n                }\n            }*/\n            // console.log(data)\n            // Example\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let margin = { top: 20, right: 20, bottom: 30, left: 40 };\n                let widthChart = width - (margin.left + margin.right);\n                let heightChart = height - (margin.top + margin.bottom);\n                let xScale = d3.scaleLinear();\n                let yScale = d3.scaleLinear();\n                let xAxisCall = d3.axisBottom();\n                let yAxisCall = d3.axisLeft();\n                xScale.domain([0, 100]).range([0, widthChart]);\n                yScale.domain([0, 100]).range([heightChart, 0]);\n                xAxisCall.scale(xScale);\n                yAxisCall.scale(yScale);\n                let newX = svg.append('g')\n                    .attr('transform', 'translate(' + [margin.left, heightChart + margin.top] + ')')\n                    .call(xAxisCall);\n                let newY = svg.append('g')\n                    .attr('transform', 'translate(' + [margin.left, margin.top] + ')')\n                    .call(yAxisCall);\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnViYmxlQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZDMvdmlzdWFsaXphdGlvbi9CdWJibGVDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUdMLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxrQkFBbUIsU0FBUSxLQUFLO0lBRTlCLElBQVcsSUFBSTtRQUNYLE1BQU0sQ0FBQyxjQUFjLENBQUE7SUFDekIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE1BQU0sQ0FBQyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE1BQU0sQ0FBQyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixNQUFNLENBQUMsOEJBQThCLENBQUE7SUFDekMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE1BQU0sQ0FBQyw0Q0FBNEMsQ0FBQTtJQUN2RCxDQUFDO0lBRUQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxnQkFBZ0IsQ0FBQyxDQUFBO1FBQ3pDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxlQUFlLENBQUMsQ0FBQTtJQUN6RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFBO1lBQ3RCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsU0FBUyxHQUFHLFlB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","import { Chart, Core } from '../../sgvizler';\n/**\n * Todo ColumnChart\n * @class d3.visualization.ColumnChart\n * @tutorial d3_visualization_ColumnChart\n * @memberof d3.visualization\n */\nexport class ColumnChart extends Chart {\n    get icon() {\n        return 'fa-bar-chart';\n    }\n    get label() {\n        return 'ColumnChart';\n    }\n    get subtext() {\n        return 'ColumnChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.ColumnChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_ColumnChart.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/d3/d3.css');\n        let dep = this.addScript(Core.path + '/lib/d3/d3.js');\n    }\n    /**\n     * Make a simple ColumnChart.\n     * Available options:\n     * -\n     * @memberOf ColumnChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            /*\n                        // build the datatable\n                        let cols = result.head.vars\n                        let rows = result.results.bindings\n                        let noCols = cols.length\n                        let noRows = rows.length\n                        let dataset: Array<any> = []\n                        let label\n                        let counter\n                        for (let row of rows) {\n                            label = row[cols[0]].value\n                            counter = Number(row[cols[1]].value)\n                            if ( label === undefined || counter === undefined) {\n                                Logger.logSimple('Erreur ? D3JS:ColumnChart label ' + label + ' count ' + counter)\n                            }else {\n                                dataset.push({ label: label , count: counter })\n                            }\n                        }\n            \n                        // console.log(data)\n                        let containerElement = d3.select('#' + currentChart.container.id)\n                        let containerElementNode = containerElement.node() as any\n                        if (containerElementNode) {\n                            let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300\n                            let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150\n                            let svg = containerElement.append('svg') // associate our data with the document\n                                .attr('width', width)\n                                .attr('height', height)\n                                .attr('id', 'idtest')\n            \n                            let radius = Math.min(width, height) / 2\n            \n                            svg = svg.append('g') // make a group to hold our ColumnChart chart\n                                .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\n            \n                            // var donutWidth = 75;\n                            let legendRectSize = 18\n                            let legendSpacing = 4\n                            let color = d3.scaleOrdinal(d3.schemeCategory10)\n            \n                            let arc = d3.arc()\n                               // .innerRadius(radius - donutWidth)\n                                .innerRadius(0)\n                                .outerRadius(radius)\n                            let ColumnChart = d3.ColumnChart()\n                                .value(function (d: any) { return d.count })\n                                .sort(null)\n                            let path = svg.selectAll('path')\n                                .data(ColumnChart(dataset))\n                                .enter()\n                                .append('path')\n                                .attr('d', arc)\n                                .attr('fill', function (d: any, i: any) {\n                                    return color(d.data.label)\n                                })\n            \n                            // Todo limit nb (look ColumnChart chart of Google)\n                            let legend = svg.selectAll('.legend')\n                                .data(color.domain())\n                                .enter()\n                                .append('g')\n                                .attr('class', 'legend')\n                                .attr('transform', function (d: any, i: any) {\n                                    let height = legendRectSize + legendSpacing\n                                    let offset = height * color.domain().length / 2\n                                    let horz = -2 * legendRectSize\n                                    let vert = i * height - offset\n                                    return 'translate(' + (horz + radius * 2 + 20 ) + ',' + vert + ')'\n                                })\n                            legend.append('rect')\n                                .attr('width', legendRectSize)\n                                .attr('height', legendRectSize)\n                                .style('fill', color)\n                                .style('stroke', color)\n                            legend.append('text')\n                                .attr('x', legendRectSize + legendSpacing)\n                                .attr('y', legendRectSize - legendSpacing)\n                                .text(function (d: any) { return d })\n                        }\n                        */\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sdW1uQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZDMvdmlzdWFsaXphdGlvbi9Db2x1bW5DaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUdMLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxrQkFBbUIsU0FBUSxLQUFLO0lBRWxDLElBQVcsSUFBSTtRQUNYLE1BQU0sQ0FBQyxjQUFjLENBQUE7SUFDekIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE1BQU0sQ0FBQyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE1BQU0sQ0FBQyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixNQUFNLENBQUMsOEJBQThCLENBQUE7SUFDekMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE1BQU0sQ0FBQyw0Q0FBNEMsQ0FBQTtJQUN2RCxDQUFDO0lBRUQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxnQkFBZ0IsQ0FBQyxDQUFBO1FBQ3pDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxlQUFlLENBQUMsQ0FBQTtJQUN6RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUE7WUFDdEIsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTtZQUNuQyxDQUFDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDcEIsYUFBYSxFQUFFLEtBQUs7Z0JBQ3BCLEtBQUssRUFBRSxZQUFZLENBQUMsS0FBSztnQkFDekIsTUFBTSxFQUFFLFNBQVM7YUFDcEIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDcEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBK0VjO1lBQ0YsU0FBUztZQUNULE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7Q0FFSiJ9","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo Line\n * @class d3.visualization.Line\n * @tutorial d3_visualization_Line\n * @memberof d3.visualization\n */\nexport class Line extends Chart {\n    get icon() {\n        return 'fa-line-chart';\n    }\n    get label() {\n        return 'Line';\n    }\n    get subtext() {\n        return 'Line';\n    }\n    get classFullName() {\n        return 'd3.visualization.Line';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_Line.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/d3/d3.css');\n        let dep = this.addScript(Core.path + '/lib/d3/d3.js');\n    }\n    /**\n     * Make a simple line.\n     * Available options:\n     * -\n     * @memberOf Line\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            //console.log('test')\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: true,\n                width: currentChart.width,\n                height: heightOpt\n                // hAxisscaleType: true\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let count;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                count = Number(row[cols[1]].value);\n                if (label === undefined || count === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + count);\n                }\n                else {\n                    dataset.push({ label: label, count: count });\n                }\n            }\n            console.log(dataset);\n            let margin = {\n                top: 30,\n                right: 20 * 3,\n                bottom: 30,\n                left: 70\n            };\n            let width = 800 - margin.left - margin.right;\n            let height = 570 - margin.top - margin.bottom;\n            // x axis\n            let x = d3.scalePoint()\n                .domain(dataset.map(function (entry) {\n                return entry.label;\n            }))\n                .rangeRound([0, 800])\n                .padding(0.5);\n            let xAxis = d3.axisBottom().scale(x).ticks(15);\n            // y axis\n            let y = d3.scaleLinear().range([height, 0]);\n            y.domain([0, d3.max(dataset, function (d) {\n                    return d.count;\n                })]);\n            let yAxis = d3.axisLeft().scale(y).ticks(17);\n            let valueline = d3.line()\n                .x(function (d) {\n                return x(d.label);\n            })\n                .y(function (d) {\n                return y(d.count);\n            });\n            let svg = d3.select('#' + currentChart.container.id)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            svg.append('path') // Add the valueline path.\n                .attr('fill', 'none')\n                .attr('stroke', 'steelblue')\n                .attr('stroke-linejoin', 'round')\n                .attr('stroke-linecap', 'round')\n                .attr('stroke-width', 1.5)\n                .attr('d', valueline(dataset));\n            svg.append('g') // Add the X Axis\n                .attr('class', 'x axis')\n                .attr('transform', 'translate(0,' + height + ')')\n                .call(xAxis);\n            svg.append('g') // Add the Y Axis\n                .attr('class', 'y axis')\n                .call(yAxis);\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGluZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9kMy92aXN1YWxpemF0aW9uL0xpbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxNQUFNLEVBQ04sSUFBSSxFQUNQLE1BQU0sZ0JBQWdCLENBQUE7QUFJdkI7Ozs7O0dBS0c7QUFDSCxNQUFNLFdBQVksU0FBUSxLQUFLO0lBRTNCLElBQVcsSUFBSTtRQUNYLE1BQU0sQ0FBQyxlQUFlLENBQUE7SUFDMUIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE1BQU0sQ0FBQyxNQUFNLENBQUE7SUFDakIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE1BQU0sQ0FBQyxNQUFNLENBQUE7SUFDakIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixNQUFNLENBQUMsdUJBQXVCLENBQUE7SUFDbEMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE1BQU0sQ0FBQyxxQ0FBcUMsQ0FBQTtJQUNoRCxDQUFDO0lBRUQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxnQkFBZ0IsQ0FBQyxDQUFBO1FBQ3pDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxlQUFlLENBQUMsQ0FBQTtJQUN6RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUN2QyxxQkFBcUI7WUFDckIsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFBO1lBQ3RCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxD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","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo Pie\n * @class d3.visualization.Pie\n * @tutorial d3_visualization_Pie\n * @memberof d3.visualization\n */\nexport class Pie extends Chart {\n    get icon() {\n        return 'fa-pie-chart';\n    }\n    get label() {\n        return 'Pie';\n    }\n    get subtext() {\n        return 'Pie';\n    }\n    get classFullName() {\n        return 'd3.visualization.Pie';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_Pie.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/d3/d3.css');\n        let dep = this.addScript(Core.path + '/lib/d3/d3.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            // console.log(data)\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let radius = Math.min(width, height) / 2;\n                svg = svg.append('g') // make a group to hold our pie chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n                // var donutWidth = 75;\n                let legendRectSize = 18;\n                let legendSpacing = 4;\n                let color = d3.scaleOrdinal(d3.schemeCategory10);\n                let arc = d3.arc()\n                    .innerRadius(0)\n                    .outerRadius(radius);\n                let pie = d3.pie()\n                    .value(function (d) { return d.count; })\n                    .sort(null);\n                let path = svg.selectAll('path')\n                    .data(pie(dataset))\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d, i) {\n                    return color(d.data.label);\n                });\n                // Todo limit nb (look pie chart of Google)\n                let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d, i) {\n                    let height = legendRectSize + legendSpacing;\n                    let offset = height * color.domain().length / 2;\n                    let horz = -2 * legendRectSize;\n                    let vert = i * height - offset;\n                    return 'translate(' + (horz + radius * 2 + 20) + ',' + vert + ')';\n                });\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color);\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d) { return d; });\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGllLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vUGllLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBRUwsTUFBTSxFQUNOLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFXLFNBQVEsS0FBSztJQUUxQixJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLHNCQUFzQixDQUFBO0lBQ2pDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMsb0NBQW9DLENBQUE7SUFDL0MsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQTtRQUN6QyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsZUFBZSxDQUFDLENBQUE7SUFDekQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBR3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFBO1lBQ3RCLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztn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","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo ScatterChart\n * @class d3.visualization.ScatterChart\n * @tutorial d3_visualization_ScatterChart\n * @memberof d3.visualization\n */\nexport class ScatterChart extends Chart {\n    get icon() {\n        return 'fa-ScatterChart-chart';\n    }\n    get label() {\n        return 'ScatterChart';\n    }\n    get subtext() {\n        return 'ScatterChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.ScatterChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_ScatterChart.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/d3/d3.css');\n        let dep = this.addScript(Core.path + '/lib/d3/d3.js');\n    }\n    /**\n     * Make a simple ScatterChart.\n     * Available options:\n     * -\n     * @memberOf ScatterChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '500';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.lets;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:ScatterChart label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            console.log(dataset);\n            // let containerElement = d3.select('#' + currentChart.container.id)\n            //  let containerElementNode = containerElement.node() as any\n            /*if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest')\n\n                let radius = Math.min(width, height) / 2\n\n                svg = svg.append('g') // make a group to hold our ScatterChart chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\n\n                // let donutWidth = 75;\n                let legendRectSize = 18\n                let legendSpacing = 4\n                let color = d3.scaleOrdinal(d3.schemeCategory10)\n\n                let arc = d3.arc()\n                   // .innerRadius(radius - donutWidth)\n                    .innerRadius(0)\n                    .outerRadius(radius)\n                let ScatterChart = d3.ScatterChart()\n                    .value(function (d: any) { return d.count })\n                    .sort(null)\n                let path = svg.selectAll('path')\n                    .data(ScatterChart(dataset))\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d: any, i: any) {\n                        return color(d.data.label)\n                    })\n\n                // Todo limit nb (look ScatterChart chart of Google)\n                let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d: any, i: any) {\n                        let height = legendRectSize + legendSpacing\n                        let offset = height * color.domain().length / 2\n                        let horz = -2 * legendRectSize\n                        let vert = i * height - offset\n                        return 'translate(' + (horz + radius * 2 + 20 ) + ',' + vert + ')'\n                    })\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color)\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d: any) { return d })*/\n            /*\n                                let width = 500\n                                let height = 300\n                                let padding = 30\n                                let numDataPoints = 50\n                                let xRange = Math.random() * 1000\n                                let yRange = Math.random() * 1000\n                            for (let i = 0; i < numDataPoints; i++) {\n                              let newNumber1 = Math.floor(Math.random() * xRange)\n                              let newNumber2 = Math.floor(Math.random() * yRange)\n                               dataset.push([newNumber1, newNumber2])\n                            }\n                            // Create scale functions\n                            let xScale = d3.scale.linear()\n                                           .domain([0, d3.max(dataset, function (d: any) {\n                                             return d[0]\n                                           }) ])\n                                           .range([padding, width - padding * 2])\n                            let yScale = d3.scale.linear()\n                                           .domain([0, d3.max(dataset, function (d: any) {\n                                             return d[1]\n                                           })])\n                                           .range([height - padding, padding])\n                            let rScale = d3.scale.linear()\n                                           .domain([0, d3.max(dataset, function (d: any) {\n                                             return d[1]\n                                           })])\n                                                        .range([2, 5])\n                            let formatAsPercentage = d3.tickFormat('.1%')\n                           // Define X axis\n                            let xAxis = d3.svg.axis()\n                                          .scale(xScale)\n                                          .orient('bottom')\n                                          .ticks(5)\n                                          .tickFormat(formatAsPercentage)\n                            // Define Y axis\n                            let yAxis = d3.svg.axis()\n                                          .scale(yScale)\n                                            .orient('left')\n                                            .ticks(5)\n                                            .tickFormat(formatAsPercentage)\n                            // Create SVG element\n                            let svg = d3.select('#' + currentChart.container.id)\n                                                    .append('svg')\n                                                    .attr('width', width)\n                                                    .attr('height', height)\n                                                    .append('g')\n                            // Create circles\n                            svg.selectAll('circle')\n                                 .data(dataset)\n                               .enter()\n                                 .append('circle')\n                                 .attr('cx', function (d: any) {\n                                   return xScale(d[0])\n                                 })\n                                 .attr('cy', function (d: any) {\n                                   return yScale(d[1])\n                                 })\n                                 .attr('r', function (d: any) {\n                                   return rScale(d[1])\n                                 })\n                            // Create labels\n                            svg.selectAll('text')\n                               .data(dataset)\n                               .enter()\n                               .append('text')\n                               .text(function (d: any) {\n                                       return d[0] + ',' + d[1]\n                               })\n                               .attr('x', function (d: any) {\n                                       return xScale(d[0])\n                               })\n                               .attr('y', function (d: any) {\n                                       return yScale(d[1])\n                               })\n                               .attr('font-family', 'sans-serif')\n                               .attr('font-size', '11px')\n                               .attr('fill', 'red')\n                            // Create X axis\n                            svg.append('g')\n                               .attr('class', 'axis')\n                               .attr('transform', 'translate(0,' + (height - padding) + ')')\n                               .call(xAxis)\n                            // Create Y axis\n                            svg.append('g')\n                               .attr('class', 'axis')\n                               .attr('transform', 'translate(' + padding + ',0)')\n                               .call(yAxis)\n                               */\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NhdHRlckNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vU2NhdHRlckNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBRUwsTUFBTSxFQUNOLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxtQkFBb0IsU0FBUSxLQUFLO0lBRW5DLElBQVcsSUFBSTtRQUNYLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osTUFBTSxDQUFDLGNBQWMsQ0FBQTtJQUN6QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsTUFBTSxDQUFDLGNBQWMsQ0FBQTtJQUN6QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE1BQU0sQ0FBQywrQkFBK0IsQ0FBQTtJQUMxQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsTUFBTSxDQUFDLDZDQUE2QyxDQUFBO0lBQ3hELENBQUM7SUFFRDtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLGdCQUFnQixDQUFDLENBQUE7UUFDekMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLGVBQWUsQ0FBQyxDQUFBO0lBQ3pELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQTtZQUNyQixFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFBO1lBQ25DLENBQUM7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixhQUFhLEVBQUUsS0FBSztnQkFDcEIsS0FBSyxFQUFFLFlBQVksQ0FBQyxLQUFLO2dCQUN6QixNQUFNLEVBQUUsU0FBUzthQUNwQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixzQkFBc0I7WUFDdEIsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUE7WUFDM0IsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUE7WUFDbEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtZQUN4QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1lBQ3hCLElBQUksT0FBTyxHQUFlLEVBQUUsQ0FBQTtZQUM1QixJQUFJLEtBQUssQ0FBQTtZQUNULElBQUksT0FBTyxDQUFBO1lBQ1gsR0FBRyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDbkIsS0FBSyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUE7Z0JBQzFCLE9BQU8sR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBO2dCQUNwQyxFQUFFLENBQUMsQ0FBRSxLQUFLLEtBQUssU0FBUyxJQUFJLE9BQU8sS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO29CQUNoRCxNQUFNLENBQUMsU0FBUyxDQUFDLG1DQUFtQyxHQUFHLEtBQUssR0FBRyxTQUFTLEdBQUcsT0FBTyxDQUFDLENBQUE7Z0JBQ3ZGLENBQUM7Z0JBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ0osT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUcsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUE7Z0JBQ25ELENBQUM7WUFDTCxDQUFDO1lBRUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUNwQixvRUFBb0U7WUFDdEUsNkRBQTZEO1lBQzNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzJEQXVEK0M7WUFDM0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7aUNBd0ZxQjtZQUNULFNBQVM7WUFDVCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0NBRUoifQ==","/**\n * Todo API\n * @class leaflet.API\n * @memberof google\n */\nexport class API {\n    static get osmAccessToken() {\n        return this._osmAccessToken;\n    }\n    static set osmAccessToken(value) {\n        this._osmAccessToken = value;\n    }\n}\n/**\n * todo\n * @type {string}\n * @private\n */\nAPI._osmAccessToken = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVBJLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xlYWZsZXQvQVBJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNO0lBQ0YsTUFBTSxLQUFLLGNBQWM7UUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUE7SUFDL0IsQ0FBQztJQUVELE1BQU0sS0FBSyxjQUFjLENBQUUsS0FBYTtRQUNwQyxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQTtJQUNoQyxDQUFDOztBQUVEOzs7O0dBSUc7QUFDWSxtQkFBZSxHQUFXLEVBQUUsQ0FBQSJ9","/**\n * @namespace leaflet\n */\nimport * as visualizationNS from './leaflet/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './leaflet/API';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVhZmxldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sZWFmbGV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBQ0gsT0FBTyxLQUFLLGVBQWUsTUFBTSx5QkFBeUIsQ0FBQTtBQUMxRCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsZUFBZSxDQUFBO0FBRTVDLFFBQVE7QUFDUixjQUFjLGVBQWUsQ0FBQSJ9","import { Chart, Core } from '../../sgvizler';\nimport { API } from '../API';\n/**\n * Todo Table\n * @class leaflet.visualization.Map\n * @tutorial leaflet_visualization_Map\n * @memberof leaflet.visualization\n */\nexport class Map extends Chart {\n    get icon() {\n        return 'fa-map';\n    }\n    get label() {\n        return 'Map';\n    }\n    get subtext() {\n        return 'Map';\n    }\n    get classFullName() {\n        return 'leaflet.visualization.Map';\n    }\n    get tutorialFilename() {\n        return 'tutorial-leaflet_visualization_Map.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/leaflet/leaflet.css');\n        this.addCss(Core.path + '/lib/leaflet/MarkerCluster.Default.css');\n        let dep = this.addScript(Core.path + '/lib/leaflet/leaflet-src.js');\n        this.addScript(Core.path + '/lib/leaflet/leaflet.markercluster-src.js', dep);\n    }\n    /**\n     * Make a Google map\n     * todo\n     * @memberOf Map\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let messageError = '';\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let map;\n            let height = '180px';\n            let idChart = currentChart.container.id + '-leaflet';\n            let element = document.getElementById(currentChart.container.id);\n            let markerArray = []; // create new markers array\n            let group;\n            let markers;\n            let marker;\n            let lat;\n            let long;\n            if (currentChart.height !== '') {\n                height = currentChart.height;\n            }\n            let opt = Object.assign({\n                width: currentChart.width,\n                height: height,\n                showTooltip: true,\n                showInfoWindow: true\n            }, currentChart.options);\n            if (element) {\n                element.innerHTML = \"<div id='\" + idChart + \"' style='width: \" + opt.width + '; height: ' + opt.height + \";'></div>\";\n                let osmLayer = new L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n                    attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n                    maxZoom: 18,\n                    id: 'mapbox.streets',\n                    accessToken: API.osmAccessToken\n                });\n                map = L.map(idChart, { zoom: 13, layers: [osmLayer] });\n                // todo insert option\n                markers = L.markerClusterGroup({\n                    chunkedLoading: true,\n                    spiderfyOnMaxZoom: true,\n                    showCoverageOnHover: true,\n                    zoomToBoundsOnClick: true\n                });\n                if (noCols <= 2) {\n                    messageError = 'Parameters : latitude(xsd:Decimal) longitude(xsd:Decimal) title(xsd:string' +\n                        ' optional) introduction(xsd:string optional) link(IRI optional)';\n                }\n                else {\n                    for (let row of rows) {\n                        lat = parseFloat(row[cols[0]].value);\n                        long = parseFloat(row[cols[1]].value);\n                        if (isNaN(lat) || isNaN(long)) {\n                            messageError = 'Latitude or longitude is not a decimal. Parameters of chart :' +\n                                ' latitude(xsd:Decimal)' +\n                                ' longitude(xsd:Decimal) title(xsd:string' +\n                                ' optional) introduction(xsd:string optional) link(IRI optional). ';\n                            break;\n                        }\n                        if (noCols >= 6) {\n                            // latitude longitude title text link\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            let text = row[cols[3]] !== undefined ? \"<p style='margin: 0px'>\" + row[cols[3]].value + '</p>' : '';\n                            let link = row[cols[4]] !== undefined ? \"<a style='font-size: large;font-style: medium;' href='\" + row[cols[4]].value + \"' target='_blank'>\" + title + '</a>' : title;\n                            let img = row[cols[5]] !== undefined ? \"<img src='\" + row[cols[5]].value + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/>\" : '';\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            if (row[cols[3]] === undefined || row[cols[3]].value.length === 0) {\n                                marker.bindPopup('<div style=\"display: flow-root;min-width: 150px;min-height:150px;\">' + link + '<div>' + img + '</div></div>');\n                            }\n                            else {\n                                marker.bindPopup('<div style=\"display: flow-root;width: 350px;min-height:150px;\">' + link + '<div>' + img + text + '</div></div>');\n                            }\n                        }\n                        else if (noCols === 5) {\n                            // latitude longitude title introduction link\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            let text = row[cols[3]] !== undefined ? row[cols[3]].value : '';\n                            let link = row[cols[4]] !== undefined ? \"<a href='\" + row[cols[4]].value + \"'>\" + title + '</a>' : title;\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<b>' + link + '</b><br/>' + text);\n                        }\n                        else if (noCols === 4) {\n                            // latitude longitude title introduction\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            let text = row[cols[3]] !== undefined ? row[cols[3]].value : '';\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<b>' + title + '</b><br/>' + text);\n                        }\n                        else if (noCols === 3) {\n                            // latitude longitude title\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<b>' + title + '</br>');\n                        }\n                        else if (noCols === 2) {\n                            // latitude longitude\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.addTo(map);\n                        }\n                        markers.addLayer(marker);\n                        markerArray.push(marker);\n                    }\n                }\n                if (messageError !== '') {\n                    return reject(Error(messageError));\n                }\n                map.addLayer(markers);\n                // zoom on the markers\n                group = L.featureGroup(markerArray);\n                map.fitBounds(group.getBounds());\n                // finish\n                return resolve();\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xlYWZsZXQvdmlzdWFsaXphdGlvbi9NYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxJQUFJLEVBQ1AsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBVzVCOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFXLFNBQVEsS0FBSztJQUUxQixJQUFXLElBQUk7UUFDWCxNQUFNLENBQUMsUUFBUSxDQUFBO0lBQ25CLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixNQUFNLENBQUMsS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxNQUFNLENBQUMsS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsTUFBTSxDQUFDLDJCQUEyQixDQUFBO0lBQ3RDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixNQUFNLENBQUMseUNBQXlDLENBQUE7SUFDcEQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsMEJBQTBCLENBQUMsQ0FBQTtRQUNuRCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsd0NBQXdDLENBQUMsQ0FBQTtRQUVqRSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsNkJBQTZCLENBQUMsQ0FBQTtRQUNuRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsMkNBQTJDLEVBQUMsR0FBRyxDQUFDLENBQUE7SUFDL0UsQ0FBQztJQUNEOzs7Ozs7T0FNRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsSUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFBO1lBQ3JCLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFBO1lBQzNCLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFBO1lBQ2xDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7WUFDeEIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtZQUV4QixJQUFJLEdBQUcsQ0FBQTtZQUNQLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQTtZQUNwQixJQUFJLE9BQU8sR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsR0FBRyxVQUFVLENBQUE7WUFDcEQsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1lBQ2hFLElBQUksV0FBVyxHQUFlLEVBQUUsQ0FBQSxDQUFDLDJCQUEyQjtZQUM1RCxJQUFJLEtBQUssQ0FBQTtZQUNULElBQUksT0FBTyxDQUFBO1lBQ1gsSUFBSSxNQUFNLENBQUE7WUFDVixJQUFJLEdBQUcsQ0FBQTtZQUNQLElBQUksSUFBSSxDQUFBO1lBRVIsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM3QixNQUFNLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTtZQUNoQyxDQUFDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDcEIsS0FBSyxFQUFFLFlBQVksQ0FBQyxLQUFLO2dCQUN6QixNQUFNLEVBQUUsTUFBTTtnQkFDZCxXQUFXLEVBQUUsSUFBSTtnQkFDakIsY0FBYyxFQUFFLElBQUk7YUFDdkIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztnQkFDVixPQUFPLENBQUMsU0FBUyxHQUFHLFdBQVcsR0FBRyxPQUFPLEdBQUcsa0JBQWtCLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxZQUFZLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUE7Z0JBRXBILElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxpRkFBaUYsRUFBRTtvQkFDOUcsV0FBVyxFQUFFLDRNQUE0TTtvQkFDek4sT0FBTyxFQUFFLEVBQUU7b0JBQ1gsRUFBRSxFQUFFLGdCQUFnQjtvQkFDcEIsV0FBVyxFQUFFLEdBQUcsQ0FBQyxjQUFjO2lCQUNsQyxDQUFDLENBQUE7Z0JBRUYsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsRUFBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBQyxDQUFDLENBQUE7Z0JBRWxELHFCQUFxQjtnQkFDckIsT0FBTyxHQUFHLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDM0IsY0FBYyxFQUFFLElBQUk7b0JBQ3BCLGlCQUFpQixFQUFFLElBQUk7b0JBQ3ZCLG1CQUFtQixFQUFFLElBQUk7b0JBQ3pCLG1CQUFtQixFQUFFLElBQUk7aUJBQzNCLENBQUMsQ0FBQTtnQkFFSCxFQUFFLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDZCxZQUFZLEdBQUcsNEVBQTRFO3dCQUN2RixpRUFBaUUsQ0FBQTtnQkFDekUsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDSixHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO3dCQUNuQixHQUFHLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTt3QkFDcEMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7d0JBQ3JDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUM1QixZQUFZLEdBQUcsK0RBQStEO2dDQUMxRSx3QkFBd0I7Z0NBQ3hCLDBDQUEwQztnQ0FDMUMsbUVBQW1FLENBQUE7NEJBQ3ZFLEtBQUssQ0FBQTt3QkFDVCxDQUFDO3dCQUNELEVBQUUsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUNkLHFDQUFxQzs0QkFDckMsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBOzRCQUNoRSxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyx5QkFBeUIsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBOzRCQUNwRyxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyx3REFBd0QsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLG9CQUFvQixHQUFHLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQTs0QkFDckssSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsd0VBQXdFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTs0QkFFeEosTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBOzRCQUVuRixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0NBQ2hFLE1BQU0sQ0FBQyxTQUFTLENBQUMscUVBQXFFLEdBQUcsSUFBSSxHQUFHLE9BQU8sR0FBRyxHQUFHLEdBQUcsY0FBYyxDQUFDLENBQUE7NEJBQ25JLENBQUM7NEJBQUMsSUFBSSxDQUFDLENBQUM7Z0NBQ0osTUFBTSxDQUFDLFNBQVMsQ0FBQyxpRUFBaUUsR0FBRyxJQUFJLEdBQUcsT0FBTyxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsY0FBYyxDQUFDLENBQUE7NEJBQ3RJLENBQUM7d0JBQ0wsQ0FBQzt3QkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ3RCLDZDQUE2Qzs0QkFDN0MsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBOzRCQUNoRSxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUE7NEJBQy9ELElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUE7NEJBRXhHLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTs0QkFDbkYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxHQUFHLFdBQVcsR0FBRyxJQUFJLENBQUUsQ0FBQTt3QkFDeEQsQ0FBQzt3QkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ3RCLHdDQUF3Qzs0QkFDeEMsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBOzRCQUNoRSxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENB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","'use strict';\n/** @module example */\nimport * as jqueryProxy from 'jquery';\nconst jquery = jqueryProxy.default || jqueryProxy;\n// Namespace\nimport * as S from './sgvizler';\nexport const sgvizler = S;\nimport * as bordercloudNS from './bordercloud';\nexport const bordercloud = bordercloudNS;\nimport * as googleNS from './google';\nexport const google = googleNS;\nimport * as d3NS from './d3';\nexport const d3 = d3NS;\nimport * as leafletNS from './leaflet';\nexport const leaflet = leafletNS;\n/**\n * Todo\n * @const\n *\n */\nexport const VERSION = S.Core.VERSION;\n/**\n * Todo\n * @const\n */\nexport const HOMEPAGE = S.Core.HOMEPAGE;\n/**\n * Draws the sgvizler-containers with the given element id.\n *\n */\nexport function containerLoadAll() {\n    S.Container.loadAllDependencies();\n}\nfunction readOptions(options) {\n    if (options) {\n        if (typeof options === 'object') {\n            google.API.key = options.googleApiKey ? options.googleApiKey : '';\n            leaflet.API.osmAccessToken = options.osmAccessToken ? options.osmAccessToken : '';\n            S.Core.path = options.path ? options.path : '';\n        }\n    }\n}\n/**\n * Draws the sgvizler-containers with the given element id.\n * @param {string} elementID\n */\nexport function containerDraw(elementID, options) {\n    // S.Container.loadDependenciesId(elementID)\n    readOptions(options);\n    S.Container.drawWithElementId(elementID);\n}\n/**\n * Todo.\n */\nexport function containerDrawAll(options) {\n    // S.Container.loadAllDependencies()\n    readOptions(options);\n    S.Container.drawAll();\n}\n/**\n * Todo.\n */\nexport function selectDraw(elementID) {\n    // S.Select.loadDependencies()\n    S.Select.drawWithElementId(elementID);\n}\n/**\n * Todo.\n */\nexport function selectDrawAll() {\n    // S.Select.loadDependencies()\n    S.Select.drawAll();\n}\n/**\n * Todo.\n * @param {string} className\n * @param {string} pathDoc\n * @returns {string}\n */\nexport function getChartDoc(className, pathDoc) {\n    return S.Select.getChartDoc(className, pathDoc);\n}\n/**\n * Todo\n * @param {string} elementID\n * @param {string} endpoint\n * @param {string} query\n * @param {string} chartName\n * @param {string} options\n * @param {string} loglevel\n * @returns {string}\n */\nexport function create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter) {\n    return S.Container.create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter);\n}\n// noinspection JSPotentiallyInvalidConstructorUsage\njqueryProxy.prototype.extend({\n    selectchart: function (param, option) {\n        let $this = this;\n        let action = 'render';\n        if (param) {\n            if (typeof param === 'string') {\n                action = param;\n            }\n            else if (typeof param === 'object') {\n                action = param.action ? param.action : action;\n            }\n        }\n        // Return the jQuery object for chaining.\n        return $this.each(function (index, obj) {\n            if (index > 0 && action === 'render') {\n                if (param && typeof param === 'object') {\n                    S.Select.draw(obj, param);\n                }\n                else {\n                    S.Select.draw(obj);\n                }\n            }\n        });\n    },\n    containerchart: function (param, option) {\n        let $this = this;\n        let action = 'render';\n        if (param) {\n            if (typeof param === 'string') {\n                action = param;\n            }\n            else if (typeof param === 'object') {\n                action = param.action ? param.action : action;\n            }\n        }\n        // Return the jQuery object for chaining.\n        return $this.each(function (index, obj) {\n            if (index > 0 && action === 'render') {\n                if (param && typeof param === 'object') {\n                    S.Container.drawWithElementId($(obj).attr('id'), param);\n                }\n                else {\n                    S.Container.drawWithElementId($(obj).attr('id'));\n                }\n            }\n        });\n    }\n});\nS.Loader.detectRoot();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFBO0FBRVosc0JBQXNCO0FBQ3RCLE9BQU8sS0FBSyxXQUFXLE1BQU0sUUFBUSxDQUFBO0FBQ3JDLE1BQU0sTUFBTSxHQUFrQixXQUFtQixDQUFDLE9BQU8sSUFBSSxXQUFXLENBQUE7QUFFeEUsWUFBWTtBQUNaLE9BQU8sS0FBSyxDQUFDLE1BQU0sWUFBWSxDQUFBO0FBQy9CLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQUE7QUFFekIsT0FBTyxLQUFLLGFBQWEsTUFBTSxlQUFlLENBQUE7QUFDOUMsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQTtBQUV4QyxPQUFPLEtBQUssUUFBUSxNQUFNLFVBQVUsQ0FBQTtBQUNwQyxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFBO0FBRTlCLE9BQU8sS0FBSyxJQUFJLE1BQU0sTUFBTSxDQUFBO0FBQzVCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUE7QUFFdEIsT0FBTyxLQUFLLFNBQVMsTUFBTSxXQUFXLENBQUE7QUFDdEMsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQTtBQUVoQzs7OztHQUlHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0FBRTdDOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQTtBQUUvQzs7O0dBR0c7QUFDSCxNQUFNO0lBQ0EsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRSxDQUFBO0FBQ3ZDLENBQUM7QUFFRCxxQkFBc0IsT0FBWTtJQUM5QixFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ1Ys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"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","CHART_PATTERN_OPTIONS","Chart","[object Object]","this","options","_tabDependences","_patternOptions","EMPTY","_width","_height","_optionsRaw","_class","_style","_isDone","currentThis","Loader","on","container","isLoadedAllDependencies","_resultSparql","undefined","doDraw","tslib_1.__awaiter","Logger","log","id","loadDependencies","promisesArray","dep","push","load","all","patternOptions","classHtml","style","_container","optionsRaw","doParseOptionsRaw","height","width","html","opts","CLASS","Object","keys","map","property","join","STYLE","url","loadBefore","ScriptDependency","CssDependency","isLoaded","isEmpty","cols","head","vars","rows","results","bindings","noCols","length","displayFeedback","MESSAGES","ERROR_DATA_EMPTY","draw","valeur","error","console","ERROR_CHART","patternOption","typePattern","matchArray","raw","exec","Tools","assignProperty","trim","patternStyle","patternClass","patternWiki","UNKNOWN","indexOf","execPattern","WIKI","VARIABLE","i","ERROR_CHART_PATTERN_OPTION_UNKNOWN","icon","label","subtext","classFullName","tutorialFilename","super","currentChart","opt","assign","headings","getHTMLStyleOrClass","col","row","obj","document","getElementById","innerHTML","event","fn","_listCallEvent","resultXpath","evaluate","XPathResult","STRING_TYPE","srcScript","stringValue","match","_pathScripts","_load","_loaded","loadScript","loadCss","call","len","_dependenciesToLoad","splice","endDownload","isLoad","logSimple","getElementsByTagName","script","createElement","type","src","getAbsoluteURL","onload","callBack","checkDependenciesToLoad","fireEvent","appendChild","link","rel","href","Dependency","startDownload","SparqlError","xhr","patternWikidata","errorWikidata","response","Select","elementID","element","nodesOption","getSelectOptions","node","cloneNode","nodesSnapshot","CLASS_NAME","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength","snapshotItem","pathDoc","chartClass","getObjectByPath","path","Core","DOCPATH","nodeOption","nodeOptgroup","attrLabel","attrValue","attrIcon","attrSub","attrSelected","nodes","classSelected","selected","classOfChartSelectedByDefault","optgroup","charts","createAttribute","setAttributeNode","chart","text","Messages","args","message","ERROR_CHART_UNKNOWN","ERROR_REQUEST","ERROR_DEPENDENCIES","ERROR_ENDPOINT_FORGOT","ERROR_DATA_NOROW","replace","object","segments","split","cursor","sgvizler2","window","assignJSON","getJSONByPath","str","buf","unshift","charCodeAt","dec","String","fromCharCode","json","propertyName","nextPath","positionDot","search","Number","isNaN","convertToBoolean","JSON","stringify","substring","mergeInObject","parse","input","ref","key","isPlainObject","dest","data","forEach","o","constructor","prototype","loglevel","elapsedTime","messageName","S.Messages","get","Date","now","_startTime","_path","VERSION","HOMEPAGE","SPARQL_RESULT","SparqlTools","xml","jsonp","Request","_query","_endpoint","_endpointOutputFormat","_method","_queryParameter","listeners","method","query","endpoint","endpointOutputFormat","queryParameter","myRequest","XMLHttpRequest","toLowerCase","encodeURIComponent","getOutputLabel","open","setRequestHeader","getHeaderAccept","onprogress","oEvent","lengthComputable","percentComplete","loaded","total","readyState","DONE","status","getErrorMessage","onerror","onabort","send","CONTAINER_STATE","Container","_chartOptions","_chartName","_loglevel","_id","Error","self","_state","LOADING","elmAttrs","attributes","LOG_LEVEL_ATTRIBUTE_NAME","parseInt","CHART_ATTRIBUTE_NAME","CHART_OPTION_ATTRIBUTE_NAME","decodeHtml","request","QUERY_ATTRIBUTE_NAME","ENDPOINT_ATTRIBUTE_NAME","FAILED","OUTPUT_FORMAT_ATTRIBUTE_NAME","convertString","OUTPUT_METHOD_ATTRIBUTE_NAME","QUERY_PARAMETER_ATTRIBUTE_NAME","_request","chartName","$","widthCss","css","heightCss","_chart","ids","iterator","PREFIX","ANY_TYPE","thisNode","iterateNext","drawWithElementId","loadDependenciesId","output","parameter","attrQuery","attrEndpoint","attrChart","attrOptions","attrLevel","attrOutput","attrMethod","attrQueryAttribut","chartOptions","sparqlResult","sendRequest","sparqlResultI","loadDependenciesAndDraw","visualization","visualizationNS","DATATABLE_COL_OPTIONS","DataTable","addCss","depDatatables","addScript","codeStyle","m","datasetColumnsFunc","optionCol","regex","datasetColumnsDefs","colOptions","c","TAG","index","lastIndex","getFunctionColumnDefImg","getFunctionColumnDefSpan","getFunctionColumnDefVideo","getFunctionColumnDefDefault","targets","render","full","meta","youtubePattern","RegExp","facebookPattern","mediawikiPattern","test","datasetRow","noRows","idChart","datasetColumns","dataset","tableElement","tableId","tableClass","tableCellSpacing","tableWidth","class","cellspacing","colstyle","title","buildColumnDefs","r","bSort","columns","columnDefs","dom","buttons","Data","convertResultRaw","convertResult","role","_dataTable","setColumnProperty","google","colName","datatype","addColumn","addRows","x","y","hasOwnProperty","setCell","parseFloat","time","getHours","getSeconds","getMilliseconds","toString","AnnotationChart","packages","_isInit","decodeFormatSize","init","setOnLoadCallback","getDataTable","AreaChart","BarChart","BubbleChart","Calendar","CandlestickChart","ColumnChart","reverseCategories","ComboChart","API","_key","GeoChart","mapsApiKey","Histogram","IntervalChart","setRole","LineChart","Map","showTooltip","showInfoWindow","enableScrollWheel","location","origin","startsWith","icons","default","normal","lat","long","description","messageError","img","OrgChart","allowHtml","Pie","PieChart","ScatterChart","SteppedAreaChart","Table","showRowNumber","Timeline","TreeMap","Trendline","trendlines","0","heightOpt","containerElement","d3","select","containerElementNode","clientWidth","clientHeight","svg","append","attr","margin","top","right","bottom","left","widthChart","heightChart","xScale","scaleLinear","yScale","xAxisCall","axisBottom","yAxisCall","axisLeft","domain","range","scale","counter","count","selectAll","enter","j","scalePoint","entry","rangeRound","padding","xAxis","ticks","max","d","yAxis","valueline","line","radius","Math","min","color","scaleOrdinal","schemeCategory10","arc","innerRadius","outerRadius","pie","sort","legend","offset","legendRectSize","lets","osmAccessToken","_osmAccessToken","group","markers","marker","markerArray","osmLayer","L","tileLayer","attribution","maxZoom","accessToken","zoom","layers","markerClusterGroup","chunkedLoading","spiderfyOnMaxZoom","showCoverageOnHover","zoomToBoundsOnClick","bindPopup","addTo","addLayer","featureGroup","fitBounds","getBounds","sgvizler","S","bordercloud","bordercloudNS","googleNS","d3NS","leaflet","S.Core","containerLoadAll","S.Container","loadAllDependencies","readOptions","googleApiKey","containerDraw","containerDrawAll","drawAll","selectDraw","S.Select","selectDrawAll","getChartDoc","className","create","jqueryProxy.prototype","extend","selectchart","param","option","action","each","containerchart","S.Loader","detectRoot"],"mappings":"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"}