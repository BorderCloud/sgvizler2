{"version":3,"file":"sgvizler2.min.js","sources":["../module/sgvizler/Chart.js","../../node_modules/tslib/tslib.es6.js","../module/sgvizler/Messages.js","../module/sgvizler/SparqlTools.js","../module/sgvizler/Container.js","../module/sgvizler/visualization/Table.js","../module/sgvizler/Loader.js","../module/sgvizler/Dependency.js","../module/sgvizler/SparqlError.js","../module/sgvizler/Select.js","../module/sgvizler/Tools.js","../module/sgvizler/Logger.js","../module/sgvizler/Core.js","../module/sgvizler/Request.js","../module/sgvizler.js","../module/bordercloud/visualization/DataTable.js","../module/bordercloud.js","../module/google/Tools.js","../module/google/Data.js","../module/google/visualization/AnnotationChart.js","../module/google/visualization/AreaChart.js","../module/google/visualization/BarChart.js","../module/google/visualization/BubbleChart.js","../module/google/visualization/Calendar.js","../module/google/visualization/CandlestickChart.js","../module/google/visualization/ColumnChart.js","../module/google/visualization/ComboChart.js","../module/google/API.js","../module/google/visualization/GeoChart.js","../module/google/visualization/Histogram.js","../module/google/visualization/IntervalChart.js","../module/google/visualization/LineChart.js","../module/google/visualization/Map.js","../module/google/visualization/OrgChart.js","../module/google/visualization/Pie.js","../module/google/visualization/ScatterChart.js","../module/google/visualization/SteppedAreaChart.js","../module/google/visualization/Table.js","../module/google/visualization/Timeline.js","../module/google/visualization/TreeMap.js","../module/google/visualization/Trendline.js","../module/google.js","../module/d3.js","../module/d3/visualization/AreaChart.js","../module/d3/visualization/BarChart.js","../module/d3/visualization/BubbleChart.js","../module/d3/visualization/ColumnChart.js","../module/d3/visualization/Line.js","../module/d3/visualization/Pie.js","../module/d3/visualization/ScatterChart.js","../module/leaflet/API.js","../module/leaflet.js","../module/leaflet/visualization/Map.js","../module/index.js"],"sourcesContent":["import * as tslib_1 from \"tslib\";\nimport { Logger, MESSAGES, CssDependency, ScriptDependency, Loader, Tools } from '../sgvizler';\n/**\n * Define the type of patterns for the options\n *\n * @class sgvizler.CHART_PATTERN_OPTIONS\n * @memberof sgvizler\n */\nexport var CHART_PATTERN_OPTIONS;\n(function (CHART_PATTERN_OPTIONS) {\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"EMPTY\"] = 0] = \"EMPTY\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"UNKNOWN\"] = 1] = \"UNKNOWN\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"VARIABLE\"] = 2] = \"VARIABLE\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"STYLE\"] = 3] = \"STYLE\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"CLASS\"] = 4] = \"CLASS\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"WIKI\"] = 5] = \"WIKI\";\n})(CHART_PATTERN_OPTIONS || (CHART_PATTERN_OPTIONS = {}));\n/**\n * Abstract class for all the charts. Ensures that chart types\n * correctly inherit methods from this class.\n * @class sgvizler.Chart\n * @abstract\n * @export\n * @memberof sgvizler\n */\nexport class Chart {\n    /**\n     * Constructor of all chart types created by\n     * sgvizler.charts inherit from.\n     * @memberof sgvizler.Chart\n     * @constructor sgvizler.Chart\n     */\n    constructor() {\n        /**\n         * Give the options of chart\n         * @property options\n         * @memberof sgvizler.Chart\n         * @public\n         * @type {{}}\n         */\n        this.options = {};\n        this._tabDependences = [];\n        this._patternOptions = CHART_PATTERN_OPTIONS.EMPTY;\n        this._width = '';\n        this._height = '';\n        this._optionsRaw = '';\n        this._class = '';\n        this._style = '';\n        this._width = '100%';\n        this._isDone = false;\n        let currentThis = this;\n        Loader.on('loaded', () => {\n            if (currentThis.container != null &&\n                !currentThis._isDone &&\n                currentThis.isLoadedAllDependencies() &&\n                currentThis._resultSparql !== null &&\n                currentThis._resultSparql !== undefined) {\n                currentThis.doDraw();\n            }\n        });\n    }\n    loadDependenciesAndDraw(result) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            Logger.log(this.container, 'Chart loaded dependencies : ' + this.container.id);\n            // let promisesArray: Array<any> = []\n            this._resultSparql = result;\n            if (this.isLoadedAllDependencies()) {\n                yield this.doDraw();\n            }\n            else {\n                yield this.loadDependencies();\n            }\n        });\n    }\n    loadDependencies() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let promisesArray = [];\n            for (let dep of this._tabDependences) {\n                promisesArray.push(dep.load());\n            }\n            return Promise.all(promisesArray);\n        });\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {CHART_PATTERN_OPTIONS}\n     */\n    get patternOptions() {\n        return this._patternOptions;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get classHtml() {\n        return this._class;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set classHtml(value) {\n        this._class = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get style() {\n        return this._style;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set style(value) {\n        this._style = value;\n    }\n    /**\n     *\n     * @memberof sgvizler.Chart\n     * @returns {Container}\n     */\n    get container() {\n        return this._container;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {Container} value\n     */\n    set container(value) {\n        this._container = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get optionsRaw() {\n        return this._optionsRaw;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set optionsRaw(value) {\n        this._optionsRaw = value;\n        this.doParseOptionsRaw();\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get height() {\n        return this._height;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set height(value) {\n        this._height = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get width() {\n        return this._width;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set width(value) {\n        this._width = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    getHTMLStyleOrClass() {\n        let html = '';\n        let opts = this.options;\n        if (this._patternOptions === CHART_PATTERN_OPTIONS.CLASS) {\n            html = Object.keys(opts).map((property) => '${opts[property]}').join(' ');\n            html = 'class=\"' + html + '\"';\n        }\n        if (this._patternOptions === CHART_PATTERN_OPTIONS.STYLE) {\n            html = Object.keys(opts).map((property) => '${property}:${opts[property]}').join(';');\n            html = 'style=\"' + html + '\"';\n        }\n        return html;\n    }\n    addScript(url, loadBefore) {\n        let dep = new ScriptDependency(url, loadBefore);\n        this._tabDependences.push(dep);\n        return dep;\n    }\n    addCss(url, loadBefore) {\n        let dep = new CssDependency(url, loadBefore);\n        this._tabDependences.push(dep);\n        return dep;\n    }\n    isLoadedAllDependencies() {\n        for (let dep of this._tabDependences) {\n            if (!Loader.isLoaded(dep)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    doDraw() {\n        Logger.log(this.container, 'Chart started : ' + this._container.id);\n        let currentThis = this;\n        let isEmpty = false;\n        if (currentThis._resultSparql === null\n            || currentThis._resultSparql === undefined) {\n            isEmpty = true;\n        }\n        else {\n            let cols = currentThis._resultSparql.head.vars;\n            let rows = currentThis._resultSparql.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            if (noCols === 0) {\n                isEmpty = true;\n            }\n        }\n        if (isEmpty) {\n            Logger.displayFeedback(currentThis._container, MESSAGES.ERROR_DATA_EMPTY);\n            Logger.log(currentThis.container, 'Chart finished with error : ' + currentThis._container.id);\n        }\n        else {\n            currentThis.draw(currentThis._resultSparql).then(function (valeur) {\n                currentThis._isDone = true;\n                Logger.log(currentThis.container, 'Chart finished : ' + currentThis._container.id);\n            }, function (error) {\n                console.log(error);\n                Logger.displayFeedback(currentThis._container, MESSAGES.ERROR_CHART, [error]);\n                Logger.log(currentThis.container, 'Chart finished with error : ' + currentThis._container.id);\n            });\n        }\n    }\n    // noinspection JSValidateJSDoc\n    // noinspection tslint\n    /**\n     * todo\n     * @memberof sgvizler.Chart\n     * @param {RegExp} patternOption\n     * @param {CHART_PATTERN_OPTIONS} typePattern\n     */\n    execPattern(patternOption, typePattern) {\n        let matchArray;\n        let raw = this._optionsRaw;\n        while ((matchArray = patternOption.exec(raw)) !== null) { // tslint:disable-line\n            // this.options[matchArray[1].toLowerCase()] = matchArray[2].trim()\n            // this.options[matchArray[1]] = matchArray[2].trim()\n            Tools.assignProperty(this.options, matchArray[1], matchArray[2].trim());\n            this._patternOptions = typePattern;\n        }\n    }\n    /**\n     * todo\n     * @memberof sgvizler.Chart\n     */\n    doParseOptionsRaw() {\n        // 3 possibilities\n        // pattern option : separate by optionA=a|optionB=b\n        // pattern style : any options, only style separate by ;\n        // pattern class : words separate by space\n        // noinspection TsLint\n        let patternOption = /\\|? *([^=]*) *= *([^=|]*)/iy; // tslint:disable-line\n        let patternStyle = /([^:]+):([^:;]+) *;?/iy; // tslint:disable-line\n        let patternClass = /([^ |;]+) ?/iy; // tslint:disable-line\n        let patternWiki = /\\!? *([^=]*) *= *([^=!]*)/iy; // tslint:disable-line\n        let raw = this._optionsRaw;\n        if (raw === '') {\n            this._patternOptions = CHART_PATTERN_OPTIONS.EMPTY;\n        }\n        else {\n            this._patternOptions = CHART_PATTERN_OPTIONS.UNKNOWN;\n        }\n        if (this._optionsRaw.indexOf('|') === -1 && this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternWiki, CHART_PATTERN_OPTIONS.WIKI);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternOption, CHART_PATTERN_OPTIONS.VARIABLE);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternStyle, CHART_PATTERN_OPTIONS.STYLE);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            let matchArray;\n            let raw = this._optionsRaw;\n            let i = 0;\n            while ((matchArray = patternClass.exec(raw)) !== null) { // tslint:disable-line\n                this.options['class' + i] = matchArray[2];\n                this._patternOptions = CHART_PATTERN_OPTIONS.UNKNOWN;\n                i++;\n            }\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            Logger.displayFeedback(this.container, MESSAGES.ERROR_CHART_PATTERN_OPTION_UNKNOWN, [this._optionsRaw]);\n        }\n        else if (this.patternOptions === CHART_PATTERN_OPTIONS.WIKI ||\n            this.patternOptions === CHART_PATTERN_OPTIONS.VARIABLE ||\n            this.patternOptions === CHART_PATTERN_OPTIONS.STYLE) {\n            if (this.options['width'] !== undefined) {\n                this.width = this.options['width'];\n            }\n            if (this.options['height'] !== undefined) {\n                this.height = this.options['height'];\n            }\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFHSCxNQUFNLEVBQ04sUUFBUSxFQUVSLGFBQWEsRUFDYixnQkFBZ0IsRUFDaEIsTUFBTSxFQUNOLEtBQUssRUFDUixNQUFNLGFBQWEsQ0FBQTtBQUVwQjs7Ozs7R0FLRztBQUNILE1BQU0sQ0FBTixJQUFZLHFCQU9YO0FBUEQsV0FBWSxxQkFBcUI7SUFDN0IsbUVBQUssQ0FBQTtJQUNMLHVFQUFPLENBQUE7SUFDUCx5RUFBUSxDQUFBO0lBQ1IsbUVBQUssQ0FBQTtJQUNMLG1FQUFLLENBQUE7SUFDTCxpRUFBSSxDQUFBO0FBQ1IsQ0FBQyxFQVBXLHFCQUFxQixLQUFyQixxQkFBcUIsUUFPaEM7QUFFRDs7Ozs7OztHQU9HO0FBQ0gsTUFBTSxPQUFnQixLQUFLO0lBcUJ2Qjs7Ozs7T0FLRztJQUNIO1FBMUJBOzs7Ozs7V0FNRztRQUNJLFlBQU8sR0FBUSxFQUFFLENBQUE7UUFHaEIsb0JBQWUsR0FBc0IsRUFBRSxDQUFBO1FBRXZDLG9CQUFlLEdBQTBCLHFCQUFxQixDQUFDLEtBQUssQ0FBQTtRQUVwRSxXQUFNLEdBQVcsRUFBRSxDQUFBO1FBQ25CLFlBQU8sR0FBVyxFQUFFLENBQUE7UUFDcEIsZ0JBQVcsR0FBVyxFQUFFLENBQUE7UUFDeEIsV0FBTSxHQUFXLEVBQUUsQ0FBQTtRQUNuQixXQUFNLEdBQVcsRUFBRSxDQUFBO1FBU3ZCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1FBRXBCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQTtRQUN0QixNQUFNLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUU7WUFDcEIsSUFBSSxXQUFXLENBQUMsU0FBUyxJQUFJLElBQUk7Z0JBQzdCLENBQUUs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","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\n * todo\n * @class sgvizler.MESSAGES\n * @memberof sgvizler\n */\nexport var MESSAGES;\n(function (MESSAGES) {\n    MESSAGES[MESSAGES[\"ERROR_CHART_UNKNOWN\"] = 0] = \"ERROR_CHART_UNKNOWN\";\n    MESSAGES[MESSAGES[\"ERROR_CHART_PATTERN_OPTION_UNKNOWN\"] = 1] = \"ERROR_CHART_PATTERN_OPTION_UNKNOWN\";\n    MESSAGES[MESSAGES[\"ERROR_REQUEST\"] = 2] = \"ERROR_REQUEST\";\n    MESSAGES[MESSAGES[\"ERROR_CHART\"] = 3] = \"ERROR_CHART\";\n    MESSAGES[MESSAGES[\"ERROR_DEPENDENCIES\"] = 4] = \"ERROR_DEPENDENCIES\";\n    MESSAGES[MESSAGES[\"ERROR_ENDPOINT_FORGOT\"] = 5] = \"ERROR_ENDPOINT_FORGOT\";\n    MESSAGES[MESSAGES[\"ERROR_DATA_EMPTY\"] = 6] = \"ERROR_DATA_EMPTY\";\n    MESSAGES[MESSAGES[\"ERROR_DATA_NOROW\"] = 7] = \"ERROR_DATA_NOROW\";\n})(MESSAGES || (MESSAGES = {}));\n/**\n *\n * @class sgvizler.Messages\n * @memberof sgvizler\n */\nexport class Messages {\n    static get(id, args) {\n        let message = '';\n        switch (id) {\n            case MESSAGES.ERROR_CHART_UNKNOWN:\n                message = 'The chart $0 does not exist.';\n                break;\n            case MESSAGES.ERROR_CHART_PATTERN_OPTION_UNKNOWN:\n                message = \"The pattern of chart options is unknown : '$0'\" +\n                    \"Use 'variable1=value1|variable1=value1' or for style 'width:100%;font:red;' or 'class1 class2'\";\n                break;\n            case MESSAGES.ERROR_REQUEST:\n                message = 'Sorry, the sparql server sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_CHART:\n                message = 'Sorry, the chart sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_DEPENDENCIES:\n                message = 'The chart dependencies sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_ENDPOINT_FORGOT:\n                message = 'The endpoint of Sparql service is forgotten (data-sgvizler-endpoint).';\n                break;\n            case MESSAGES.ERROR_DATA_EMPTY:\n                message = 'The resquest sent null.';\n                break;\n            case MESSAGES.ERROR_DATA_NOROW:\n                message = 'The resquest sent no row.';\n                break;\n        }\n        if (args) {\n            for (let i = 0, len = args.length; i < len; i++) { // tslint:disable-line\n                message = message.replace('$' + i, args[i]);\n            }\n        }\n        return message;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvTWVzc2FnZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLFFBU1g7QUFURCxXQUFZLFFBQVE7SUFDaEIscUVBQW1CLENBQUE7SUFDbkIsbUdBQWtDLENBQUE7SUFDbEMseURBQWEsQ0FBQTtJQUNiLHFEQUFXLENBQUE7SUFDWCxtRUFBa0IsQ0FBQTtJQUNsQix5RUFBcUIsQ0FBQTtJQUNyQiwrREFBZ0IsQ0FBQTtJQUNoQiwrREFBZ0IsQ0FBQTtBQUNwQixDQUFDLEVBVFcsUUFBUSxLQUFSLFFBQVEsUUFTbkI7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTSxPQUFPLFFBQVE7SUFDVixNQUFNLENBQUMsR0FBRyxDQUFFLEVBQVksRUFBQyxJQUFvQjtRQUNoRCxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUE7UUFDaEIsUUFBUSxFQUFFLEVBQUU7WUFDUixLQUFLLFFBQVEsQ0FBQyxtQkFBbUI7Z0JBQzdCLE9BQU8sR0FBRyw4QkFBOEIsQ0FBQTtnQkFDeEMsTUFBSztZQUNULEtBQUssUUFBUSxDQUFDLGtDQUFrQztnQkFDNUMsT0FBTyxHQUFHLGdEQUFnRDtvQkFDdEQsZ0dBQWdHLENBQUE7Z0JBQ3BHLE1BQUs7WUFDVCxLQUFLLFFBQVEsQ0FBQyxhQUFhO2dCQUN2QixPQUFPLEdBQUcsa0RBQWtELENBQUE7Z0JBQzVELE1BQUs7WUFDVCxLQUFLLFFBQVEsQ0FBQyxXQUFXO2dCQUNyQixPQUFPLEdBQUcsMENBQTBDLENBQUE7Z0JBQ3BELE1BQUs7WUFDVCxLQUFLLFFBQVEsQ0FBQyxrQkFBa0I7Z0JBQzVCLE9BQU8sR0FBRyxnREFBZ0QsQ0FBQTtnQkFDMUQsTUFBSztZQUNULEtBQUssUUFBUSxDQUFDLHFCQUFxQjtnQkFDL0IsT0FBTyxHQUFHLHVFQUF1RSxDQUFBO2dCQUNqRixNQUFLO1lBQ1QsS0FBSyxRQUFRLENBQUMsZ0JBQWdCO2dCQUMxQixPQUFPLEdBQUcseUJBQXlCLENBQUE7Z0JBQ25DLE1BQUs7WUFDVCxLQUFLLFFBQVEsQ0FBQyxnQkFBZ0I7Z0JBQzFCLE9BQU8sR0FBRywyQkFBMkIsQ0FBQTtnQkFDckMsTUFBSztTQUNaO1FBRUQsSUFBSSxJQUFJLEVBQUU7WUFDTixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsc0JBQXNCO2dCQUNyRSxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO2FBQzlDO1NBQ0o7UUFFRCxPQUFPLE9BQU8sQ0FBQTtJQUNsQixDQUFDO0NBQ0oifQ==","/**\n *\n * @class sgvizler.SPARQL_RESULT\n * @memberof sgvizler\n */\nexport var SPARQL_RESULT;\n(function (SPARQL_RESULT) {\n    SPARQL_RESULT[SPARQL_RESULT[\"xml\"] = 0] = \"xml\";\n    SPARQL_RESULT[SPARQL_RESULT[\"json\"] = 1] = \"json\";\n    SPARQL_RESULT[SPARQL_RESULT[\"jsonp\"] = 2] = \"jsonp\";\n})(SPARQL_RESULT || (SPARQL_RESULT = {}));\n/**\n *\n * @class sgvizler.SparqlTools\n * @memberof gvizler\n */\nexport class SparqlTools {\n    static getOutputLabel(id) {\n        let str = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                str = 'xml';\n                break;\n            case SPARQL_RESULT.json:\n                str = 'json';\n                break;\n            case SPARQL_RESULT.jsonp:\n                str = 'jsonp';\n                break;\n        }\n        return str;\n    }\n    static getXMLHttpRequestResponseType(id) {\n        let type = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                type = ''; // \tDOMString (this is the default value for xhr)\n                break;\n            case SPARQL_RESULT.json:\n            case SPARQL_RESULT.jsonp:\n                type = 'json';\n                break;\n        }\n        return type;\n    }\n    static getHeaderAccept(id) {\n        let str = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                str = 'application/sparql-results+xml';\n                break;\n            case SPARQL_RESULT.json:\n            case SPARQL_RESULT.jsonp:\n                str = 'application/sparql-results+json';\n                break;\n        }\n        return str;\n    }\n    static convertString(label) {\n        let result = SPARQL_RESULT.json;\n        switch (label) {\n            case 'xml':\n                result = SPARQL_RESULT.xml;\n                break;\n            case 'json':\n                result = SPARQL_RESULT.json;\n                break;\n            case 'jsonp':\n                result = SPARQL_RESULT.jsonp;\n                break;\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BhcnFsVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvU3BhcnFsVG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLGFBSVg7QUFKRCxXQUFZLGFBQWE7SUFDckIsK0NBQUcsQ0FBQTtJQUNILGlEQUFJLENBQUE7SUFDSixtREFBSyxDQUFBO0FBQ1QsQ0FBQyxFQUpXLGFBQWEsS0FBYixhQUFhLFFBSXhCO0FBRUQ7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxXQUFXO0lBRWIsTUFBTSxDQUFDLGNBQWMsQ0FBRSxFQUFpQjtRQUMzQyxJQUFJLEdBQUcsR0FBVyxFQUFFLENBQUE7UUFDcEIsUUFBUSxFQUFFLEVBQUU7WUFDUixLQUFLLGFBQWEsQ0FBQyxHQUFHO2dCQUNsQixHQUFHLEdBQUcsS0FBSyxDQUFBO2dCQUNYLE1BQUs7WUFDVCxLQUFLLGFBQWEsQ0FBQyxJQUFJO2dCQUNuQixHQUFHLEdBQUcsTUFBTSxDQUFBO2dCQUNaLE1BQUs7WUFDVCxLQUFLLGFBQWEsQ0FBQyxLQUFLO2dCQUNwQixHQUFHLEdBQUcsT0FBTyxDQUFBO2dCQUNiLE1BQUs7U0FDWjtRQUNELE9BQU8sR0FBRyxDQUFBO0lBQ2QsQ0FBQztJQUVNLE1BQU0sQ0FBQyw2QkFBNkIsQ0FBRSxFQUFpQjtRQUMxRCxJQUFJLElBQUksR0FBVyxFQUFFLENBQUE7UUFDckIsUUFBUSxFQUFFLEVBQUU7WUFDUixLQUFLLGFBQWEsQ0FBQyxHQUFHO2dCQUNsQixJQUFJLEdBQUcsRUFBRSxDQUFBLENBQUMsaURBQWlEO2dCQUMzRCxNQUFLO1lBQ1QsS0FBSyxhQUFhLENBQUMsSUFBSSxDQUFFO1lBQ3pCLEtBQUssYUFBYSxDQUFDLEtBQUs7Z0JBQ3BCLElBQUksR0FBRyxNQUFNLENBQUE7Z0JBQ2IsTUFBSztTQUNaO1FBQ0QsT0FBTyxJQUFrQyxDQUFBO0lBQzdDLENBQUM7SUFFTSxNQUFNLENBQUMsZUFBZSxDQUFFLEVBQWlCO1FBQzVDLElBQUksR0FBRyxHQUFXLEVBQUUsQ0FBQTtRQUNwQixRQUFRLEVBQUUsRUFBRTtZQUNSLEtBQUssYUFBYSxDQUFDLEdBQUc7Z0JBQ2xCLEdBQUcsR0FBRyxnQ0FBZ0MsQ0FBQTtnQkFDdEMsTUFBSztZQUNULEtBQUssYUFBYSxDQUFDLElBQUksQ0FBRTtZQUN6QixLQUFLLGFBQWEsQ0FBQyxLQUFLO2dCQUNwQixHQUFHLEdBQUcsaUNBQWlDLENBQUE7Z0JBQ3ZDLE1BQUs7U0FDWjtRQUNELE9BQU8sR0FBRyxDQUFBO0lBQ2QsQ0FBQztJQUVNLE1BQU0sQ0FBQyxhQUFhLENBQUUsS0FBYTtRQUN0QyxJQUFJLE1BQU0sR0FBa0IsYUFBYSxDQUFDLElBQUksQ0FBQTtRQUM5QyxRQUFRLEtBQUssRUFBRTtZQUNYLEtBQUssS0FBSztnQkFDTixNQUFNLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQTtnQkFDMUIsTUFBSztZQUNULEtBQUssTUFBTTtnQkFDUCxNQUFNLEdBQUcsYUFBYSxDQUFDLElBQUksQ0FBQTtnQkFDM0IsTUFBSztZQUNULEtBQUssT0FBTztnQkFDUixNQUFNLEdBQUcsYUFBYSxDQUFDLEtBQUssQ0FBQTtnQkFDNUIsTUFBSztTQUNaO1FBQ0QsT0FBTyxNQUFNLENBQUE7SUFDakIsQ0FBQztDQUNKIn0=","import * as tslib_1 from \"tslib\";\nimport { Request, Tools, Logger, MESSAGES, SparqlTools } from '../sgvizler';\n/**\n *\n * @class sgvizler.\n * @memberof sgvizler\n */\nexport var CONTAINER_STATE;\n(function (CONTAINER_STATE) {\n    CONTAINER_STATE[CONTAINER_STATE[\"FAILED\"] = 0] = \"FAILED\";\n    CONTAINER_STATE[CONTAINER_STATE[\"LOADED\"] = 1] = \"LOADED\";\n    CONTAINER_STATE[CONTAINER_STATE[\"LOADING\"] = 2] = \"LOADING\";\n})(CONTAINER_STATE || (CONTAINER_STATE = {}));\n/**\n * Draws charts specified in HTML containers, here we call them\n * \"sgvizler-containers\".\n *\n * Example of use: The following sgvizler-container will be\n * selected by sgvizler due to the use of designated\n * attributes. The result is a pie chart (draw with\n * `google.visualization.PieChart`) showing the number of instance\n * per class in the endpoint at\n * `http://sws.ifi.uio.no/sparql/ndp`.\n *\n *     <div id=\"ex1\"\n *          data-sgvizler-endpoint=\"http://sws.ifi.uio.no/sparql/npd\"\n *          data-sgvizler-query=\"SELECT ?class (count(?instance) AS ?noOfInstances)\n *                               WHERE{ ?instance a ?class }\n *                               GROUP BY ?class\n *                               ORDER BY ?class\"\n *          data-sgvizler-chart=\"google.visualization.PieChart\"\n *          style=\"width:800px; height:400px;\"></div>\n *\n * These container must have an id attribute (or else sgvizler\n * will not know where to put the chart) and a query attribute (or\n * else the container will be ignored by sgvizler).\n *\n * Dependencies:\n *\n *  - sgvizler.util\n *  - sgvizler.loader\n *  - sgvizler.logger\n *  - sgvizler.Query\n *  - jQuery\n * @class sgvizler.Container\n * @memberof sgvizler\n */\nexport class Container {\n    /**\n     * Collects values designated for sgvizler in the given.\n     * See also property PREFIX.\n     * @param {string} elementID The ID for which the attributes should be collected.\n     */\n    constructor(elementID) {\n        this._chartOptions = '';\n        this._chartName = '';\n        this._loglevel = 0;\n        this._id = '';\n        // step 1 : read parameters and create the object Query\n        // pre-condition\n        let element = document.getElementById(elementID);\n        if (element === null) {\n            throw new Error('elementID unknown : ' + elementID);\n        }\n        let self = Container;\n        this._state = CONTAINER_STATE.LOADING;\n        let elmAttrs = element.attributes;\n        // read basic parameters\n        if (elmAttrs[self.LOG_LEVEL_ATTRIBUTE_NAME]) {\n            this._loglevel = parseInt(elmAttrs[self.LOG_LEVEL_ATTRIBUTE_NAME].value, 10);\n        }\n        if (elmAttrs[self.CHART_ATTRIBUTE_NAME]) {\n            this._chartName = elmAttrs[self.CHART_ATTRIBUTE_NAME].value;\n            // This code will disappear but it's necessary for the migration with the old Sgvizler\n            switch (this._chartName) {\n                case 'google.visualization.AnnotatedTimeLine':\n                case 'google.visualization.Gauge':\n                case 'google.visualization.ImageSparkLine':\n                case 'google.visualization.MotionChart':\n                case 'sgvizler.visualization.D3ForceGraph':\n                case 'sgvizler.visualization.DefList\"':\n                case 'sgvizler.visualization.DraculaGraph':\n                case 'sgvizler.visualization.List':\n                case 'sgvizler.visualization.Text':\n                case 'sgvizler.visualization.MapWKT':\n                    {\n                        console.warn('Sgvizler2 : ' + this._chartName + ' is deprecated. Please choose another chart.');\n                        this._chartName = 'bordercloud.visualization.DataTable';\n                        break;\n                    }\n                case 'sgvizler.visualization.Map':\n                    {\n                        console.warn('Sgvizler2 : ' + this._chartName + ' is obsolete. Please choose leaflet.visualization.Map or another chart.');\n                        this._chartName = 'leaflet.visualization.Map';\n                        break;\n                    }\n                case 'google.visualization.GeoMap':\n                    {\n                        console.warn('Sgvizler2 : ' + this._chartName + ' is obsolete. Please choose google.visualization.Map or another chart.');\n                        this._chartName = 'google.visualization.Map';\n                        break;\n                    }\n                case 'google.visualization.PieChart':\n                    {\n                        console.warn('Sgvizler2 : ' + this._chartName + ' is obsolete. Please choose google.visualization.Pie or another chart.');\n                        this._chartName = 'google.visualization.Pie';\n                        break;\n                    }\n            }\n        }\n        if (elmAttrs[self.CHART_OPTION_ATTRIBUTE_NAME]) {\n            this._chartOptions =\n                Tools.decodeHtml(elmAttrs[self.CHART_OPTION_ATTRIBUTE_NAME].value);\n        }\n        // build request object\n        let request = new Request();\n        request.container = this;\n        this._id = elementID;\n        if (elmAttrs[self.QUERY_ATTRIBUTE_NAME]) {\n            request.query = Tools.decodeHtml(elmAttrs[self.QUERY_ATTRIBUTE_NAME].value);\n        }\n        if (elmAttrs[self.ENDPOINT_ATTRIBUTE_NAME]) {\n            request.endpoint = Tools.decodeHtml(elmAttrs[self.ENDPOINT_ATTRIBUTE_NAME].value);\n        }\n        else {\n            this._state = CONTAINER_STATE.FAILED;\n            Logger.displayFeedback(this, MESSAGES.ERROR_ENDPOINT_FORGOT);\n            return;\n        }\n        if (elmAttrs[self.OUTPUT_FORMAT_ATTRIBUTE_NAME]) {\n            request.endpointOutputFormat = SparqlTools.convertString(elmAttrs[self.OUTPUT_FORMAT_ATTRIBUTE_NAME].value);\n        }\n        if (elmAttrs[self.OUTPUT_METHOD_ATTRIBUTE_NAME]) {\n            request.method = elmAttrs[self.OUTPUT_METHOD_ATTRIBUTE_NAME].value;\n        }\n        if (elmAttrs[self.QUERY_PARAMETER_ATTRIBUTE_NAME]) {\n            request.queryParameter = elmAttrs[self.QUERY_PARAMETER_ATTRIBUTE_NAME].value;\n        }\n        this._request = request;\n        // build the chart object\n        let chart = Tools.getObjectByPath(this.chartName);\n        if (chart === undefined) {\n            this._state = CONTAINER_STATE.FAILED;\n            Logger.displayFeedback(this, MESSAGES.ERROR_CHART_UNKNOWN, [this.chartName]);\n        }\n        else {\n            chart.container = this;\n            // read with and height of container before chart options\n            try {\n                let element = $('#' + elementID);\n                let widthCss = element.css('width');\n                let heightCss = element.css('height');\n                if (widthCss !== null) {\n                    chart.width = widthCss;\n                }\n                if (heightCss !== null && heightCss !== '0px') {\n                    chart.height = heightCss;\n                }\n            }\n            catch (e) {\n                // do nothing, unit test not support jquery\n            }\n            // read options (and replace may be with and height)\n            chart.optionsRaw = this._chartOptions;\n            this._chart = chart;\n        }\n    }\n    /**\n     * Draws the sgvizler-containers with the given element id.\n     * @method containerDraw\n     * @param {string} elementID\n     * @param options\n     * @returns {Promise<void>}\n     */\n    static drawWithElementId(elementID, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let container = new Container(elementID);\n            // console.log(container)\n            Logger.log(container, 'drawing id: ' + elementID);\n            yield container.draw();\n        });\n    }\n    // noinspection JSValidateJSDoc\n    /**\n     * Draws all sgvizler-containers on page.\n     * @returns {Promise<any>}\n     */\n    static drawAll() {\n        let promisesArray = [];\n        let ids = [];\n        let iterator = document.evaluate('//div[@' + Container.PREFIX + 'query]/@id', document, null, XPathResult.ANY_TYPE, null);\n        let thisNode = iterator.iterateNext();\n        while (thisNode) {\n            ids.push(thisNode.value);\n            thisNode = iterator.iterateNext();\n        }\n        for (let id of ids) {\n            promisesArray.push(Container.drawWithElementId(id));\n        }\n        return Promise.all(promisesArray);\n    }\n    static loadDependenciesId(elementID, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let container = new Container(elementID);\n            // console.log(container)\n            Logger.log(container, 'Load dependencies id: ' + elementID);\n            yield container.loadDependencies();\n        });\n    }\n    static loadAllDependencies() {\n        let promisesArray = [];\n        let ids = [];\n        let iterator = document.evaluate('//div[@' + Container.PREFIX + 'query]/@id', document, null, XPathResult.ANY_TYPE, null);\n        let thisNode = iterator.iterateNext();\n        while (thisNode) {\n            ids.push(thisNode.value);\n            thisNode = iterator.iterateNext();\n        }\n        for (let id of ids) {\n            promisesArray.push(Container.loadDependenciesId(id));\n        }\n        return Promise.all(promisesArray);\n    }\n    /**\n     *\n     * @param {string} elementID\n     * @param {string} endpoint\n     * @param {string} query\n     * @param {string} chartName\n     * @param {string} options\n     * @param {string} loglevel\n     * @returns {string}\n     */\n    static create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter) {\n        let element = document.getElementById(elementID);\n        if (element === null) {\n            throw new Error('elementID unknown : ' + elementID);\n        }\n        let self = Container;\n        let attrQuery = document.createAttribute(self.QUERY_ATTRIBUTE_NAME);\n        let attrEndpoint = document.createAttribute(self.ENDPOINT_ATTRIBUTE_NAME);\n        let attrChart = document.createAttribute(self.CHART_ATTRIBUTE_NAME);\n        // attrQuery.value = Tools.escapeHtml(query)\n        attrQuery.value = query;\n        attrEndpoint.value = endpoint;\n        attrChart.value = chartName;\n        element.setAttributeNode(attrQuery);\n        element.setAttributeNode(attrEndpoint);\n        element.setAttributeNode(attrChart);\n        if (options) {\n            let attrOptions = document.createAttribute(self.CHART_OPTION_ATTRIBUTE_NAME);\n            attrOptions.value = options;\n            element.setAttributeNode(attrOptions);\n        }\n        if (loglevel) {\n            let attrLevel = document.createAttribute(self.LOG_LEVEL_ATTRIBUTE_NAME);\n            attrLevel.value = loglevel;\n            element.setAttributeNode(attrLevel);\n        }\n        if (output) {\n            let attrOutput = document.createAttribute(self.OUTPUT_FORMAT_ATTRIBUTE_NAME);\n            attrOutput.value = output;\n            element.setAttributeNode(attrOutput);\n        }\n        if (method) {\n            let attrMethod = document.createAttribute(self.OUTPUT_METHOD_ATTRIBUTE_NAME);\n            attrMethod.value = method;\n            element.setAttributeNode(attrMethod);\n        }\n        if (parameter) {\n            let attrQueryAttribut = document.createAttribute(self.QUERY_PARAMETER_ATTRIBUTE_NAME);\n            attrQueryAttribut.value = parameter;\n            element.setAttributeNode(attrQueryAttribut);\n        }\n        return element.innerHTML;\n    }\n    /**\n     *\n     * @returns {string}\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     * Get the name of chart object.\n     * @returns {string}\n     */\n    get chartName() {\n        return this._chartName;\n    }\n    ///////////////////////////////////// OPTIONS\n    /**\n     *\n     * @returns {string}\n     */\n    get chartOptions() {\n        return this._chartOptions;\n    }\n    /**\n     *\n     * @returns {Chart}\n     */\n    get chart() {\n        return this._chart;\n    }\n    /**\n     *\n     * @returns {Request}\n     */\n    get request() {\n        return this._request;\n    }\n    /**\n     *\n     * @returns {number}\n     */\n    get loglevel() {\n        return this._loglevel;\n    }\n    /**\n     *\n     * @returns {Promise<void>}\n     */\n    draw() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let sparqlResult;\n            if (this._state === CONTAINER_STATE.FAILED) {\n                return;\n            }\n            try {\n                sparqlResult = yield this.request.sendRequest();\n                // console.log(queryResult)\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_REQUEST, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n            if (this._state === CONTAINER_STATE.FAILED) {\n                return;\n            }\n            let sparqlResultI = sparqlResult;\n            if (sparqlResultI.head === undefined) {\n                console.log(sparqlResultI);\n                Logger.displayFeedback(this, MESSAGES.ERROR_CHART, ['ERROR_head_undefined']);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n            try {\n                this._chart.loadDependenciesAndDraw(sparqlResultI);\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_CHART, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n        });\n    }\n    loadDependencies() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this._chart.loadDependencies();\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_DEPENDENCIES, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n        });\n    }\n}\nContainer.PREFIX = 'data-sgvizler-';\nContainer.QUERY_ATTRIBUTE_NAME = Container.PREFIX + 'query';\nContainer.ENDPOINT_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint';\nContainer.OUTPUT_FORMAT_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-output-format';\nContainer.QUERY_PARAMETER_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-query-parameter';\nContainer.OUTPUT_METHOD_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-method';\nContainer.CHART_ATTRIBUTE_NAME = Container.PREFIX + 'chart';\nContainer.CHART_OPTION_ATTRIBUTE_NAME = Container.PREFIX + 'chart-options';\nContainer.LOG_LEVEL_ATTRIBUTE_NAME = Container.PREFIX + 'log';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGFpbmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0NvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUVILE9BQU8sRUFDUCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFFBQVEsRUFDUixXQUFXLEVBRWQsTUFBTSxhQUFhLENBQUE7QUFJcEI7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLGVBSVg7QUFKRCxXQUFZLGVBQWU7SUFDdkIseURBQU0sQ0FBQTtJQUNOLHlEQUFNLENBQUE7SUFDTiwyREFBTyxDQUFBO0FBQ1gsQ0FBQyxFQUpXLGVBQWUsS0FBZixlQUFlLFFBSTFCO0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlDRztBQUNILE1BQU0sT0FBTyxTQUFTO0lBb0JsQjs7OztPQUlHO0lBQ0gsWUFBYSxTQUFpQjtRQVp0QixrQkFBYSxHQUFXLEVBQUUsQ0FBQTtRQUMxQixlQUFVLEdBQVcsRUFBRSxDQUFBO1FBQ3ZCLGNBQVMsR0FBVyxDQUFDLENBQUE7UUFDckIsUUFBRyxHQUFXLEVBQUUsQ0FBQTtRQVVwQix1REFBdUQ7UUFDdkQsZ0JBQWdCO1FBQ2hCLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDaEQsSUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFO1lBQ2xCLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLEdBQUcsU0FBUyxDQUFDLENBQUE7U0FDdEQ7UUFFRCxJQUFJLElBQUksR0FBRyxTQUFTLENBQUE7UUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFBO1FBRXJDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFFakMsd0JBQXdCO1FBQ3hCLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyx3QkFBK0IsQ0FBQyxFQUFFO1lBQ2hELElB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","import { Chart } from '../Chart';\n/**\n * Todo Table\n * @class sgvizler.visualization.Table\n * @tutorial sgvizler_visualization_Table\n * @memberof sgvizler.visualization\n */\nexport class Table extends Chart {\n    get icon() {\n        return 'fa fa-table';\n    }\n    get label() {\n        return 'Table';\n    }\n    get subtext() {\n        return 'simple table';\n    }\n    get classFullName() {\n        return 'sgvizler.visualization.Table';\n    }\n    get tutorialFilename() {\n        return 'tutorial-sgvizler_visualization_Table.html';\n    }\n    constructor() {\n        super();\n        //  addDependence(SparqlResult)\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let opt = Object.assign({ headings: 'true' }, currentChart.options);\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            // console.log(opt)\n            let html = '<table ' + currentChart.getHTMLStyleOrClass() + ' >';\n            if (opt.headings === 'true') {\n                html += '<tr>';\n                for (let col of cols) {\n                    html += '<th>' + col + '</th>';\n                }\n                html += '</tr>';\n            }\n            for (let row of rows) {\n                html += '<tr>';\n                for (let col of cols) {\n                    html += '<td>' + row[col].value + '</td>';\n                }\n                html += '</tr>';\n            }\n            html += '</table>';\n            let obj = document.getElementById(currentChart.container.id);\n            if (obj) {\n                obj.innerHTML = html;\n            }\n            // finish\n            resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2d2aXpsZXIvdmlzdWFsaXphdGlvbi9UYWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBSWhDOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLEtBQU0sU0FBUSxLQUFLO0lBRTVCLElBQVcsSUFBSTtRQUNYLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLE9BQU8sQ0FBQTtJQUNsQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxjQUFjLENBQUE7SUFDekIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLDhCQUE4QixDQUFBO0lBQ3pDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLDRDQUE0QyxDQUFBO0lBQ3ZELENBQUM7SUFFRDtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1QsK0JBQStCO0lBQ2pDLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUN2QyxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUVuRSxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtZQUMzQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQTtZQUNsQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1lBQ3hCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7WUFFeEIsbUJBQW1CO1lBQ25CLElBQUksSUFBSSxHQUFHLFNBQVMsR0FBRyxZQUFZLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxJQUFJLENBQUE7WUFDaEUsSUFBSSxHQUFHLENBQUMsUUFBUSxLQUFLLE1BQU0sRUFBRTtnQkFDekIsSUFBSSxJQUFJLE1BQU0sQ0FBQTtnQkFDZCxLQUFLLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtvQkFDbEIsSUFBSSxJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFBO2lCQUNqQztnQkFDRCxJQUFJLElBQUksT0FBTyxDQUFBO2FBQ2xCO1lBRUQsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7Z0JBQ2xCLElBQUksSUFBSSxNQUFNLENBQUE7Z0JBQ2QsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7b0JBQ2xCLElBQUksSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUE7aUJBQzVDO2dCQUNELElBQUksSUFBSSxPQUFPLENBQUE7YUFDbEI7WUFFRCxJQUFJLElBQUksVUFBVSxDQUFBO1lBRWxCLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtZQUM1RCxJQUFJLEdBQUcsRUFBRTtnQkFDTCxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQTthQUN2QjtZQUNELFNBQVM7WUFDVCxPQUFPLEVBQUUsQ0FBQTtRQUNiLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUNKIn0=","import { Logger, ScriptDependency, CssDependency } from '../sgvizler';\n/**\n * Todo\n *\n * @class sgvizler.visualization.Loader\n * @memberof sgvizler.visualization\n */\nexport class Loader {\n    static on(event, fn) {\n        if (event === 'loaded') {\n            Loader._listCallEvent.push(fn);\n        }\n    }\n    static detectRoot() {\n        let resultXpath = document.evaluate('//script[contains(@src,\"sgvizler2.js\")]/@src', document, null, XPathResult.STRING_TYPE, null);\n        let srcScript = resultXpath.stringValue;\n        let match = /^(.*)sgvizler2\\.js$/.exec(srcScript);\n        if (match) {\n            Loader._pathScripts = match[1];\n        }\n    }\n    static isLoad(dep) {\n        return Loader._load.indexOf(dep.url) !== -1;\n    }\n    static isLoaded(dep) {\n        return Loader._loaded.indexOf(dep.url) !== -1;\n    }\n    static load(dep) {\n        if (dep instanceof ScriptDependency) {\n            Loader.loadScript(dep);\n        }\n        else if (dep instanceof CssDependency) {\n            Loader.loadCss(dep);\n        }\n    }\n    static fireEvent(event) {\n        for (let call of Loader._listCallEvent) {\n            call(event);\n        }\n    }\n    static checkDependenciesToLoad() {\n        let len = Loader._dependenciesToLoad.length;\n        for (let i = 0; i < len; i++) {\n            let dep = Loader._dependenciesToLoad[i];\n            if (dep === undefined || Loader.isLoaded(dep)) {\n                this._dependenciesToLoad.splice(i);\n            }\n            else {\n                if (dep instanceof ScriptDependency) {\n                    Loader.loadScript(dep);\n                }\n                else if (dep instanceof ScriptDependency) {\n                    Loader.loadCss(dep);\n                }\n            }\n        }\n    }\n    static getAbsoluteURL(url) {\n        if (url.match(/^(\\/\\/|https?)/)) {\n            return url;\n        }\n        else {\n            return Loader._pathScripts + url;\n        }\n    }\n    static loadScript(dep) {\n        let url = dep.url;\n        return new Promise(function (resolve, reject) {\n            if (dep.loadBefore && !dep.loadBefore.endDownload) {\n                // Logger.logSimple('Waiting : ' + dep.loadBefore.url + ' before ' + dep.url)\n                Loader._dependenciesToLoad.push(dep);\n                Loader.load(dep.loadBefore);\n                return resolve();\n            }\n            // include script only once\n            if (Loader.isLoad(dep)) {\n                return resolve(); // false;\n            }\n            else {\n                Loader._load.push(url);\n            }\n            Logger.logSimple('Loading : ' + dep.url);\n            // Adding the script tag to the head as suggested before\n            let head = document.getElementsByTagName('head')[0];\n            let script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.src = Loader.getAbsoluteURL(url);\n            // Then bind the event to the callback function.\n            // There are several events for cross browser compatibility.\n            script.onload = function () {\n                Loader._loaded.push(url); // in first\n                dep.callBack();\n                Loader.checkDependenciesToLoad();\n                // remember included script\n                Loader.fireEvent('loaded');\n            };\n            // Fire the loading\n            head.appendChild(script);\n        });\n    }\n    static loadCss(dep) {\n        let url = dep.url;\n        return new Promise(function (resolve, reject) {\n            if (dep.loadBefore && !dep.loadBefore.endDownload) {\n                Loader._dependenciesToLoad.push(dep);\n                return Loader.load(dep.loadBefore);\n            }\n            // include script only once\n            if (Loader.isLoad(dep)) {\n                return; // false;\n            }\n            else {\n                Loader._load.push(url);\n            }\n            // <link rel=\"stylesheet\" type=\"text/css\" href=\"../dist/datatables.min.css\"/>\n            let head = document.getElementsByTagName('head')[0];\n            let link = document.createElement('link');\n            link.rel = 'stylesheet';\n            link.href = Loader.getAbsoluteURL(url);\n            // Then bind the event to the callback function.\n            // There are several events for cross browser compatibility.\n            link.onload = function () {\n                Loader._loaded.push(url);\n                Logger.logSimple('Loaded : ' + url);\n                dep.callBack();\n                Loader.checkDependenciesToLoad();\n                // remember included script\n                Loader.fireEvent('loaded');\n            };\n            // Fire the loading\n            head.appendChild(link);\n        });\n    }\n}\nLoader._load = [];\nLoader._loaded = [];\nLoader._dependenciesToLoad = [];\nLoader._pathScripts = '';\nLoader._listCallEvent = [];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0xvYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsTUFBTSxFQUNOLGdCQUFnQixFQUNoQixhQUFhLEVBRWhCLE1BQU0sYUFBYSxDQUFBO0FBRXBCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLE1BQU07SUFPUixNQUFNLENBQUMsRUFBRSxDQUFFLEtBQWEsRUFBQyxFQUFPO1FBQ25DLElBQUksS0FBSyxLQUFLLFFBQVEsRUFBRTtZQUNwQixNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQTtTQUNqQztJQUNMLENBQUM7SUFFTSxNQUFNLENBQUMsVUFBVTtRQUNwQixJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLDhDQUE4QyxFQUM5RSxRQUFRLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDbEQsSUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQTtRQUV2QyxJQUFJLEtBQUssR0FBRyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDakQsSUFBSSxLQUFLLEVBQUU7WUFDUCxNQUFNLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNqQztJQUNMLENBQUM7SUFFTSxNQUFNLENBQUMsTUFBTSxDQUFFLEdBQWU7UUFDakMsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7SUFDL0MsQ0FBQztJQUVNLE1BQU0sQ0FBQyxRQUFRLENBQUUsR0FBZTtRQUNuQyxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FB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","import { Loader, Logger } from '../sgvizler';\nexport class Dependency {\n    constructor(url, loadBefore) {\n        this.url = url;\n        this.loadBefore = loadBefore ? loadBefore : null;\n        this.endDownload = false;\n        this.startDownload = false;\n    }\n    load() {\n        if (!this.isLoaded()) {\n            this.startDownload = true;\n            Logger.logSimple('Load started :' + this.url);\n            Loader.load(this);\n        }\n    }\n    isLoaded() {\n        if (Loader.isLoaded(this)) {\n            this.startDownload = true;\n            this.endDownload = true;\n        }\n        return this.endDownload;\n    }\n    callBack() {\n        this.endDownload = true;\n        Logger.logSimple('Load ended :' + this.url);\n    }\n}\nexport class ScriptDependency extends Dependency {\n}\nexport class CssDependency extends Dependency {\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwZW5kZW5jeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9EZXBlbmRlbmN5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxNQUFNLEVBQ04sTUFBTSxFQUNULE1BQU0sYUFBYSxDQUFBO0FBRXBCLE1BQU0sT0FBZ0IsVUFBVTtJQU01QixZQUFhLEdBQVcsRUFBQyxVQUF1QjtRQUM1QyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQTtRQUNkLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQTtRQUNoRCxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQTtRQUN4QixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQTtJQUM5QixDQUFDO0lBRU0sSUFBSTtRQUNQLElBQUksQ0FBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDbkIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUE7WUFDekIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDN0MsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtTQUNwQjtJQUNMLENBQUM7SUFFTSxRQUFRO1FBQ1gsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFBO1lBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFBO1NBQzFCO1FBQ0QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFBO0lBQzNCLENBQUM7SUFFTSxRQUFRO1FBQ1gsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQy9DLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxVQUFVO0NBQUc7QUFFbkQsTUFBTSxPQUFPLGFBQWMsU0FBUSxVQUFVO0NBQUcifQ==","/**\n * todo\n * @class sgvizler.SparqlError\n * @memberof sgvizler\n */\nexport class SparqlError {\n    static getErrorMessageWithStatus200(xhr) {\n        let patternWikidata = /MalformedQueryException: *(.*)/m; // tslint:disable-line\n        let errorWikidata = patternWikidata.exec(xhr.response);\n        if (errorWikidata !== null) {\n            return errorWikidata[1];\n        }\n        return xhr.response;\n    }\n    static getErrorWithOtherStatus(xhr, url) {\n        let linkError = '<a href=\"' + url + '\" target=\"_blank\">See this error</a>';\n        let message = '';\n        if (xhr.status === 0) {\n            if (xhr.statusText !== '') {\n                message = xhr.statusText + '(' + xhr.status + ')';\n            }\n            else {\n                message = 'You need to allow running insecure content in your navigator or this SPARQL service doesn\\'t exist or timed out or CORS violation or no Access-Control-Allow-Origin header set. (see console log)';\n            }\n        }\n        else {\n            message = xhr.statusText + '(' + xhr.status + ')';\n        }\n        return message + '<br/>\\n' + linkError;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BhcnFsRXJyb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvU3BhcnFsRXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxXQUFXO0lBRWIsTUFBTSxDQUFDLDRCQUE0QixDQUFFLEdBQW1CO1FBQzNELElBQUksZUFBZSxHQUFHLGlDQUFpQyxDQUFBLENBQUMsc0JBQXNCO1FBRTlFLElBQUksYUFBYSxHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ3RELElBQUksYUFBYSxLQUFLLElBQUksRUFBRTtZQUN4QixPQUFPLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUMxQjtRQUVELE9BQU8sR0FBRyxDQUFDLFFBQVEsQ0FBQTtJQUN2QixDQUFDO0lBQ00sTUFBTSxDQUFDLHVCQUF1QixDQUFFLEdBQW1CLEVBQUMsR0FBVztRQUNsRSxJQUFJLFNBQVMsR0FBRyxXQUFXLEdBQUcsR0FBRyxHQUFHLHNDQUFzQyxDQUFBO1FBQzFFLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQTtRQUNoQixJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ2xCLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxFQUFFLEVBQUU7Z0JBQ3ZCLE9BQU8sR0FBRyxHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQTthQUNwRDtpQkFBTTtnQkFDSCxPQUFPLEdBQUcsbU1BQW1NLENBQUE7YUFDaE47U0FDSjthQUFNO1lBQ0gsT0FBTyxHQUFHLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFBO1NBQ3BEO1FBQ0QsT0FBTyxPQUFPLEdBQUcsU0FBUyxHQUFHLFNBQVMsQ0FBQTtJQUMxQyxDQUFDO0NBRUoifQ==","import * as tslib_1 from \"tslib\";\nimport { Tools, Core } from '../sgvizler';\n/**\n *\n * @memberof gvizler\n */\nexport class Select {\n    /**\n     *\n     * @param {string} elementID\n     * @returns {Promise<void>}\n     */\n    static drawWithElementId(elementID) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let element = document.getElementById(elementID);\n            if (element) {\n                yield Select.draw(element);\n            }\n        });\n    }\n    /**\n     *\n     * @param {Element} element\n     * @param options\n     * @returns {Promise<void>}\n     */\n    static draw(element, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let nodesOption = Select.getSelectOptions(options);\n            for (let node of nodesOption) {\n                element.appendChild(node.cloneNode(true));\n            }\n        });\n    }\n    /**\n     * todo\n     */\n    static drawAll() {\n        let nodesOption = Select.getSelectOptions();\n        let nodesSnapshot = document.evaluate(\"//select[contains(@class, '\" + Select.CLASS_NAME + \"')]\", document, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n        for (let i = 0; i < nodesSnapshot.snapshotLength; i++) {\n            for (let node of nodesOption) {\n                // @ts-ignore\n                nodesSnapshot.snapshotItem(i).appendChild(node.cloneNode(true));\n            }\n        }\n    }\n    /**\n     * Build url of chart's doc\n     * @param {string} classFullName\n     * @param {string} pathDoc\n     * @returns {string} absolute or relative URL\n     */\n    static getChartDoc(classFullName, pathDoc) {\n        let chartClass = Tools.getObjectByPath(classFullName);\n        let path = '';\n        if (pathDoc !== undefined) {\n            path = pathDoc;\n        }\n        else {\n            path = Core.DOCPATH;\n        }\n        return path + chartClass.tutorialFilename;\n    }\n    static getSelectOptions(options) {\n        let chartClass;\n        let nodeOption;\n        let nodeOptgroup;\n        let attrLabel;\n        let attrValue;\n        let attrIcon;\n        let attrSub;\n        let attrSelected;\n        let nodes = [];\n        // todo: write the option selected in the doc\n        let classSelected = options && options.selected ? options.selected : this.classOfChartSelectedByDefault;\n        for (let optgroup of this.charts) {\n            nodeOptgroup = document.createElement('optgroup');\n            attrLabel = document.createAttribute('label');\n            attrLabel.value = optgroup.label;\n            nodeOptgroup.setAttributeNode(attrLabel);\n            for (let chart of optgroup.charts) {\n                chartClass = Tools.getObjectByPath(chart);\n                nodeOption = document.createElement('option');\n                attrIcon = document.createAttribute('data-icon');\n                attrIcon.value = chartClass.icon;\n                attrSub = document.createAttribute('data-subtext');\n                // todo: write the option subtext in the doc\n                if (options.subtext === 'classFullName') {\n                    attrSub.value = chartClass.classFullName;\n                }\n                else {\n                    attrSub.value = chartClass.subtext;\n                }\n                attrValue = document.createAttribute('value');\n                attrValue.value = chartClass.classFullName;\n                if (classSelected === chart) {\n                    attrSelected = document.createAttribute('selected');\n                    nodeOption.setAttributeNode(attrSelected);\n                }\n                nodeOption.text = chartClass.label;\n                nodeOption.setAttributeNode(attrIcon);\n                nodeOption.setAttributeNode(attrSub);\n                nodeOption.setAttributeNode(attrValue);\n                nodeOptgroup.appendChild(nodeOption);\n            }\n            nodes.push(nodeOptgroup);\n        }\n        return nodes;\n    }\n}\nSelect.CLASS_NAME = 'sgvizler-select';\nSelect.classOfChartSelectedByDefault = 'bordercloud.visualization.DataTable';\n/**\n * Stores the charts\n */\nSelect.charts = [\n    {\n        // optgroup\n        label: 'bordercloud.visualization',\n        charts: [\n            'bordercloud.visualization.DataTable'\n        ]\n    },\n    {\n        // optgroup\n        label: 'd3.visualization',\n        charts: [\n            /*'d3.visualization.AreaChart',\n            'd3.visualization.BarChart',\n            'd3.visualization.BubbleChart',\n            'd3.visualization.ColumnChart',*/\n            'd3.visualization.Line',\n            'd3.visualization.Pie'\n            /*,\n            'd3.visualization.ScatterChart'\n            */\n        ]\n    },\n    {\n        // optgroup\n        label: 'leaflet.visualization',\n        charts: [\n            'leaflet.visualization.Map'\n        ]\n    },\n    {\n        // optgroup\n        label: 'google.visualization',\n        charts: [\n            'google.visualization.AnnotationChart',\n            'google.visualization.AreaChart',\n            'google.visualization.BarChart',\n            'google.visualization.BubbleChart',\n            'google.visualization.Calendar',\n            'google.visualization.CandlestickChart',\n            'google.visualization.ColumnChart',\n            'google.visualization.ComboChart',\n            'google.visualization.GeoChart',\n            'google.visualization.Histogram',\n            'google.visualization.IntervalChart',\n            'google.visualization.LineChart',\n            'google.visualization.Map',\n            // 'google.visualization.OrgChart',\n            'google.visualization.Pie',\n            'google.visualization.ScatterChart',\n            'google.visualization.SteppedAreaChart',\n            'google.visualization.Table',\n            'google.visualization.Trendline',\n            'google.visualization.Timeline',\n            'google.visualization.TreeMap'\n        ]\n    },\n    {\n        // optgroup\n        label: 'sgvizler.visualization',\n        charts: [\n            'sgvizler.visualization.Table'\n        ]\n    }\n];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL1NlbGVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxJQUFJLEVBQ1AsTUFBTSxhQUFhLENBQUE7QUFFcEI7OztHQUdHO0FBQ0gsTUFBTSxPQUFPLE1BQU07SUEyRWY7Ozs7T0FJRztJQUNJLE1BQU0sQ0FBTyxpQkFBaUIsQ0FBRSxTQUFpQjs7WUFDcEQsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUNoRCxJQUFJLE9BQU8sRUFBRTtnQkFDVCxNQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7YUFDN0I7UUFDTCxDQUFDO0tBQUE7SUFFRDs7Ozs7T0FLRztJQUNJLE1BQU0sQ0FBTyxJQUFJLENBQUUsT0FBZ0IsRUFBQyxPQUFhOztZQUNwRCxJQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDbEQsS0FBSyxJQUFJLElBQUksSUFBSSxXQUFXLEVBQUU7Z0JBQzFCLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO2FBQzVDO1FBQ0wsQ0FBQztLQUFBO0lBRUQ7O09BRUc7SUFDSSxNQUFNLENBQUMsT0FBTztRQUNqQixJQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtRQUUzQyxJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLDZCQUE2QixHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsS0FBSyxFQUMzRixRQUFRLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyw0QkFBNEIsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUNuRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRyxDQUFDLEdBQUcsYUFB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","import * as sgvizler2 from '../index';\n/**\n * Todo comment\n * @class sgvizler.Tools\n * @memberof sgvizler\n */\nexport class Tools {\n    // noinspection JSValidateJSDoc\n    /**\n     * Gets the object located at `path` from `object`. `path`\n     * is given in dot notation.\n     * Search in first in the library and after in window object\n     * @param {string} path\n     * @param object\n     * @returns { any }  or undefined\n     */\n    static getObjectByPath(path, object) {\n        let i;\n        let len;\n        let segments = path.split('.');\n        let cursor = object || sgvizler2; // search in the lib if object is empty\n        for (i = 0, len = segments.length; i < len; i += 1) {\n            if (cursor === undefined) { // create new child element.\n                break;\n            }\n            if (i < len - 1) {\n                cursor = cursor[segments[i]]; // if cursor is undefined, it remains undefined.\n            }\n            else {\n                try {\n                    cursor = new cursor[segments[i]](); // create an instance\n                }\n                catch (e) {\n                    // do nothing\n                    // cursor[segments[i]]() is not a constructor]\n                    cursor = undefined;\n                }\n            }\n        }\n        if (cursor === undefined && !object) { // window is the global scope.\n            cursor = this.getObjectByPath(path, window);\n        }\n        return cursor;\n    }\n    static assignProperty(obj, path, value) {\n        return Tools.assignJSON(obj, Tools.getJSONByPath(path, value));\n    }\n    // public static escapeHtml (str: string): string {\n    //     let text = document.createTextNode(str)\n    //     let div = document.createElement('div')\n    //     div.appendChild(text)\n    //     return div.innerHTML\n    // }\n    // public static decodeHtml (html: string): any {\n    // //     let element = document.createElement('div')\n    // //     element.innerHTML = html\n    // //     return element.textContent\n    // // }\n    // // function decodeHTMLEntities(text) {\n    // }\n    static encodeHtml(str) {\n        let buf = [];\n        for (let i = str.length - 1; i >= 0; i--) {\n            buf.unshift(['&#', str.charCodeAt(i), ';'].join(''));\n        }\n        return buf.join('');\n    }\n    static decodeHtml(str) {\n        let text = str.replace(/&#(\\d+);/g, function (match, dec) {\n            return String.fromCharCode(dec);\n        });\n        // remove \\u00a0 of &nbsp;\n        text = text.replace(/(?:[^\\S\\r\\n]|\\u00a0)/g, function (match, dec) {\n            return ' ';\n        });\n        return text;\n    }\n    static getJSONByPath(path, value) {\n        let json = '';\n        let propertyName = '';\n        let nextPath = '';\n        if (path.length === 0 || !value) {\n            return json;\n        }\n        let positionDot = path.search(/\\./);\n        if (positionDot === -1) {\n            propertyName = path.trim();\n            if (Number.isNaN(Number(value))) {\n                let valueBoolean = Tools.convertToBoolean(value);\n                if (valueBoolean === undefined) {\n                    let str = JSON.stringify(String(value));\n                    str = str.substring(1, str.length - 1);\n                    json = '{\"' + propertyName + '\":\"' + str + '\"}';\n                }\n                else {\n                    json = '{\"' + propertyName + '\":' + value + '}';\n                }\n            }\n            else {\n                json = '{\"' + propertyName + '\":' + value + '}';\n            }\n        }\n        else {\n            propertyName = path.substring(0, positionDot);\n            nextPath = path.substring(positionDot + 1, path.length);\n            json = '{\"' + propertyName.trim() + '\": ' + Tools.getJSONByPath(nextPath, value) + ' }';\n        }\n        return json;\n    }\n    static assignJSON(obj, json) {\n        Tools.mergeInObject(obj, JSON.parse(json));\n        return obj;\n    }\n    static convertToBoolean(input) {\n        if (input.length <= 5) {\n            try {\n                return JSON.parse(input);\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n        return undefined;\n    }\n    // Convert to typescript : https://github.com/gmasmejean/recursiveAssign/blob/master/index.js\n    static assign(ref, key, value) {\n        if (Tools.isPlainObject(value)) {\n            if (!Tools.isPlainObject(ref[key])) {\n                ref[key] = {};\n            }\n            Tools.mergeInObject(ref[key], value);\n        }\n        else {\n            ref[key] = value;\n        }\n    }\n    static mergeInObject(dest, data) {\n        Object.keys(data).forEach(key => {\n            Tools.assign(dest, key, data[key]);\n        });\n    }\n    static isPlainObject(o) {\n        return o !== undefined && o.constructor !== undefined && o.constructor.prototype === Object.prototype;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvVG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLFNBQVMsTUFBTSxVQUFVLENBQUE7QUFFckM7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxLQUFLO0lBRWQsK0JBQStCO0lBQy9COzs7Ozs7O09BT0c7SUFDSSxNQUFNLENBQUMsZUFBZSxDQUFFLElBQVksRUFBRSxNQUFZO1FBQ3JELElBQUksQ0FBQyxDQUFBO1FBQ0wsSUFBSSxHQUFHLENBQUE7UUFDUCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzlCLElBQUksTUFBTSxHQUFHLE1BQU0sSUFBSSxTQUFTLENBQUEsQ0FBRSx1Q0FBdUM7UUFFekUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNoRCxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUUsRUFBOEIsNEJBQTRCO2dCQUNqRixNQUFLO2FBQ1A7WUFDRCxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNiLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBSyxnREFBZ0Q7YUFDcEY7aUJBQU07Z0JBQ0gsSUFBSTtvQkFDQSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFDLHFCQUFxQjtpQkFDM0Q7Z0JBQUMsT0FBTyxDQUFDLEVBQUU7b0JBQ1IsYUFBYTtvQkFDYiw4Q0FBOEM7b0JBQzlDLE1BQU0sR0FBRyxTQUFTLENBQUE7aUJBQ3JCO2FBQ0o7U0FDSjtRQUVELElBQUksTUFBTSxLQUFLLFNBQVMsSUFBSSxD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","import * as S from '../sgvizler';\n/**\n * Handles all logging, either to console or designated HTML\n * container.\n *\n * @class sgvizler.Logger\n * @memberof sgvizler\n */\nexport class Logger {\n    /**\n     * Logs a message.\n     * @method log\n     * @protected\n     * @param {string} message The message to log.\n     */\n    static log(container, message) {\n        if (container.loglevel === 2) {\n            console.log(this.elapsedTime() + 's: ' + message);\n        }\n    }\n    static logSimple(message) {\n        console.log(this.elapsedTime() + 's: ' + message);\n    }\n    /**\n     * Todo\n     * @param {Container} container\n     * @param {MESSAGES} messageName\n     * @param {Array<string>} args\n     */\n    static displayFeedback(container, messageName, args) {\n        let message = S.Messages.get(messageName, args);\n        if (container.loglevel === 2) {\n            if (message) {\n                let obj = document.getElementById(container.id);\n                if (obj) {\n                    obj.innerHTML = \"<p style='color:red'>\" + message + '</p>';\n                }\n            }\n        }\n    }\n    /**\n     * @method timeElapsed\n     * @private\n     * @return {number} The number of seconds elapsed since\n     * this sgvizler got loaded.\n     */\n    static elapsedTime() {\n        return (Date.now() - this._startTime) / 1000;\n    }\n}\n/**\n * The timestamp for the load start of the current running\n * version of sgvizler. Used to calculate time elapse of\n * future events.\n */\nLogger._startTime = Date.now();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0xvZ2dlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssQ0FBQyxNQUFNLGFBQWEsQ0FBQTtBQUVoQzs7Ozs7O0dBTUc7QUFDSCxNQUFNLE9BQU8sTUFBTTtJQVFmOzs7OztPQUtHO0lBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBRSxTQUFzQixFQUFFLE9BQWU7UUFDdEQsSUFBSSxTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtZQUMxQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUE7U0FDcEQ7SUFDTCxDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBRSxPQUFlO1FBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLEtBQUssR0FBRyxPQUFPLENBQUMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSSxNQUFNLENBQUMsZUFBZSxDQUFFLFNBQXNCLEVBQUUsV0FBdUIsRUFBRSxJQUFvQjtRQUNoRyxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7UUFFOUMsSUFBSSxTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtZQUMxQixJQUFJLE9BQU8sRUFBRTtnQkFDVCxJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtnQkFDL0MsSUFBSSxHQUFHLEVBQUU7b0JBQ0wsR0FBRyxDQUFDLFNBQVMsR0FBRyx1QkFBdUIsR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFBO2lCQUM3RDthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSyxNQUFNLENBQUMsV0FBVztRQUN0QixPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxJQUFJLENBQUE7SUFDaEQsQ0FBQzs7QUFsREQ7Ozs7R0FJRztBQUNZLGlCQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFBIn0=","/**\n *\n * @class sgvizler.Core\n * @memberof sgvizler\n */\nexport class Core {\n    /**\n     * todo\n     * @returns {string}\n     */\n    static get path() {\n        return this._path;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    static set path(value) {\n        this._path = value;\n    }\n}\n/**\n * The version number of this sgvizler2.\n * @static\n * @readonly\n * @type {string} VERSION\n */\nCore.VERSION = '0.0';\n/**\n * sgvizler2's homepage.\n * @static\n * @readonly\n * @type {string} HOMEPAGE\n */\nCore.HOMEPAGE = 'https://bordercloud.github.io/sgvizler2/index.html';\n/**\n * sgvizler2's docs path\n * @static\n * @readonly\n * @type {string} DOCPATH\n */\nCore.DOCPATH = 'https://bordercloud.github.io/sgvizler2/';\nCore._path = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29yZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9Db3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNLE9BQU8sSUFBSTtJQUViOzs7T0FHRztJQUNILE1BQU0sS0FBSyxJQUFJO1FBQ1gsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFBO0lBQ3JCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxNQUFNLEtBQUssSUFBSSxDQUFFLEtBQWE7UUFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7SUFDdEIsQ0FBQzs7QUFFRDs7Ozs7R0FLRztBQUNvQixZQUFPLEdBQVcsS0FBSyxDQUFBO0FBRTlDOzs7OztHQUtHO0FBQ29CLGFBQVEsR0FBVyxvREFBb0QsQ0FBQTtBQUU5Rjs7Ozs7R0FLRztBQUNvQixZQUFPLEdBQVcsMENBQTBDLENBQUE7QUFFcEUsVUFBSyxHQUFXLEVBQUUsQ0FBQSJ9","import { SPARQL_RESULT, SparqlTools } from '../sgvizler';\nimport { SparqlError } from './SparqlError';\n/**\n * Important class. Runs SPARQL query against SPARQL\n * endpoints.\n *\n * Dependencies:\n *\n *   - sgvizler.util\n *   - sgvizler.namespace\n *   - sgvizler.registry\n *   - sgvizler.parser\n *   - sgvizler.loader\n *   - sgvizler.logger\n *   - sgvizler.defaults\n *   - jQuery\n *   - google.visualization\n *\n *\n * Example of how to use the Query class:\n *\n *     var sparqlQueryString = \"SELECT * {?s ?p ?o} LIMIT 10\",\n *         containerID = \"myElementID\",\n *         Q = new sgvizler.Query();\n *\n *     // Note that default values may be set in the sgvizler object.\n *     Q.query(sparqlQueryString)\n *         .endpointURL(\"http://dbpedia.org/sparql\")\n *         .endpointOutputFormat(\"json\")                    // Possible values 'xml', 'json', 'jsonp'.\n *         .chartFunction(\"google.visualization.BarChart\")  // The name of the function to draw the chart.\n *         .draw(containerID);                              // Draw the chart in the designated HTML element.\n *\n * @class sgvizler.Request\n * @memberof sgvizler\n */\nexport class Request {\n    constructor() {\n        this._query = '';\n        this._endpoint = '';\n        this._endpointOutputFormat = SPARQL_RESULT.json;\n        this._method = 'GET';\n        this._queryParameter = 'query';\n        this.listeners = {};\n    }\n    // private _endpointResultsUrlPart: string\n    // // private _chartPathFunction: string\n    // private _endpointURL: string\n    /**\n     *\n     * @returns {string}\n     */\n    get method() {\n        return this._method;\n    }\n    /**\n     *\n     * @param {string} value\n     */\n    set method(value) {\n        this._method = value;\n    }\n    /**\n     *\n     * @returns {Container}\n     */\n    get container() {\n        return this._container;\n    }\n    /**\n     *\n     * @param {Container} value\n     */\n    set container(value) {\n        this._container = value;\n    }\n    /**\n     * Get query string.\n     * @method query\n     * @public\n     * @return {string}\n     */\n    get query() {\n        return this._query;\n    }\n    /**\n     * Set query string.\n     * @method query\n     * @public\n     * @chainable\n     * @param value\n     */\n    set query(value) {\n        this._query = value;\n    }\n    /**\n     * Get endpoint URL.\n     * @method endpointURL\n     * @public\n     * @return {string}\n     */\n    get endpoint() {\n        return this._endpoint;\n    }\n    /**\n     * Set endpoint URL.\n     * @method endpointURL\n     * @public\n     * @chainable\n     * @example\n     *     sgvizler.endpointURL('http://sparql.dbpedia.org');\n     *   sets this Query object's endpoint to DBpedia.\n     * @param value\n     */\n    set endpoint(value) {\n        this._endpoint = value;\n    }\n    /**\n     * Get endpoint output format.\n     * @method endpointOutputFormat\n     * @public\n     * @return {string}\n     */\n    get endpointOutputFormat() {\n        return this._endpointOutputFormat;\n    }\n    /**\n     * Set endpoint output format. Legal values are `'xml'`,\n     * `'json'`, `'jsonp'`.\n     * @method endpointOutputFormat\n     * @public\n     * @chainable\n     * @param value\n     */\n    set endpointOutputFormat(value) {\n        this._endpointOutputFormat = value;\n    }\n    /**\n     * todo\n     * @returns {string}\n     */\n    get queryParameter() {\n        return this._queryParameter;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    set queryParameter(value) {\n        this._queryParameter = value;\n    }\n    sendRequest() {\n        let myRequest = this;\n        // Create new promise with the Promise() constructor;\n        // This has as its argument a function\n        // with two parameters, resolve and reject\n        return new Promise(function (resolve, reject) {\n            // Standard XHR to load an image\n            let xhr = new XMLHttpRequest();\n            let data;\n            let url = myRequest.endpoint;\n            if (myRequest.method.toLowerCase() === 'get') {\n                url += '?' + myRequest.queryParameter + '=' + encodeURIComponent(myRequest.query) +\n                    '&output=' + SparqlTools.getOutputLabel(myRequest.endpointOutputFormat);\n            }\n            else {\n                data = myRequest.queryParameter + '=' + encodeURIComponent(myRequest.query);\n            }\n            xhr.open(myRequest.method, url, true);\n            xhr.setRequestHeader('Accept', SparqlTools.getHeaderAccept(myRequest.endpointOutputFormat));\n            // hide errors xhr.responseType = SparqlTools.getXMLHttpRequestResponseType(myRequest.endpointOutputFormat)\n            // TODO check progress\n            xhr.onprogress = function (oEvent) {\n                if (oEvent.lengthComputable) {\n                    let percentComplete = (oEvent.loaded / oEvent.total) * 100;\n                    console.log('onprogress' + percentComplete);\n                }\n                else {\n                    // Impossible de calculer la progression puisque la taille totale est inconnue\n                }\n            };\n            // When the request loads, check whether it was successful\n            xhr.onload = function (options) {\n                if (xhr.readyState === XMLHttpRequest.DONE) {\n                    if (xhr.status === 200) {\n                        // If successful, resolve the promise by passing back the request response\n                        resolve(JSON.parse(xhr.response));\n                    }\n                    else {\n                        // If it fails, reject the promise with a error message\n                        reject(SparqlError.getErrorMessageWithStatus200(xhr));\n                    }\n                }\n            };\n            xhr.onerror = () => reject(SparqlError.getErrorWithOtherStatus(xhr, url));\n            // Send the request\n            if (data) {\n                xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\n                xhr.send(data);\n            }\n            else {\n                xhr.send();\n            }\n            // console.log(myRequest.query)\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVxdWVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9SZXF1ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFSCxhQUFhLEVBQ2IsV0FBVyxFQUNkLE1BQU0sYUFBYSxDQUFBO0FBQ3BCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUE7QUFFM0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBZ0NHO0FBQ0gsTUFBTSxPQUFPLE9BQU87SUFpSWhCO1FBN0hRLFdBQU0sR0FBVyxFQUFFLENBQUE7UUFDbkIsY0FBUyxHQUFXLEVBQUUsQ0FBQTtRQUN0QiwwQkFBcUIsR0FBa0IsYUFBYSxDQUFDLElBQUksQ0FBQTtRQUN6RCxZQUFPLEdBQUcsS0FBSyxDQUFBO1FBRWYsb0JBQWUsR0FBVyxPQUFPLENBQUE7UUF5SHJDLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFBO0lBQ3ZCLENBQUM7SUF6SEQsMENBQTBDO0lBQzFDLHdDQUF3QztJQUN4QywrQkFBK0I7SUFFL0I7OztPQUdHO0lBQ0gsSUFBSSxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFBO0lBQ3ZCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFJLE1BQU0sQ0FBRSxLQUFhO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO0lBQ3hCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFJLFNBQVM7UUFDVCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUE7SUFDMUIsQ0FBQztJQUVEOzs7T0FHRztJQUNILElBQUksU0FBUyxDQUFFLEtBQWdCO1FBQzNCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFBO0lBQzNCLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILElBQUksS0FBSztRQUNMLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQTtJQUN0QixDQUFDO0lBRUQ7Ozs7OztPQU1H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","/**\n * @namespace sgvizler\n */\nimport * as visualizationNS from './sgvizler/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './sgvizler/Loader';\nexport * from './sgvizler/Dependency';\nexport * from './sgvizler/SparqlError';\nexport * from './sgvizler/Select';\nexport * from './sgvizler/Messages';\nexport * from './sgvizler/Tools';\nexport * from './sgvizler/Logger';\nexport * from './sgvizler/Core';\nexport * from './sgvizler/Chart';\nexport * from './sgvizler/SparqlTools';\nexport * from './sgvizler/Request';\nexport * from './sgvizler/Container';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2d2aXpsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2d2aXpsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLDBCQUEwQixDQUFBO0FBQzNELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUE7QUFFNUMsUUFBUTtBQUVSLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyx1QkFBdUIsQ0FBQTtBQUVyQyxjQUFjLHdCQUF3QixDQUFBO0FBQ3RDLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyxxQkFBcUIsQ0FBQTtBQUNuQyxjQUFjLGtCQUFrQixDQUFBO0FBQ2hDLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyxpQkFBaUIsQ0FBQTtBQUMvQixjQUFjLGtCQUFrQixDQUFBO0FBQ2hDLGNBQWMsd0JBQXdCLENBQUE7QUFDdEMsY0FBYyxvQkFBb0IsQ0FBQTtBQUNsQyxjQUFjLHNCQUFzQixDQUFBIn0=","import { Core, Chart, MESSAGES, Logger } from '../../sgvizler';\n/**\n * Enum for tri-state values.\n * @readonly\n * @enum {number}\n */\nvar DATATABLE_COL_OPTIONS;\n(function (DATATABLE_COL_OPTIONS) {\n    DATATABLE_COL_OPTIONS[DATATABLE_COL_OPTIONS[\"TAG\"] = 0] = \"TAG\";\n    DATATABLE_COL_OPTIONS[DATATABLE_COL_OPTIONS[\"STYLE\"] = 1] = \"STYLE\";\n})(DATATABLE_COL_OPTIONS || (DATATABLE_COL_OPTIONS = {}));\n/**\n * This table uses <a href=\"https://datatables.net/\">DataTables.net</a>.\n * You can adapt each column with the option colstyle.\n *\n * @class bordercloud.visualization.DataTable\n * @memberof bordercloud.visualization\n */\nexport class DataTable extends Chart {\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/DataTables/datatables.min.css');\n        // this.addCss(Core.path + '/lib/DataTables/DataTables-1.10.15/css/dataTables.bootstrap4.min.css')\n        let depDatatables = this.addScript(Core.path + '/lib/DataTables/datatables.min.js');\n        // this.addScript(Core.path + '/lib/DataTables/Buttons-1.4.0/js/dataTables.buttons.js',depDatatables)\n        // this.addScript(Core.path + '/lib/DataTables/DataTables-1.10.15/js/dataTables.bootstrap4.js',depDatatables)\n    }\n    /**\n     * This function parses colStyle option and build the parameter ColumnDef of DataTable\n     * Example :\n     * \"colStyle=col2_img_max-width:250px;col2_img_border-radius:50%;col2_img_display:block;col2_img_margin:auto;col3_img_max-width:300px;col3_img_max-height:300px;col2_img_opacity:0.5\"\n     *\n     * @param {string} codeStyle\n     * @param {number} noCols\n     * @returns {Array<any>}\n     */\n    static buildColumnDefs(codeStyle, noCols) {\n        // noinspection Annotator\n        let regex = / *col([0-9]+)\\_([a-zA-Z]+)\\_([^=;\\n]*) */ig;\n        let m;\n        let datasetColumnsDefs = [];\n        let datasetColumnsFunc;\n        let colOptions = [];\n        let optionCol;\n        // init\n        for (let c = 0; c < noCols; c++) {\n            colOptions[c] = [];\n            colOptions[c][DATATABLE_COL_OPTIONS.TAG] = '';\n            colOptions[c][DATATABLE_COL_OPTIONS.STYLE] = '';\n        }\n        // noinspection TsLint\n        while ((m = regex.exec(codeStyle)) !== null) {\n            // This is necessary to avoid infinite loops with zero-width matches\n            if (m.index === regex.lastIndex) {\n                regex.lastIndex++;\n            }\n            optionCol = parseInt(m[1], 10);\n            colOptions[optionCol][DATATABLE_COL_OPTIONS.TAG] = m[2];\n            colOptions[optionCol][DATATABLE_COL_OPTIONS.STYLE] += m[3] + ';';\n        }\n        for (let c = 0; c < noCols; c++) {\n            switch (colOptions[c][DATATABLE_COL_OPTIONS.TAG]) {\n                case 'img':\n                    datasetColumnsFunc = this.getFunctionColumnDefImg(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                case 'span':\n                    datasetColumnsFunc = this.getFunctionColumnDefSpan(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                /**/\n                case 'video':\n                    datasetColumnsFunc = this.getFunctionColumnDefVideo(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                default:\n                    datasetColumnsFunc = this.getFunctionColumnDefDefault();\n            }\n            // noinspection TsLint\n            datasetColumnsDefs[c] = {\n                'targets': c,\n                // \"data\": \"description\",\n                'render': datasetColumnsFunc\n            };\n        }\n        return datasetColumnsDefs;\n    }\n    static getFunctionColumnDefDefault() {\n        return (function (data, type, full, meta) {\n            return data;\n        });\n    }\n    static getFunctionColumnDefImg(style) {\n        return (function (data, type, full, meta) {\n            return '<img src=\"' + data + '\"  style=\"' + style + '\"\\>';\n        });\n    }\n    static getFunctionColumnDefVideo(style) {\n        return (function (data, type, full, meta) {\n            let youtubePattern = new RegExp('youtu');\n            let facebookPattern = new RegExp('facebook');\n            let mediawikiPattern = new RegExp('commons\\.wikimedia\\.org');\n            if (youtubePattern.test(data)) {\n                let url = data.replace('watch?v=', 'embed/');\n                return '<iframe  style=\"' + style + '\" src=\"' + url + '\" meta http-equiv=\"X-Frame-Options\" content=\"allow\" frameborder=\"0\" allowfullscreen></iframe>';\n            }\n            else if (facebookPattern.test(data)) {\n                //data = 'https://www.facebook.com/XXXX/videos/XXXXX/' // example\n                //doc https://developers.facebook.com/docs/plugins/embedded-video-player\n                return '<iframe src=\"https://www.facebook.com/plugins/video.php?href=' + encodeURIComponent(data) + '&show_text=0&width=560\" style=\"border:none;overflow:hidden;' + style + '\" scrolling=\"no\" frameborder=\"0\" allowTransparency=\"true\" allowFullScreen=\"true\"></iframe>';\n            }\n            else if (mediawikiPattern.test(data)) {\n                //data = 'https://commons.wikimedia.org/wiki/File%3AAuguste_%26_Louis_Lumi%C3%A8re-_L'Arroseur_arros%C3%A9_(1895).webm' // example\n                //return '<iframe src=\"' + data + '?embedplayer=false\" style=\"' + style + '\" frameborder=\"0\" allowfullscreen></iframe>'\n                //doc http://html5video.org/wiki/Rewriting_HTML5_Media_Elements\n                return '<video controls style=\"' + style + '\"><source src=\"' + data + '\"></video>';\n            }\n            else {\n                return '<iframe  style=\"' + style + '\" src=\"' + data + '\" meta http-equiv=\"X-Frame-Options\" content=\"allow\" frameborder=\"0\" allowfullscreen></iframe>';\n            }\n        });\n    }\n    static getFunctionColumnDefSpan(style) {\n        return (function (data, type, full, meta) {\n            return '<span style=\"' + style + '\"\\>' + data + '</span>';\n        });\n    }\n    get icon() {\n        return 'fa fa-table';\n    }\n    get label() {\n        return 'DataTable';\n    }\n    get subtext() {\n        return 'DataTable';\n    }\n    get classFullName() {\n        return 'bordercloud.visualization.DataTable';\n    }\n    get tutorialFilename() {\n        return 'tutorial-bordercloud_visualization_DataTable.html';\n    }\n    /**\n     * Draw a chart\n     * Available options:\n     * - 'class' :  css class (default: \"table table-striped table-bordered\")\n     * - 'cellspacing'   : cellspacing of table  (default: \"0\")\n     * - 'width'   :  width (default: \"100%\")\n     * - 'colStyle'   :   (default: \"\")\n     *\n     * Example :\n     * \"colStyle=col2_img_max-width:250px;col2_img_border-radius:50%;col2_img_display:block;col2_img_margin:auto;col3_img_max-width:300px;col3_img_max-height:300px;col2_img_opacity:0.5\"\n     *\n     * @param {SparqlResultInterface} result\n     * @returns {Promise< any >}\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // precondition\n            let obj = document.getElementById(currentChart.container.id);\n            if (!obj) {\n                Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART_UNKNOWN, [currentChart.container.id]);\n                return resolve();\n            }\n            try {\n                let cols = result.head.vars;\n                let rows = result.results.bindings;\n                let row;\n                let datasetRow;\n                let noCols = cols.length;\n                let noRows = rows.length;\n                let idChart = currentChart.container.id + '-datatable';\n                let datasetColumns = [];\n                let datasetColumnsDefs;\n                let dataset = [];\n                let tableElement = document.createElement('table');\n                let tableId = document.createAttribute('id');\n                let tableClass = document.createAttribute('class');\n                let tableCellSpacing = document.createAttribute('cellspacing');\n                let tableWidth = document.createAttribute('width');\n                let opt = Object.assign({\n                    'class': 'table table-striped table-bordered',\n                    'cellspacing': '0',\n                    'width': '100%',\n                    'colstyle': undefined\n                }, currentChart.options);\n                for (let c = 0; c < noCols; c++) {\n                    datasetColumns[c] = { title: cols[c] };\n                }\n                if (opt.colstyle !== undefined) {\n                    datasetColumnsDefs = DataTable.buildColumnDefs(opt.colstyle, noCols);\n                }\n                for (let r = 0; r < noRows; r++) {\n                    row = rows[r];\n                    datasetRow = [];\n                    // loop cells\n                    for (let c = 0; c < noCols; c += 1) {\n                        datasetRow[c] = row[cols[c]] !== undefined ? row[cols[c]].value : '';\n                    }\n                    dataset[r] = datasetRow;\n                }\n                tableId.value = idChart;\n                tableClass.value = opt.class;\n                tableCellSpacing.value = opt.cellspacing;\n                tableWidth.value = opt.width;\n                tableElement.setAttributeNode(tableId);\n                tableElement.setAttributeNode(tableClass);\n                tableElement.setAttributeNode(tableCellSpacing);\n                tableElement.setAttributeNode(tableWidth);\n                obj.appendChild(tableElement);\n                $('#' + idChart).DataTable({\n                    bSort: false,\n                    data: dataset,\n                    columns: datasetColumns,\n                    columnDefs: datasetColumnsDefs,\n                    dom: 'Bfrtip',\n                    buttons: [\n                        'csv',\n                        'pdf',\n                        'print'\n                    ]\n                });\n            }\n            catch (e) {\n                return reject(e);\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YVRhYmxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2JvcmRlcmNsb3VkL3Zpc3VhbGl6YXRpb24vRGF0YVRhYmxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxJQUFJLEVBQ0osS0FBSyxFQUVMLFFBQVEsRUFDUixNQUFNLEVBQ1QsTUFBTSxnQkFBZ0IsQ0FBQTtBQUl2Qjs7OztHQUlHO0FBQ0gsSUFBSyxxQkFHSjtBQUhELFdBQUsscUJBQXFCO0lBQ3RCLCtEQUFHLENBQUE7SUFDSCxtRUFBSyxDQUFBO0FBQ1QsQ0FBQyxFQUhJLHFCQUFxQixLQUFyQixxQkFBcUIsUUFHekI7QUFFRDs7Ozs7O0dBTUc7QUFDSCxNQUFNLE9BQU8sU0FBVSxTQUFRLEtBQUs7SUFFaEM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUVQLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxvQ0FBb0MsQ0FBQyxDQUFBO1FBQzdELGtHQUFrRztRQUNsRyxJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsbUNBQW1DLENBQUMsQ0FBQTtRQUNuRixxR0FBcUc7UUFDckcsNkdBQTZHO0lBQ2pILENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNLLE1BQU0sQ0FBQyxlQUFlLENBQUUsU0FBaUIsRUFBQyxNQUFjO1FBQzVELHlCQUF5QjtRQUN6QixJQUFJLEtBQUssR0FBRyw0Q0FBNEMsQ0FBQTtRQUN4RCxJQUFJLENBQUMsQ0FBQTtRQUNMLElBQUksa0JBQWtCLEdBQUcsRUFBZ0IsQ0FBQTtRQUN6QyxJQUFJLGtCQUFrQixDQUFBO1FBQ3RCLElBQUksVUFBVSxHQUFlLEVBQUUsQ0FBQTtRQUMvQixJQUFJLFNBQVMsQ0FBQTtRQUViLE9BQU87UUFDUCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMs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","/**\n * @namespace bordercloud\n */\nimport * as visualizationNS from './bordercloud/visualization';\nexport const visualization = visualizationNS;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9yZGVyY2xvdWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYm9yZGVyY2xvdWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLDZCQUE2QixDQUFBO0FBQzlELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUEifQ==","/**\n * Tools\n * @class google.Tools\n * @memberof google\n */\nexport class Tools {\n    static decodeFormatSize(value) {\n        let result = value;\n        if (Number.isNaN(Number(value))) {\n            let patternPercent = /%/gi;\n            let patternPixel = /px/gi;\n            if (result.search(patternPixel) >= 0) {\n                result = result.replace('px', '');\n                if (!Number.isNaN(Number(result))) {\n                    result = Number(result);\n                }\n            }\n            else if (result.search(patternPercent) >= 0) {\n                // do nothing\n            }\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZ29vZ2xlL1Rvb2xzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNLE9BQU8sS0FBSztJQUNQLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBRSxLQUFVO1FBQ3RDLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQTtRQUNsQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDN0IsSUFBSSxjQUFjLEdBQUcsS0FBSyxDQUFBO1lBQzFCLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQTtZQUV6QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUE7Z0JBQ2pDLElBQUksQ0FBRSxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFO29CQUNoQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2lCQUMxQjthQUNKO2lCQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQzNDLGFBQWE7YUFDaEI7U0FDSjtRQUNELE9BQU8sTUFBTSxDQUFBO0lBQ2pCLENBQUM7Q0FDSiJ9","/**\n * Data\n * @class google.Data\n * @memberof google.Data\n */\nexport class Data {\n    constructor(result, raw = false) {\n        if (raw) {\n            this.convertResultRaw(result);\n        }\n        else {\n            this.convertResult(result);\n        }\n    }\n    setRole(col, role) {\n        this._dataTable.setColumnProperty(col, 'role', role);\n    }\n    getDataTable() {\n        return this._dataTable;\n    }\n    convertResult(result) {\n        let data = new google.visualization.DataTable();\n        let cols = result.head.vars;\n        let rows = result.results.bindings;\n        let noCols = cols.length;\n        let noRows = rows.length;\n        for (let col of cols) {\n            // RDF Term\tJSON form\n            // IRI I\t{\"type\": \"uri\", \"value\": \"I\"}\n            // Literal S\t{\"type\": \"literal\",\"value\": \"S\"}\n            // Literal S with language tag L\t{ \"type\": \"literal\", \"value\": \"S\", \"xml:lang\": \"L\"}\n            // Literal S with datatype IRI D\t{ \"type\": \"literal\", \"value\": \"S\", \"datatype\": \"D\"}\n            // Blank node, label B\t{\"type\": \"bnode\", \"value\": \"B\"}\n            let colName = col.replace('_', ' ');\n            if (noRows > 0) {\n                let type = rows[0][col] !== undefined ? rows[0][col].datatype : '';\n                if (type === 'http://www.w3.org/2001/XMLSchema#decimal' ||\n                    type === 'http://www.w3.org/2001/XMLSchema#integer') {\n                    data.addColumn('number', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#boolean') {\n                    data.addColumn('boolean', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#date') {\n                    data.addColumn('date', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#dateTime') {\n                    data.addColumn('datetime', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#time') {\n                    data.addColumn('timeofday', colName);\n                }\n                else {\n                    data.addColumn('string', colName);\n                }\n            }\n            else {\n                data.addColumn('string', colName);\n            }\n        }\n        if (noRows > 0) {\n            data.addRows(noRows);\n            let i = 0;\n            for (let x = 0; x < noRows; x++) {\n                for (let y = 0; y < noCols; y++) {\n                    // data.setCell(x,y,rows[x][cols[y]].value)\n                    let type = rows[x][cols[y]] !== undefined && rows[x][cols[y]].hasOwnProperty('datatype') ? rows[x][cols[y]].datatype : '';\n                    if (type === 'http://www.w3.org/2001/XMLSchema#integer') {\n                        data.setCell(x, y, parseInt(rows[x][cols[y]].value, 10));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#decimal' || type === 'http://www.w3.org/2001/XMLSchema#float') {\n                        data.setCell(x, y, parseFloat(rows[x][cols[y]].value));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#boolean') {\n                        // todo test\n                        // 'boolean' - JavaScript boolean value ('true' or 'false'). Example value: v:'true'\n                        data.setCell(x, y, rows[x][cols[y]].value === 'true' ? true : false);\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#date') {\n                        // todo test\n                        // 'date' - JavaScript Date object (zero-based month), with the time truncated. Example value: v:new Date(2008, 0, 15)\n                        data.setCell(x, y, new Date(rows[x][cols[y]].value));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#dateTime') {\n                        // todo test\n                        // 'datetime' - JavaScript Date object including the time. Example value: v:new Date(2008, 0, 15, 14, 30, 45)\n                        data.setCell(x, y, new Date(rows[x][cols[y]].value));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#time') {\n                        // todo test\n                        // 'timeofday' - Array of three numbers and an optional fourth, representing hour (0 indicates midnight), minute, second, and optional millisecond. Example values: v:[8, 15, 0], v: [6, 12, 1, 144]\n                        let time = new Date(rows[x][cols[y]].value);\n                        data.setCell(x, y, [time.getHours(), time.getHours(), time.getSeconds(), time.getMilliseconds()]);\n                    }\n                    else {\n                        if (rows[x][cols[y]] === undefined) {\n                            data.setCell(x, y, null);\n                        }\n                        else {\n                            // 'string' - JavaScript string value. Example value: v:'hello'\n                            //let value = rows[x][cols[y]] !== undefined ? rows[x][cols[y]].value : ''\n                            data.setCell(x, y, rows[x][cols[y]].value);\n                        }\n                    }\n                    // console.log('rows['+x+'][cols['+y+']].value = ' + rows[x][cols[y]].value + ' ' +\n                    // rows[x][cols[y]].datatype)\n                }\n            }\n        }\n        this._dataTable = data;\n    }\n    convertResultRaw(result) {\n        let data = new google.visualization.DataTable();\n        let cols = result.head.vars;\n        let rows = result.results.bindings;\n        let noCols = cols.length;\n        let noRows = rows.length;\n        for (let col of cols) {\n            data.addColumn('string', col);\n        }\n        if (noRows > 0) {\n            data.addRows(noRows);\n            let i = 0;\n            for (let x = 0; x < noRows; x++) {\n                for (let y = 0; y < noCols; y++) {\n                    if (rows[x][cols[y]] === undefined) {\n                        data.setCell(x, y, '');\n                    }\n                    else {\n                        data.setCell(x, y, rows[x][cols[y]].value.toString());\n                    }\n                }\n            }\n        }\n        this._dataTable = data;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9nb29nbGUvRGF0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQTs7OztHQUlHO0FBQ0gsTUFBTSxPQUFPLElBQUk7SUFJYixZQUFhLE1BQTZCLEVBQUUsTUFBZSxLQUFLO1FBQzVELElBQUksR0FBRyxFQUFFO1lBQ0wsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFBO1NBQ2hDO2FBQU07WUFDSCxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1NBQzdCO0lBQ0wsQ0FBQztJQUVELE9BQU8sQ0FBRSxHQUFXLEVBQUUsSUFBWTtRQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDeEQsQ0FBQztJQUVELFlBQVk7UUFDUixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUE7SUFDMUIsQ0FBQztJQUVPLGFBQWEsQ0FBRSxNQUE2QjtRQUNoRCxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLENBQUE7UUFFL0MsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUE7UUFDM0IsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUE7UUFDbEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtRQUN4QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1FBRXhCLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO1lBQ2xCLHFCQUFxQjtZQUNyQixzQ0FBc0M7WUFDdEMsNkNBQTZDO1lBQzdDLG9GQUFvRjtZQUNwRixvRkFBb0Y7WUFDcEYsc0RBQXNEO1lBQ3RELElBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFD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","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo AnnotationChart\n * @class google.visualization.AnnotationChart\n * @tutorial google_visualization_AnnotationChart\n * @memberof google.visualization\n */\nexport class AnnotationChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['annotationchart'] });\n        AnnotationChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'AnnotationChart';\n    }\n    get subtext() {\n        return 'AnnotationChart';\n    }\n    get classFullName() {\n        return 'google.visualization.AnnotationChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_AnnotationChart.html';\n    }\n    /**\n     * Make a standard simple html AnnotationChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf AnnotationChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!AnnotationChart._isInit) {\n                AnnotationChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let AnnotationChart = new google.visualization.AnnotationChart(document.getElementById(currentChart.container.id));\n                    AnnotationChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nAnnotationChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQW5ub3RhdGlvbkNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0Fubm90YXRpb25DaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLGVBQWdCLFNBQVEsS0FBSztJQUd0QztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ2hFLGVBQWUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLGlCQUFpQixDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGlCQUFpQixDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyxzQ0FBc0MsQ0FBQTtJQUNqRCxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxvREFBb0QsQ0FBQTtJQUMvRCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsZUFBZSxDQUFDLE9BQU8sRUFBRTtnQkFDM0IsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ3pCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksZUFBZSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ2xILGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUNqRDtnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWpGYyx1QkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo AreaChart\n * @class google.visualization.AreaChart\n * @tutorial google_visualization_AreaChart\n * @memberof google.visualization\n */\nexport class AreaChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        AreaChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'AreaChart';\n    }\n    get subtext() {\n        return 'AreaChart';\n    }\n    get classFullName() {\n        return 'google.visualization.AreaChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_AreaChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!AreaChart._isInit) {\n                AreaChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let areaChart = new google.visualization.AreaChart(document.getElementById(currentChart.container.id));\n                    areaChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nAreaChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXJlYUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0FyZWFDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFNBQVUsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLGdDQUFnQyxDQUFBO0lBQzNDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLDhDQUE4QyxDQUFBO0lBQ3pELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3BCLGtCQUFrQjthQUNyQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixlQUFlO1lBQ2YsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO2dCQUNyQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUMsQ0FBQTtZQUVGLElBQUksQ0FBRSxTQUFTLENBQUMsT0FBTyxFQUFFO2dCQUNyQixTQUFTLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDbkI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxTQUFTLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDdEcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQzNDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBakZjLGlCQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo BarChart\n * @class google.visualization.BarChart\n * @tutorial google_visualization_BarChart\n * @memberof google.visualization\n */\nexport class BarChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'bar'] });\n        BarChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-align-left';\n    }\n    get label() {\n        return 'BarChart';\n    }\n    get subtext() {\n        return 'BarChart';\n    }\n    get classFullName() {\n        return 'google.visualization.BarChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_BarChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf BarChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!BarChart._isInit) {\n                BarChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.BarChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nBarChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFyQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQmFyQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxRQUFTLFNBQVEsS0FBSztJQUcvQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDakUsUUFBUSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDM0IsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sK0JBQStCLENBQUE7SUFDMUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3BCLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNsQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNqRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDdkM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQUMsQ0FBQTtZQUNOLFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFoRmMsZ0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo BubbleChart\n * @class google.visualization.BubbleChart\n * @tutorial google_visualization_BubbleChart\n * @memberof google.visualization\n */\nexport class BubbleChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        BubbleChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-circle';\n    }\n    get label() {\n        return 'BubbleChart';\n    }\n    get subtext() {\n        return 'BubbleChart';\n    }\n    get classFullName() {\n        return 'google.visualization.BubbleChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_BubbleChart.html';\n    }\n    /**\n     * Make a standard simple html bubbleChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf BubbleChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!BubbleChart._isInit) {\n                BubbleChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.BubbleChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nBubbleChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnViYmxlQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQnViYmxlQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxXQUFZLFNBQVEsS0FBSztJQUdsQztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUMxRCxXQUFXLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUM5QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxjQUFjLENBQUE7SUFDekIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sa0NBQWtDLENBQUE7SUFDN0MsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sZ0RBQWdELENBQUE7SUFDM0QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFdBQVcsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3ZCLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNyQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNuRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDeEM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQUMsQ0FBQTtZQUNOLFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFoRmMsbUJBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Calendar\n * @class google.visualization.Calendar\n * @tutorial google_visualization_Calendar\n * @memberof google.visualization\n */\nexport class Calendar extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['calendar'] });\n        Calendar._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-calendar';\n    }\n    get label() {\n        return 'Calendar';\n    }\n    get subtext() {\n        return 'Calendar';\n    }\n    get classFullName() {\n        return 'google.visualization.Calendar';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Calendar.html';\n    }\n    /**\n     * Make a standard simple html Calendar.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Calendar\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Calendar._isInit) {\n                Calendar.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let calendar = new google.visualization.Calendar(document.getElementById(currentChart.container.id));\n                    calendar.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nCalendar._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FsZW5kYXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQ2FsZW5kYXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxRQUFTLFNBQVEsS0FBSztJQUcvQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUN6RCxRQUFRLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUMzQixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxnQkFBZ0IsQ0FBQTtJQUMzQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywrQkFBK0IsQ0FBQTtJQUMxQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyw2Q0FBNkMsQ0FBQTtJQUN4RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsUUFBUSxDQUFDLE9BQU8sRUFBRTtnQkFDcEIsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ2xCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3JHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUN6QztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWpGYyxnQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES, Messages } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo CandlestickChart\n * @class google.visualization.CandlestickChart\n * @tutorial google_visualization_CandlestickChart\n * @memberof google.visualization\n */\nexport class CandlestickChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        CandlestickChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'CandlestickChart';\n    }\n    get subtext() {\n        return 'CandlestickChart';\n    }\n    get classFullName() {\n        return 'google.visualization.CandlestickChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_CandlestickChart.html';\n    }\n    /**\n     * Make a standard simple html CandlestickChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf CandlestickChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // console.log(noCols + \" x \" + noRows)\n            if (result.results.bindings.length === 0) {\n                return reject(Messages.get(MESSAGES.ERROR_DATA_NOROW));\n            }\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!CandlestickChart._isInit) {\n                CandlestickChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let candlestickChart = new google.visualization.CandlestickChart(document.getElementById(currentChart.container.id));\n                    candlestickChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nCandlestickChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FuZGxlc3RpY2tDaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9DYW5kbGVzdGlja0NoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFFBQVEsRUFDUixRQUFRLEVBRVgsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsS0FBSztJQUd2QztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUMxRCxnQkFBZ0IsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ25DLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyx1Q0FBdUMsQ0FBQTtJQUNsRCxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxxREFBcUQsQ0FBQTtJQUNoRSxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUc7Z0JBQ3ZDLE9BQU8sTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQTthQUN6RDtZQUVELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRTtnQkFDNUIsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDMUI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3JILGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQ2pEO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBcEZjLHdCQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo ColumnChart\n * @class google.visualization.ColumnChart\n * @tutorial google_visualization_ColumnChart\n * @memberof google.visualization\n */\nexport class ColumnChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'bar'] });\n        ColumnChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-bar';\n    }\n    get label() {\n        return 'ColumnChart';\n    }\n    get subtext() {\n        return 'ColumnChart';\n    }\n    get classFullName() {\n        return 'google.visualization.ColumnChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_ColumnChart.html';\n    }\n    /**\n     * Make a standard simple html ColumnChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf ColumnChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                reverseCategories: false\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!ColumnChart._isInit) {\n                ColumnChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let ColumnChart = new google.visualization.ColumnChart(document.getElementById(currentChart.container.id));\n                    ColumnChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nColumnChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sdW1uQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQ29sdW1uQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxXQUFZLFNBQVEsS0FBSztJQUdsQztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDakUsV0FBVyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDOUIsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sa0NBQWtDLENBQUE7SUFDN0MsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sZ0RBQWdELENBQUE7SUFDM0QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGlCQUFpQixFQUFFLEtBQUs7YUFDM0IsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsV0FBVyxDQUFDLE9BQU8sRUFBRTtnQkFDdkIsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ3JCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksV0FBVyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQzFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUM3QztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWpGYyxtQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo ComboChart\n * @class google.visualization.ComboChart\n * @tutorial google_visualization_ComboChart\n * @memberof google.visualization\n */\nexport class ComboChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        ComboChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-signal';\n    }\n    get label() {\n        return 'ComboChart';\n    }\n    get subtext() {\n        return 'ComboChart';\n    }\n    get classFullName() {\n        return 'google.visualization.ComboChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_ComboChart.html';\n    }\n    /**\n     * Make a standard simple html ComboChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf ComboChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!ComboChart._isInit) {\n                ComboChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let comboChart = new google.visualization.ComboChart(document.getElementById(currentChart.container.id));\n                    comboChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nComboChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tYm9DaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9Db21ib0NoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sVUFBVyxTQUFRLEtBQUs7SUFHakM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDNUQsVUFBVSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFlBQVksQ0FBQTtJQUN2QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxZQUFZLENBQUE7SUFDdkIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLGlDQUFpQyxDQUFBO0lBQzVDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLCtDQUErQyxDQUFBO0lBQzFELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3BCLGtCQUFrQjthQUNyQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixlQUFlO1lBQ2YsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO2dCQUNyQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUMsQ0FBQTtZQUVGLElBQUksQ0FBRSxVQUFVLENBQUMsT0FBTyxFQUFFO2dCQUN0QixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDcEI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxVQUFVLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDeEcsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQzVDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBakZjLGtCQUFPLEdBQVksS0FBSyxDQUFBIn0=","/**\n * Todo API\n * @class google.API\n * @memberof google\n */\nexport class API {\n    /**\n     * todo\n     * @returns {string}\n     */\n    static get key() {\n        return this._key;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    static set key(value) {\n        this._key = value;\n    }\n}\n/**\n * todo\n * @type {string}\n * @private\n */\nAPI._key = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVBJLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2dvb2dsZS9BUEkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxHQUFHO0lBQ1o7OztPQUdHO0lBQ0gsTUFBTSxLQUFLLEdBQUc7UUFDVixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUE7SUFDcEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILE1BQU0sS0FBSyxHQUFHLENBQUUsS0FBYTtRQUN6QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQTtJQUNyQixDQUFDOztBQUVEOzs7O0dBSUc7QUFDWSxRQUFJLEdBQVcsRUFBRSxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\nimport { API } from '../API';\n/**\n * Todo GeoChart\n * @class google.visualization.GeoChart\n * @tutorial google_visualization_GeoChart\n * @memberof google.visualization\n */\nexport class GeoChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['geochart'], mapsApiKey: API.key });\n        GeoChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-globe';\n    }\n    get label() {\n        return 'GeoChart';\n    }\n    get subtext() {\n        return 'GeoChart';\n    }\n    get classFullName() {\n        return 'google.visualization.GeoChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_GeoChart.html';\n    }\n    /**\n     * Make a standard simple html geochart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf GeoChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!GeoChart._isInit) {\n                GeoChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let geochart = new google.visualization.GeoChart(document.getElementById(currentChart.container.id));\n                    geochart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nGeoChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2VvQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vR2VvQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUM5QixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBSTVCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFFBQVMsU0FBUSxLQUFLO0lBRy9CO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsVUFBVSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUMsQ0FBQyxDQUFBO1FBQzlFLFFBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzNCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywrQkFBK0IsQ0FBQTtJQUMxQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyw2Q0FBNkMsQ0FBQTtJQUN4RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsUUFBUSxDQUFDLE9BQU8sRUFBRTtnQkFDcEIsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ2xCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3BHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUMxQztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWpGYyxnQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Histogram\n * @class google.visualization.Histogram\n * @tutorial google_visualization_Histogram\n * @memberof google.visualization\n */\nexport class Histogram extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        Histogram._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'Histogram';\n    }\n    get subtext() {\n        return 'Histogram';\n    }\n    get classFullName() {\n        return 'google.visualization.Histogram';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Histogram.html';\n    }\n    /**\n     * Make a standard simple html Histogram.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Histogram\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Histogram._isInit) {\n                Histogram.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let histogram = new google.visualization.Histogram(document.getElementById(currentChart.container.id));\n                    histogram.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nHistogram._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGlzdG9ncmFtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0hpc3RvZ3JhbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFNBQVUsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLGdDQUFnQyxDQUFBO0lBQzNDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLDhDQUE4QyxDQUFBO0lBQ3pELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3BCLGtCQUFrQjthQUNyQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixlQUFlO1lBQ2YsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO2dCQUNyQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUMsQ0FBQTtZQUVGLElBQUksQ0FBRSxTQUFTLENBQUMsT0FBTyxFQUFFO2dCQUNyQixTQUFTLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDbkI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxTQUFTLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDdEcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQzNDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBakZjLGlCQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo IntervalChart\n * @class google.visualization.IntervalChart\n * @tutorial google_visualization_IntervalChart\n * @memberof google.visualization\n */\nexport class IntervalChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'line'] });\n        IntervalChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'Interval';\n    }\n    get subtext() {\n        return 'Interval';\n    }\n    get classFullName() {\n        return 'google.visualization.IntervalChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_IntervalChart.html';\n    }\n    /**\n     * Draw a IntervalChart\n     * @memberOf IntervalChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!IntervalChart._isInit) {\n                IntervalChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let cols = result.head.vars;\n                    let noCols = cols.length;\n                    for (let y = 2; y < noCols; y++) {\n                        data.setRole(y, 'interval');\n                    }\n                    let line = new google.visualization.LineChart(document.getElementById(currentChart.container.id));\n                    line.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nIntervalChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW50ZXJ2YWxDaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9JbnRlcnZhbENoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sYUFBYyxTQUFRLEtBQUs7SUFHcEM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxXQUFXLEVBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ2pFLGFBQWEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ2hDLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLG9DQUFvQyxDQUFBO0lBQy9DLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLGtEQUFrRCxDQUFBO0lBQzdELENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBRXhDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLGFBQWEsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3pCLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUN2QjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtvQkFDM0IsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtvQkFFeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTt3QkFDN0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUMsVUFBVSxDQUFDLENBQUE7cUJBQzdCO29CQUVELElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ2pHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUN0QztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQXBGYyxxQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo LineChart\n * @class google.visualization.LineChart\n * @tutorial google_visualization_LineChart\n * @memberof google.visualization\n */\nexport class LineChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'line'] });\n        LineChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'Line';\n    }\n    get subtext() {\n        return 'Line';\n    }\n    get classFullName() {\n        return 'google.visualization.LineChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_LineChart.html';\n    }\n    /**\n     * Draw a LineChart\n     * @memberOf LineChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = '500';\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!LineChart._isInit) {\n                LineChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let line = new google.visualization.LineChart(document.getElementById(currentChart.container.id));\n                    line.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nLineChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGluZUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0xpbmVDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFNBQVUsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxFQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUNqRSxTQUFTLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUM1QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxtQkFBbUIsQ0FBQTtJQUM5QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxNQUFNLENBQUE7SUFDakIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sTUFBTSxDQUFBO0lBQ2pCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyxnQ0FBZ0MsQ0FBQTtJQUMzQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyw4Q0FBOEMsQ0FBQTtJQUN6RCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUV4QyxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUE7WUFDbEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3BCLGtCQUFrQjthQUNyQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixlQUFlO1lBQ2YsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO2dCQUNyQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUMsQ0FBQTtZQUVGLElBQUksQ0FBRSxTQUFTLENBQUMsT0FBTyxFQUFFO2dCQUNyQixTQUFTLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDbkI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDakcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQ3RDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBN0VjLGlCQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { API } from '../API';\n/**\n * Todo Table\n * @class google.visualization.Map\n * @tutorial google_visualization_Map\n * @memberof google.visualization\n */\nexport class Map extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['map'], mapsApiKey: API.key });\n        Map._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-map';\n    }\n    get label() {\n        return 'Map';\n    }\n    get subtext() {\n        return 'Map';\n    }\n    get classFullName() {\n        return 'google.visualization.Map';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Map.html';\n    }\n    /**\n     * Make a Google map\n     * todo\n     * @memberOf Map\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                showTooltip: false,\n                showInfoWindow: true,\n                enableScrollWheel: true\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            // fix bug in local\n            if (location.origin.startsWith('file:')) {\n                opt = Object.assign({\n                    icons: {\n                        default: {\n                            normal: 'https://maps.google.com/mapfiles/ms/micons/red-dot.png',\n                            selected: 'https://maps.google.com/mapfiles/ms/micons/blue-dot.png'\n                        }\n                    }\n                }, opt);\n            }\n            // init only one time\n            if (!Map._isInit) {\n                Map.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let messageError = '';\n                    let cols = result.head.vars;\n                    let rows = result.results.bindings;\n                    let noCols = cols.length;\n                    let noRows = rows.length;\n                    let lat;\n                    let long;\n                    let description;\n                    let data = new google.visualization.DataTable();\n                    if (noCols <= 2) {\n                        messageError = 'Parameters : latitude(xsd:Decimal) longitude(xsd:Decimal) title(xsd:string' +\n                            ' optional) introduction(xsd:string optional) link(IRI optional)';\n                    }\n                    else {\n                        let latitudeCol = 0;\n                        let longitudeCol = 1;\n                        let descriptionCol = 2;\n                        data.addColumn('number', latitudeCol);\n                        data.addColumn('number', longitudeCol);\n                        if (noCols > 2) {\n                            data.addColumn('string', descriptionCol);\n                        }\n                        data.addRows(noRows);\n                        for (let x = 0; x < noRows; x++) {\n                            lat = parseFloat(rows[x][cols[latitudeCol]].value);\n                            long = parseFloat(rows[x][cols[longitudeCol]].value);\n                            description = '';\n                            if (isNaN(lat) || isNaN(long)) {\n                                messageError = 'Latitude or longitude is not a decimal. Parameters of chart :' +\n                                    ' latitude(xsd:Decimal)' +\n                                    ' longitude(xsd:Decimal) title(xsd:string' +\n                                    ' optional) introduction(xsd:string optional) link(IRI optional). ';\n                                break;\n                            }\n                            if (noCols >= 6) {\n                                // latitude longitude title text link\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                let text = rows[x][cols[3]] !== undefined ? \"<p style='margin: 0px'>\" + rows[x][cols[3]].value + '</p>' : '';\n                                let link = rows[x][cols[4]] !== undefined ? \"<a style='font-size: large;font-style: medium;' href='\" + rows[x][cols[4]].value + \"' target='_blank'>\" + title + '</a>' : title;\n                                let img = rows[x][cols[5]] !== undefined ? \"<img src='\" + rows[x][cols[5]].value + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/>\" : '';\n                                if (rows[x][cols[3]] === undefined || rows[x][cols[3]].value.length === 0) {\n                                    description = '<div style=\"display: flow-root;min-width: 150px;min-height:150px;\">' + link + '<div>' + img + '</div></div>';\n                                }\n                                else {\n                                    description = '<div style=\"display: flow-root;width: 350px;min-height:150px;\">' + link + '<div>' + img + text + '</div></div>';\n                                }\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 5) {\n                                // latitude longitude title introduction link\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                let text = rows[x][cols[3]] !== undefined ? rows[x][cols[3]].value : '';\n                                let link = rows[x][cols[4]] !== undefined ? \"<a href='\" + rows[x][cols[4]].value + \"'>\" + title + '</a>' : title;\n                                description = '<b>' + link + '</b><br/>' + text;\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 4) {\n                                // latitude longitude title introduction\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                let text = rows[x][cols[3]] !== undefined ? rows[x][cols[3]].value : '';\n                                description = '<b>' + title + '</b><br/>' + text;\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 3) {\n                                // latitude longitude title\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                description = '<b>' + title + '</br>';\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 2) {\n                                // latitude longitude\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                            }\n                        }\n                    }\n                    if (messageError !== '') {\n                        return reject(Error(messageError));\n                    }\n                    let table = new google.visualization.Map(document.getElementById(currentChart.container.id));\n                    table.draw(data, opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nMap._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL01hcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUVoQyxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBSTVCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLEdBQUksU0FBUSxLQUFLO0lBRzFCO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUcsVUFBVSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFBO1FBQzNFLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxLQUFLLENBQUE7SUFDaEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywwQkFBMEIsQ0FBQTtJQUNyQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyx3Q0FBd0MsQ0FBQTtJQUNuRCxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FB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","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo OrgChart\n * @class google.visualization.OrgChart\n * @tutorial google_visualization_OrgChart\n * @memberof google.visualization\n */\nexport class OrgChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['orgchart'] });\n        OrgChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-sitemap';\n    }\n    get label() {\n        return 'OrgChart';\n    }\n    get subtext() {\n        return 'OrgChart';\n    }\n    get classFullName() {\n        return 'google.visualization.OrgChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_OrgChart.html';\n    }\n    /**\n     * Make a standard simple html OrgChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf OrgChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                allowHtml: true\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!OrgChart._isInit) {\n                OrgChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let orgChart = new google.visualization.OrgChart(document.getElementById(currentChart.container.id));\n                    orgChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nOrgChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3JnQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vT3JnQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxRQUFTLFNBQVEsS0FBSztJQUcvQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUN6RCxRQUFRLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUMzQixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxlQUFlLENBQUE7SUFDMUIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sK0JBQStCLENBQUE7SUFDMUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLFNBQVMsRUFBRSxJQUFJO2FBQ2xCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3BCLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNsQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNwRyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDMUM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsZ0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Pie\n * @class google.visualization.Pie\n * @tutorial google_visualization_Pie\n * @memberof google.visualization\n */\nexport class Pie extends Chart {\n    constructor() {\n        super();\n        this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    get icon() {\n        return 'fas fa-chart-pie';\n    }\n    get label() {\n        return 'Pie';\n    }\n    get subtext() {\n        return 'Pie';\n    }\n    get classFullName() {\n        return 'google.visualization.Pie';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Pie.html';\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        Pie._isInit = true;\n    }\n    /**\n     * Make a standard simple html pie.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Pie._isInit) {\n                Pie.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let Pie = new google.visualization.PieChart(document.getElementById(currentChart.container.id));\n                    Pie.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nPie._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGllLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL1BpZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLEdBQUksU0FBUSxLQUFLO0lBdUIxQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQzlELENBQUM7SUF6QkQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxrQkFBa0IsQ0FBQTtJQUM3QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxLQUFLLENBQUE7SUFDaEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywwQkFBMEIsQ0FBQTtJQUNyQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyx3Q0FBd0MsQ0FBQTtJQUNuRCxDQUFDO0lBU08sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDNUQsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDdEIsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUU7Z0JBQ2YsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ2I7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxHQUFHLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDL0YsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQ3JDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBN0RjLFdBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo ScatterChart\n * @class google.visualization.ScatterChart\n * @tutorial google_visualization_ScatterChart\n * @memberof google.visualization\n */\nexport class ScatterChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        ScatterChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-circle';\n    }\n    get label() {\n        return 'ScatterChart';\n    }\n    get subtext() {\n        return 'ScatterChart';\n    }\n    get classFullName() {\n        return 'google.visualization.ScatterChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_ScatterChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf ScatterChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!ScatterChart._isInit) {\n                ScatterChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.ScatterChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nScatterChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NhdHRlckNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL1NjYXR0ZXJDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFlBQWEsU0FBUSxLQUFLO0lBR25DO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFlBQVksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQy9CLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLGNBQWMsQ0FBQTtJQUN6QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxjQUFjLENBQUE7SUFDekIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyxtQ0FBbUMsQ0FBQTtJQUM5QyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxpREFBaUQsQ0FBQTtJQUM1RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsWUFBWSxDQUFDLE9BQU8sRUFBRTtnQkFDeEIsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ3RCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3JHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUN2QztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBRUQsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWxGYyxvQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo SteppedAreaChart\n * @class google.visualization.SteppedAreaChart\n * @tutorial google_visualization_SteppedAreaChart\n * @memberof google.visualization\n */\nexport class SteppedAreaChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        SteppedAreaChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'SteppedAreaChart';\n    }\n    get subtext() {\n        return 'SteppedAreaChart';\n    }\n    get classFullName() {\n        return 'google.visualization.SteppedAreaChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_SteppedAreaChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!SteppedAreaChart._isInit) {\n                SteppedAreaChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let steppedAreaChart = new google.visualization.SteppedAreaChart(document.getElementById(currentChart.container.id));\n                    steppedAreaChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nSteppedAreaChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RlcHBlZEFyZWFDaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9TdGVwcGVkQXJlYUNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsS0FBSztJQUd2QztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUMxRCxnQkFBZ0IsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ25DLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyx1Q0FBdUMsQ0FBQTtJQUNsRCxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxxREFBcUQsQ0FBQTtJQUNoRSxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO2dCQUM1QixnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUMxQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLGdCQUFnQixHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDcEgsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDbEQ7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsd0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Table\n * @class google.visualization.Table\n * @tutorial google_visualization_Table\n * @memberof google.visualization\n */\nexport class Table extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['table'] });\n        Table._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-table';\n    }\n    get label() {\n        return 'Table';\n    }\n    get subtext() {\n        return 'Table';\n    }\n    get classFullName() {\n        return 'google.visualization.Table';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Table.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = '100%';\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                raw: true,\n                showRowNumber: false\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Table._isInit) {\n                Table.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result, opt.raw);\n                    let table = new google.visualization.Table(document.getElementById(currentChart.container.id));\n                    table.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTable._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vVGFibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxLQUFNLFNBQVEsS0FBSztJQUc1QjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUN0RCxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sT0FBTyxDQUFBO0lBQ2xCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLE9BQU8sQ0FBQTtJQUNsQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sNEJBQTRCLENBQUE7SUFDdkMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sMENBQTBDLENBQUE7SUFDckQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQTtZQUNuQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEdBQUcsRUFBRSxJQUFJO2dCQUNULGFBQWEsRUFBRSxLQUFLO2FBQ3ZCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7Z0JBQ2pCLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNmO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtvQkFDbkMsSUFBSSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDOUYsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQ3ZDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBbEZjLGFBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Timeline\n * @class google.visualization.Timeline\n * @tutorial google_visualization_Timeline\n * @memberof google.visualization\n */\nexport class Timeline extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['timeline'] });\n        Timeline._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-tasks';\n    }\n    get label() {\n        return 'Timeline';\n    }\n    get subtext() {\n        return 'Timeline';\n    }\n    get classFullName() {\n        return 'google.visualization.Timeline';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Timeline.html';\n    }\n    /**\n     * Make a standard simple html Timeline.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Timeline\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Timeline._isInit) {\n                Timeline.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let timeline = new google.visualization.Timeline(document.getElementById(currentChart.container.id));\n                    timeline.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTimeline._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGltZWxpbmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vVGltZWxpbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxRQUFTLFNBQVEsS0FBSztJQUcvQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUN6RCxRQUFRLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUMzQixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sK0JBQStCLENBQUE7SUFDMUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3BCLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNsQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNwRyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDMUM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsZ0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo TreeMap\n * @class google.visualization.TreeMap\n * @tutorial google_visualization_TreeMap\n * @memberof google.visualization\n */\nexport class TreeMap extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['treemap'] });\n        TreeMap._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'TreeMap';\n    }\n    get subtext() {\n        return 'TreeMap';\n    }\n    get classFullName() {\n        return 'google.visualization.TreeMap';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_TreeMap.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!TreeMap._isInit) {\n                TreeMap.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let treeMap = new google.visualization.TreeMap(document.getElementById(currentChart.container.id));\n                    treeMap.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTreeMap._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHJlZU1hcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9UcmVlTWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sT0FBUSxTQUFRLEtBQUs7SUFHOUI7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDeEQsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDMUIsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sbUJBQW1CLENBQUE7SUFDOUIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sU0FBUyxDQUFBO0lBQ3BCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLFNBQVMsQ0FBQTtJQUNwQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sOEJBQThCLENBQUE7SUFDekMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNENBQTRDLENBQUE7SUFDdkQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ25CLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNqQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLE9BQU8sR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNsRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDekM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsZUFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Trendline\n * @class google.visualization.Trendline\n * @tutorial google_visualization_Trendline\n * @memberof google.visualization\n */\nexport class Trendline extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        Trendline._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'Trendline';\n    }\n    get subtext() {\n        return 'Trendline';\n    }\n    get classFullName() {\n        return 'google.visualization.Trendline';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Trendline.html';\n    }\n    /**\n     * Make a standard simple html Trendline.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Trendline\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                trendlines: { 0: {} }\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Trendline._isInit) {\n                Trendline.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.ScatterChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTrendline._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHJlbmRsaW5lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL1RyZW5kbGluZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFNBQVUsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLEVBQUUsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQzNELFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLGdDQUFnQyxDQUFBO0lBQzNDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLDhDQUE4QyxDQUFBO0lBQ3pELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO2FBQ3hCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFNBQVMsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3JCLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNuQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNyRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDdkM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsaUJBQU8sR0FBWSxLQUFLLENBQUEifQ==","/**\n * @namespace google\n */\nimport * as visualizationNS from './google/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './google/Data';\nexport * from './google/Tools';\nexport * from './google/API';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vZ2xlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dvb2dsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE9BQU8sS0FBSyxlQUFlLE1BQU0sd0JBQXdCLENBQUE7QUFDekQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLGVBQWUsQ0FBQTtBQUU1QyxRQUFRO0FBQ1IsY0FBYyxlQUFlLENBQUE7QUFDN0IsY0FBYyxnQkFBZ0IsQ0FBQTtBQUM5QixjQUFjLGNBQWMsQ0FBQSJ9","/**\n * @namespace d3\n */\nimport * as visualizationNS from './d3/visualization';\nexport const visualization = visualizationNS;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZDMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLG9CQUFvQixDQUFBO0FBQ3JELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUEifQ==","import { Chart, Core } from '../../sgvizler';\n/**\n * Todo AreaChart\n * @class d3.visualization.AreaChart\n * @tutorial d3_visualization_AreaChart\n * @memberof d3.visualization\n */\nexport class AreaChart extends Chart {\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'AreaChart';\n    }\n    get subtext() {\n        return 'AreaChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.AreaChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_AreaChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + '/lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple line.\n     * Available options:\n     * -\n     * @memberOf AreaChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            console.log('test');\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            /*let cols = result.head.vars\n            let rows = result.results.bindings\n            let noCols = cols.length\n            let noRows = rows.length\n            let dataset: Array<any> = []\n            let label\n            let count\n            let data = [{\n                date: '1-May-12',\n                close: 58.1\n            }]\n            for (let row of rows) {\n                label = row[cols[0]].value\n                count = Number(row[cols[1]].value)\n                if ( label === undefined || count === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + count)\n                } else {\n                    dataset.push({ label: label , count: count })\n                }\n            }\n\n            console.log(data)\n            let margin = {\n                top: 30,\n                right: 20 * 3,\n                bottom: 30,\n                left: 50\n            }\n            let width = 800 - margin.left - margin.right\n            let height = 570 - margin.top - margin.bottom\n            let parseDate = d3.time.format('%d-%b-%y').parse\n            // x axis\n            let x = d3.scalePoint().range([0, width])\n            let xAxis = d3.axisBottom().scale(x).ticks(15)\n            // y axis\n            let y = d3.scaleLinear().range([height, 0])\n            let yAxis = d3.axisRight().scale(y).ticks(17)\n\n            let valueline = d3.line()\n                .x(function (d: any) {\n                  return x(d.date)\n                })\n                .y(function (d: any) {\n                  return y(d.close)\n                })\n            let svg = d3.select( '#' + currentChart.container.id)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n// get data\n\ndata.forEach(function (d: any) {\n    d.date = parseDate(d.date)\n    d.close = +d.close\n})\n            svg.append('path') // Add the valueline path.\n            // .attr('fill', 'none')\n           // .attr('stroke', 'steelblue')\n           // .attr('stroke-linejoin', 'round')\n           // .attr('stroke-linecap', 'round')\n           // .attr('stroke-width', 1.5)\n          //  .attr('d', valueline(dataset))\n           .attr('d', valueline(data))\n            svg.append('g') // Add the X Axis\n            .attr('class', 'x axis')\n                .attr('transform', 'translate(0,' + height + ')')\n                .call(xAxis)\n            svg.append('g') // Add the Y Axis\n                .attr('class', 'y axis')\n                .call(yAxis)*/\n            // finish\n            // Example\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let margin = { top: 20, right: 20, bottom: 30, left: 40 };\n                let widthChart = width - (margin.left + margin.right);\n                let heightChart = height - (margin.top + margin.bottom);\n                let xScale = d3.scaleLinear();\n                let yScale = d3.scaleLinear();\n                let xAxisCall = d3.axisBottom();\n                let yAxisCall = d3.axisLeft();\n                xScale.domain([0, 100]).range([0, widthChart]);\n                yScale.domain([0, 100]).range([heightChart, 0]);\n                xAxisCall.scale(xScale);\n                yAxisCall.scale(yScale);\n                let newX = svg.append('g')\n                    // .attr('class', 'x axis')\n                    .attr('transform', 'translate(' + [margin.left, heightChart + margin.top] + ')')\n                    .call(xAxisCall);\n                let newY = svg.append('g')\n                    // .attr('class', 'y axis')\n                    .attr('transform', 'translate(' + [margin.left, margin.top] + ')')\n                    .call(yAxisCall);\n            }\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXJlYUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vQXJlYUNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBR0wsSUFBSSxFQUNQLE1BQU0sZ0JBQWdCLENBQUE7QUFJdkI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sU0FBVSxTQUFRLEtBQUs7SUFFaEMsSUFBVyxJQUFJO1FBQ1gsT0FBTyxtQkFBbUIsQ0FBQTtJQUM5QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyw0QkFBNEIsQ0FBQTtJQUN2QyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTywwQ0FBMEMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLDJDQUEyQztRQUMzQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsbUJBQW1CLENBQUMsQ0FBQTtJQUM3RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNuQixJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUE7WUFDdEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsU0FBUyxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUE7YUFDbEM7WUFFRCxJ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","/** Work in progress, help us ! */\nimport { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo BarChart\n * @class d3.visualization.BarChart\n * @tutorial d3_visualization_BarChart\n * @memberof d3.visualization\n */\nexport class BarChart extends Chart {\n    get icon() {\n        return 'far fa-chart-bar';\n    }\n    get label() {\n        return 'BarChart';\n    }\n    get subtext() {\n        return 'BarChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.BarChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_BarChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + '/lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf BarChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            // console.log(data)\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let radius = Math.min(width, height) / 2;\n                svg = svg.append('g') // make a group to hold our pie chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n                // var donutWidth = 75;\n                /*let legendRectSize = 18\n                let legendSpacing = 4\n                let color = d3.scaleOrdinal(d3.schemeCategory10)*/\n                /*let arc = d3.arc()\n                   // .innerRadius(radius - donutWidth)\n                    .innerRadius(0)\n                    .outerRadius(radius)\n                let pie = d3.pie()\n                    .value(function (d: any) { return d.count })\n                    .sort(null)*/\n                /*let path = svg.selectAll('path')\n                    .data(pie(dataset)\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d: any, i: any) {\n                        return color(d.data.label)\n                    })*/\n                let bars = svg.selectAll('rect')\n                    .data(dataset)\n                    .enter()\n                    .append('rect')\n                    .attr('width', function (i) { return i.count / 10000; })\n                    .attr('height', 50)\n                    .attr('y', function (i, j) { return j * 50; })\n                    .attr('fill', '#3399FF');\n                console.log('dataset : ' + dataset);\n                // Todo limit nb (look pie chart of Google)\n                /*let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d: any, i: any) {\n                        let height = legendRectSize + legendSpacing\n                        let offset = height * color.domain().length / 2\n                        let horz = -2 * legendRectSize\n                        let vert = i * height - offset\n                        return 'translate(' + (horz + radius * 2 + 20 ) + ',' + vert + ')'\n                    })\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color)\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d: any) { return d })*/\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFyQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZDMvdmlzdWFsaXphdGlvbi9CYXJDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQ0FBa0M7QUFFbEMsT0FBTyxFQUNILEtBQUssRUFFTCxNQUFNLEVBQ04sSUFBSSxFQUNQLE1BQU0sZ0JBQWdCLENBQUE7QUFJdkI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sUUFBUyxTQUFRLEtBQUs7SUFFL0IsSUFBVyxJQUFJO1FBQ1gsT0FBTyxrQkFBa0IsQ0FBQTtJQUM3QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywyQkFBMkIsQ0FBQTtJQUN0QyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyx5Q0FBeUMsQ0FBQTtJQUNwRCxDQUFDO0lBRUQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLDJDQUEyQztRQUMzQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsbUJBQW1CLENBQUMsQ0FBQTtJQUM3RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFBO1lBQ3RCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFBO2FBQ2xDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxD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","import { Chart, Core } from '../../sgvizler';\n/**\n * Todo BubbleChart\n * @class d3.visualization.BubbleChart\n * @tutorial d3_visualization_BubbleChart\n * @memberof d3.visualization\n */\nexport class BubbleChart extends Chart {\n    get icon() {\n        return 'fas fa-chart-pie';\n    }\n    get label() {\n        return 'BubbleChart';\n    }\n    get subtext() {\n        return 'BubbleChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.BubbleChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_BubbleChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + '/lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            /*let dataset: Array<any> = []\n            let label\n            let counter\n            for (let row of rows) {\n                label = row[cols[0]].value\n                counter = Number(row[cols[1]].value)\n                if ( label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter)\n                } else {\n                    dataset.push({ label: label , count: counter })\n                }\n            }*/\n            // console.log(data)\n            // Example\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let margin = { top: 20, right: 20, bottom: 30, left: 40 };\n                let widthChart = width - (margin.left + margin.right);\n                let heightChart = height - (margin.top + margin.bottom);\n                let xScale = d3.scaleLinear();\n                let yScale = d3.scaleLinear();\n                let xAxisCall = d3.axisBottom();\n                let yAxisCall = d3.axisLeft();\n                xScale.domain([0, 100]).range([0, widthChart]);\n                yScale.domain([0, 100]).range([heightChart, 0]);\n                xAxisCall.scale(xScale);\n                yAxisCall.scale(yScale);\n                let newX = svg.append('g')\n                    // .attr('class', 'x axis')\n                    .attr('transform', 'translate(' + [margin.left, heightChart + margin.top] + ')')\n                    .call(xAxisCall);\n                let newY = svg.append('g')\n                    // .attr('class', 'y axis')\n                    .attr('transform', 'translate(' + [margin.left, margin.top] + ')')\n                    .call(yAxisCall);\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnViYmxlQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZDMvdmlzdWFsaXphdGlvbi9CdWJibGVDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUdMLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFdBQVksU0FBUSxLQUFLO0lBRTlCLElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sOEJBQThCLENBQUE7SUFDekMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNENBQTRDLENBQUE7SUFDdkQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCwyQ0FBMkM7UUFDM0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLG1CQUFtQixDQUFDLENBQUE7SUFDN0QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUE7WUFDdEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsU0FBUyxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUE7YUFDbEM7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixhQUFhLEVBQUUsS0FBSztnQkFDcEIs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","import { Chart, Core } from '../../sgvizler';\n/**\n * Todo ColumnChart\n * @class d3.visualization.ColumnChart\n * @tutorial d3_visualization_ColumnChart\n * @memberof d3.visualization\n */\nexport class ColumnChart extends Chart {\n    get icon() {\n        return 'far fa-chart-bar';\n    }\n    get label() {\n        return 'ColumnChart';\n    }\n    get subtext() {\n        return 'ColumnChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.ColumnChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_ColumnChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + '/lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple ColumnChart.\n     * Available options:\n     * -\n     * @memberOf ColumnChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            /*\n                        // build the datatable\n                        let cols = result.head.vars\n                        let rows = result.results.bindings\n                        let noCols = cols.length\n                        let noRows = rows.length\n                        let dataset: Array<any> = []\n                        let label\n                        let counter\n                        for (let row of rows) {\n                            label = row[cols[0]].value\n                            counter = Number(row[cols[1]].value)\n                            if ( label === undefined || counter === undefined) {\n                                Logger.logSimple('Erreur ? D3JS:ColumnChart label ' + label + ' count ' + counter)\n                            }else {\n                                dataset.push({ label: label , count: counter })\n                            }\n                        }\n            \n                        // console.log(data)\n                        let containerElement = d3.select('#' + currentChart.container.id)\n                        let containerElementNode = containerElement.node() as any\n                        if (containerElementNode) {\n                            let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300\n                            let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150\n                            let svg = containerElement.append('svg') // associate our data with the document\n                                .attr('width', width)\n                                .attr('height', height)\n                                .attr('id', 'idtest')\n            \n                            let radius = Math.min(width, height) / 2\n            \n                            svg = svg.append('g') // make a group to hold our ColumnChart chart\n                                .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\n            \n                            // var donutWidth = 75;\n                            let legendRectSize = 18\n                            let legendSpacing = 4\n                            let color = d3.scaleOrdinal(d3.schemeCategory10)\n            \n                            let arc = d3.arc()\n                               // .innerRadius(radius - donutWidth)\n                                .innerRadius(0)\n                                .outerRadius(radius)\n                            let ColumnChart = d3.ColumnChart()\n                                .value(function (d: any) { return d.count })\n                                .sort(null)\n                            let path = svg.selectAll('path')\n                                .data(ColumnChart(dataset))\n                                .enter()\n                                .append('path')\n                                .attr('d', arc)\n                                .attr('fill', function (d: any, i: any) {\n                                    return color(d.data.label)\n                                })\n            \n                            // Todo limit nb (look ColumnChart chart of Google)\n                            let legend = svg.selectAll('.legend')\n                                .data(color.domain())\n                                .enter()\n                                .append('g')\n                                .attr('class', 'legend')\n                                .attr('transform', function (d: any, i: any) {\n                                    let height = legendRectSize + legendSpacing\n                                    let offset = height * color.domain().length / 2\n                                    let horz = -2 * legendRectSize\n                                    let vert = i * height - offset\n                                    return 'translate(' + (horz + radius * 2 + 20 ) + ',' + vert + ')'\n                                })\n                            legend.append('rect')\n                                .attr('width', legendRectSize)\n                                .attr('height', legendRectSize)\n                                .style('fill', color)\n                                .style('stroke', color)\n                            legend.append('text')\n                                .attr('x', legendRectSize + legendSpacing)\n                                .attr('y', legendRectSize - legendSpacing)\n                                .text(function (d: any) { return d })\n                        }\n                        */\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sdW1uQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZDMvdmlzdWFsaXphdGlvbi9Db2x1bW5DaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUdMLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFdBQVksU0FBUSxLQUFLO0lBRWxDLElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sOEJBQThCLENBQUE7SUFDekMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNENBQTRDLENBQUE7SUFDdkQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCwyQ0FBMkM7UUFDM0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLG1CQUFtQixDQUFDLENBQUE7SUFDN0QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQTtZQUN0QixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTthQUNsQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGFBQWEsRUFBRSxLQUFLO2dCQUNwQixLQUFLLEVBQUUsWUFBWSxDQUFDLEtBQUs7Z0JBQ3pCLE1BQU0sRUFBRSxTQUFTO2FBQ3BCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQ3BDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQStFYztZQUNGLFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUVKIn0=","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo Line\n * @class d3.visualization.Line\n * @tutorial d3_visualization_Line\n * @memberof d3.visualization\n */\nexport class Line extends Chart {\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'Line';\n    }\n    get subtext() {\n        return 'Line';\n    }\n    get classFullName() {\n        return 'd3.visualization.Line';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_Line.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + '/lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple line.\n     * Available options:\n     * -\n     * @memberOf Line\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            //console.log('test')\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: true,\n                width: currentChart.width,\n                height: heightOpt\n                // hAxisscaleType: true\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let count;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                count = Number(row[cols[1]].value);\n                if (label === undefined || count === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + count);\n                }\n                else {\n                    dataset.push({ label: label, count: count });\n                }\n            }\n            console.log(dataset);\n            let margin = {\n                top: 30,\n                right: 20 * 3,\n                bottom: 30,\n                left: 70\n            };\n            let width = 800 - margin.left - margin.right;\n            let height = 570 - margin.top - margin.bottom;\n            // x axis\n            let x = d3.scalePoint()\n                .domain(dataset.map(function (entry) {\n                return entry.label;\n            }))\n                .rangeRound([0, 800])\n                .padding(0.5);\n            let xAxis = d3.axisBottom().scale(x).ticks(15);\n            // y axis\n            let y = d3.scaleLinear().range([height, 0]);\n            y.domain([0, d3.max(dataset, function (d) {\n                    return d.count;\n                })]);\n            let yAxis = d3.axisLeft().scale(y).ticks(17);\n            let valueline = d3.line()\n                .x(function (d) {\n                return x(d.label);\n            })\n                .y(function (d) {\n                return y(d.count);\n            });\n            let svg = d3.select('#' + currentChart.container.id)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            svg.append('path') // Add the valueline path.\n                .attr('fill', 'none')\n                .attr('stroke', 'steelblue')\n                .attr('stroke-linejoin', 'round')\n                .attr('stroke-linecap', 'round')\n                .attr('stroke-width', 1.5)\n                .attr('d', valueline(dataset));\n            svg.append('g') // Add the X Axis\n                .attr('class', 'x axis')\n                .attr('transform', 'translate(0,' + height + ')')\n                .call(xAxis);\n            svg.append('g') // Add the Y Axis\n                .attr('class', 'y axis')\n                .call(yAxis);\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGluZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9kMy92aXN1YWxpemF0aW9uL0xpbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxNQUFNLEVBQ04sSUFBSSxFQUNQLE1BQU0sZ0JBQWdCLENBQUE7QUFJdkI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sSUFBSyxTQUFRLEtBQUs7SUFFM0IsSUFBVyxJQUFJO1FBQ1gsT0FBTyxtQkFBbUIsQ0FBQTtJQUM5QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxNQUFNLENBQUE7SUFDakIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sTUFBTSxDQUFBO0lBQ2pCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyx1QkFBdUIsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxxQ0FBcUMsQ0FBQTtJQUNoRCxDQUFDO0lBRUQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLDJDQUEyQztRQUMzQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsbUJBQW1CLENBQUMsQ0FBQTtJQUM3RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFDdkMscUJBQXFCO1lBQ3JCLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQTtZQUN0QixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTthQUNsQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFN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","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo Pie\n * @class d3.visualization.Pie\n * @tutorial d3_visualization_Pie\n * @memberof d3.visualization\n */\nexport class Pie extends Chart {\n    get icon() {\n        return 'fas fa-chart-pie';\n    }\n    get label() {\n        return 'Pie';\n    }\n    get subtext() {\n        return 'Pie';\n    }\n    get classFullName() {\n        return 'd3.visualization.Pie';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_Pie.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + '/lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            // console.log(data)\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let radius = Math.min(width, height) / 2;\n                svg = svg.append('g') // make a group to hold our pie chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n                // var donutWidth = 75;\n                let legendRectSize = 18;\n                let legendSpacing = 4;\n                let color = d3.scaleOrdinal(d3.schemeCategory10);\n                let arc = d3.arc()\n                    // .innerRadius(radius - donutWidth)\n                    .innerRadius(0)\n                    .outerRadius(radius);\n                let pie = d3.pie()\n                    .value(function (d) { return d.count; })\n                    .sort(null);\n                let path = svg.selectAll('path')\n                    .data(pie(dataset))\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d, i) {\n                    return color(d.data.label);\n                });\n                // Todo limit nb (look pie chart of Google)\n                let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d, i) {\n                    let height = legendRectSize + legendSpacing;\n                    let offset = height * color.domain().length / 2;\n                    let horz = -2 * legendRectSize;\n                    let vert = i * height - offset;\n                    return 'translate(' + (horz + radius * 2 + 20) + ',' + vert + ')';\n                });\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color);\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d) { return d; });\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGllLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vUGllLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBRUwsTUFBTSxFQUNOLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLEdBQUksU0FBUSxLQUFLO0lBRTFCLElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sc0JBQXNCLENBQUE7SUFDakMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sb0NBQW9DLENBQUE7SUFDL0MsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCwyQ0FBMkM7UUFDM0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLG1CQUFtQixDQUFDLENBQUE7SUFDN0QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUd4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQTtZQUN0QixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTthQUNsQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGFB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","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo ScatterChart\n * @class d3.visualization.ScatterChart\n * @tutorial d3_visualization_ScatterChart\n * @memberof d3.visualization\n */\nexport class ScatterChart extends Chart {\n    get icon() {\n        return 'fa fa-ScatterChart-chart';\n    }\n    get label() {\n        return 'ScatterChart';\n    }\n    get subtext() {\n        return 'ScatterChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.ScatterChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_ScatterChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + '/lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple ScatterChart.\n     * Available options:\n     * -\n     * @memberOf ScatterChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '500';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.lets;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:ScatterChart label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            console.log(dataset);\n            // let containerElement = d3.select('#' + currentChart.container.id)\n            //  let containerElementNode = containerElement.node() as any\n            /*if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest')\n\n                let radius = Math.min(width, height) / 2\n\n                svg = svg.append('g') // make a group to hold our ScatterChart chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\n\n                // let donutWidth = 75;\n                let legendRectSize = 18\n                let legendSpacing = 4\n                let color = d3.scaleOrdinal(d3.schemeCategory10)\n\n                let arc = d3.arc()\n                   // .innerRadius(radius - donutWidth)\n                    .innerRadius(0)\n                    .outerRadius(radius)\n                let ScatterChart = d3.ScatterChart()\n                    .value(function (d: any) { return d.count })\n                    .sort(null)\n                let path = svg.selectAll('path')\n                    .data(ScatterChart(dataset))\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d: any, i: any) {\n                        return color(d.data.label)\n                    })\n\n                // Todo limit nb (look ScatterChart chart of Google)\n                let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d: any, i: any) {\n                        let height = legendRectSize + legendSpacing\n                        let offset = height * color.domain().length / 2\n                        let horz = -2 * legendRectSize\n                        let vert = i * height - offset\n                        return 'translate(' + (horz + radius * 2 + 20 ) + ',' + vert + ')'\n                    })\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color)\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d: any) { return d })*/\n            /*\n                                let width = 500\n                                let height = 300\n                                let padding = 30\n                                let numDataPoints = 50\n                                let xRange = Math.random() * 1000\n                                let yRange = Math.random() * 1000\n                            for (let i = 0; i < numDataPoints; i++) {\n                              let newNumber1 = Math.floor(Math.random() * xRange)\n                              let newNumber2 = Math.floor(Math.random() * yRange)\n                               dataset.push([newNumber1, newNumber2])\n                            }\n                            // Create scale functions\n                            let xScale = d3.scale.linear()\n                                           .domain([0, d3.max(dataset, function (d: any) {\n                                             return d[0]\n                                           }) ])\n                                           .range([padding, width - padding * 2])\n                            let yScale = d3.scale.linear()\n                                           .domain([0, d3.max(dataset, function (d: any) {\n                                             return d[1]\n                                           })])\n                                           .range([height - padding, padding])\n                            let rScale = d3.scale.linear()\n                                           .domain([0, d3.max(dataset, function (d: any) {\n                                             return d[1]\n                                           })])\n                                                        .range([2, 5])\n                            let formatAsPercentage = d3.tickFormat('.1%')\n                           // Define X axis\n                            let xAxis = d3.svg.axis()\n                                          .scale(xScale)\n                                          .orient('bottom')\n                                          .ticks(5)\n                                          .tickFormat(formatAsPercentage)\n                            // Define Y axis\n                            let yAxis = d3.svg.axis()\n                                          .scale(yScale)\n                                            .orient('left')\n                                            .ticks(5)\n                                            .tickFormat(formatAsPercentage)\n                            // Create SVG element\n                            let svg = d3.select('#' + currentChart.container.id)\n                                                    .append('svg')\n                                                    .attr('width', width)\n                                                    .attr('height', height)\n                                                    .append('g')\n                            // Create circles\n                            svg.selectAll('circle')\n                                 .data(dataset)\n                               .enter()\n                                 .append('circle')\n                                 .attr('cx', function (d: any) {\n                                   return xScale(d[0])\n                                 })\n                                 .attr('cy', function (d: any) {\n                                   return yScale(d[1])\n                                 })\n                                 .attr('r', function (d: any) {\n                                   return rScale(d[1])\n                                 })\n                            // Create labels\n                            svg.selectAll('text')\n                               .data(dataset)\n                               .enter()\n                               .append('text')\n                               .text(function (d: any) {\n                                       return d[0] + ',' + d[1]\n                               })\n                               .attr('x', function (d: any) {\n                                       return xScale(d[0])\n                               })\n                               .attr('y', function (d: any) {\n                                       return yScale(d[1])\n                               })\n                               .attr('font-family', 'sans-serif')\n                               .attr('font-size', '11px')\n                               .attr('fill', 'red')\n                            // Create X axis\n                            svg.append('g')\n                               .attr('class', 'axis')\n                               .attr('transform', 'translate(0,' + (height - padding) + ')')\n                               .call(xAxis)\n                            // Create Y axis\n                            svg.append('g')\n                               .attr('class', 'axis')\n                               .attr('transform', 'translate(' + padding + ',0)')\n                               .call(yAxis)\n                               */\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NhdHRlckNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vU2NhdHRlckNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBRUwsTUFBTSxFQUNOLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFlBQWEsU0FBUSxLQUFLO0lBRW5DLElBQVcsSUFBSTtRQUNYLE9BQU8sMEJBQTBCLENBQUE7SUFDckMsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGNBQWMsQ0FBQTtJQUN6QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sK0JBQStCLENBQUE7SUFDMUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCwyQ0FBMkM7UUFDM0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLG1CQUFtQixDQUFDLENBQUE7SUFDN0QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQTtZQUNyQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTthQUNsQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGFBQWEsRUFBRSxLQUFLO2dCQUNwQixLQUFLLEVBQUUsWUFBWSxDQUFDLEtBQUs7Z0JBQ3pCLE1BQU0sRUFBRSxTQUFTO2FBQ3BCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLHNCQUFzQjtZQUN0QixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtZQUMzQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQTtZQUNsQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1lBQ3hCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7WUFDeEIsSUFBSSxPQUFPLEdBQWUsRUFBRSxDQUFBO1lBQzVCLElBQUksS0FBSyxDQUFBO1lBQ1QsSUFBSSxPQUFPLENBQUE7WUFDWCxLQUFLLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtnQkFDbEIsS0FBSyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUE7Z0JBQzFCLE9BQU8sR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBO2dCQUNwQyxJQUFLLEtBQUssS0FBSyxTQUFTLElBQUksT0FBTyxLQUFLLFNBQVMsRUFBRTtvQkFDL0MsTUFBTSxDQUFDLFNBQVMsQ0FBQyxtQ0FBbUMsR0FBRyxLQUFLLEdBQUcsU0FBUyxHQUFHLE9BQU8sQ0FBQyxDQUFBO2lCQUN0RjtxQkFBTTtvQkFDSCxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRyxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQTtpQkFDbEQ7YUFDSjtZQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDcEIsb0VBQW9FO1lBQ3RFLDZEQUE2RDtZQUMzRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsyREF1RCtDO1lBQzNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2lDQXdGcUI7WUFDVCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7Q0FFSiJ9","/**\n * Todo API\n * @class leaflet.API\n * @memberof google\n */\nexport class API {\n    static get osmAccessToken() {\n        return this._osmAccessToken;\n    }\n    static set osmAccessToken(value) {\n        this._osmAccessToken = value;\n    }\n}\n/**\n * todo\n * @type {string}\n * @private\n */\nAPI._osmAccessToken = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVBJLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xlYWZsZXQvQVBJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNLE9BQU8sR0FBRztJQUNaLE1BQU0sS0FBSyxjQUFjO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsTUFBTSxLQUFLLGNBQWMsQ0FBRSxLQUFhO1FBQ3BDLElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFBO0lBQ2hDLENBQUM7O0FBRUQ7Ozs7R0FJRztBQUNZLG1CQUFlLEdBQVcsRUFBRSxDQUFBIn0=","/**\n * @namespace leaflet\n */\nimport * as visualizationNS from './leaflet/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './leaflet/API';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVhZmxldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sZWFmbGV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBQ0gsT0FBTyxLQUFLLGVBQWUsTUFBTSx5QkFBeUIsQ0FBQTtBQUMxRCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsZUFBZSxDQUFBO0FBRTVDLFFBQVE7QUFDUixjQUFjLGVBQWUsQ0FBQSJ9","import { Chart, Core } from '../../sgvizler';\nimport { API } from '../API';\n/**\n * Todo Table\n * @class leaflet.visualization.Map\n * @tutorial leaflet_visualization_Map\n * @memberof leaflet.visualization\n */\nexport class Map extends Chart {\n    get icon() {\n        return 'fa fa-map';\n    }\n    get label() {\n        return 'Map';\n    }\n    get subtext() {\n        return 'Map';\n    }\n    get classFullName() {\n        return 'leaflet.visualization.Map';\n    }\n    get tutorialFilename() {\n        return 'tutorial-leaflet_visualization_Map.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + '/lib/leaflet/leaflet.css');\n        this.addCss(Core.path + '/lib/leaflet/MarkerCluster.Default.css');\n        let dep = this.addScript(Core.path + '/lib/leaflet/leaflet.js');\n        this.addScript(Core.path + '/lib/leaflet/leaflet.markercluster.js', dep);\n    }\n    /**\n     * Make a Google map\n     * todo\n     * @memberOf Map\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let messageError = '';\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let map;\n            let height = '180px';\n            let idChart = currentChart.container.id + '-leaflet';\n            let element = document.getElementById(currentChart.container.id);\n            let markerArray = []; // create new markers array\n            let group;\n            let markers;\n            let marker;\n            let lat;\n            let long;\n            if (currentChart.height !== '') {\n                height = currentChart.height;\n            }\n            let opt = Object.assign({\n                width: currentChart.width,\n                height: height,\n                showTooltip: true,\n                showInfoWindow: true\n            }, currentChart.options);\n            if (element) {\n                element.innerHTML = \"<div id='\" + idChart + \"' style='width: \" + opt.width + '; height: ' + opt.height + \";'></div>\";\n                let osmLayer = new L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n                    attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n                    maxZoom: 18,\n                    id: 'mapbox.streets',\n                    accessToken: API.osmAccessToken\n                });\n                map = L.map(idChart, { zoom: 13, layers: [osmLayer] });\n                // todo insert option\n                markers = L.markerClusterGroup({\n                    chunkedLoading: true,\n                    spiderfyOnMaxZoom: true,\n                    showCoverageOnHover: true,\n                    zoomToBoundsOnClick: true\n                });\n                if (noCols <= 2) {\n                    messageError = 'Parameters : latitude(xsd:Decimal) longitude(xsd:Decimal) title(xsd:string' +\n                        ' optional) introduction(xsd:string optional) link(IRI optional)';\n                }\n                else {\n                    for (let row of rows) {\n                        lat = parseFloat(row[cols[0]].value);\n                        long = parseFloat(row[cols[1]].value);\n                        if (isNaN(lat) || isNaN(long)) {\n                            messageError = 'Latitude or longitude is not a decimal. Parameters of chart :' +\n                                ' latitude(xsd:Decimal)' +\n                                ' longitude(xsd:Decimal) title(xsd:string' +\n                                ' optional) introduction(xsd:string optional) link(IRI optional). ';\n                            break;\n                        }\n                        if (noCols >= 6) {\n                            // latitude longitude title text link\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            let text = row[cols[3]] !== undefined ? \"<p style='margin: 0px'>\" + row[cols[3]].value + '</p>' : '';\n                            let link = row[cols[4]] !== undefined ? \"<a style='font-size: large;font-style: medium;' href='\" + row[cols[4]].value + \"' target='_blank'>\" + title + '</a>' : title;\n                            let img = row[cols[5]] !== undefined ? \"<img src='\" + row[cols[5]].value + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/>\" : '';\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            if (row[cols[3]] === undefined || row[cols[3]].value.length === 0) {\n                                marker.bindPopup('<div style=\"display: flow-root;min-width: 150px;min-height:150px;\">' + link + '<div>' + img + '</div></div>');\n                            }\n                            else {\n                                marker.bindPopup('<div style=\"display: flow-root;min-height:150px;\">' + link + '<div>' + img + text + '</div></div>');\n                            }\n                        }\n                        else if (noCols === 5) {\n                            // latitude longitude title introduction link\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            let text = row[cols[3]] !== undefined ? row[cols[3]].value : '';\n                            let link = row[cols[4]] !== undefined ? \"<a href='\" + row[cols[4]].value + \"'>\" + title + '</a>' : title;\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<b>' + link + '</b><br/>' + text);\n                        }\n                        else if (noCols === 4) {\n                            // latitude longitude title introduction\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            let text = row[cols[3]] !== undefined ? row[cols[3]].value : '';\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<b>' + title + '</b><br/>' + text);\n                        }\n                        else if (noCols === 3) {\n                            // latitude longitude title\n                            let title = row[cols[2]] !== undefined ? row[cols[2]].value : '';\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.bindPopup('<b>' + title + '</br>');\n                        }\n                        else if (noCols === 2) {\n                            // latitude longitude\n                            marker = L.marker([parseFloat(row[cols[0]].value), parseFloat(row[cols[1]].value)]);\n                            marker.addTo(map);\n                        }\n                        markers.addLayer(marker);\n                        markerArray.push(marker);\n                    }\n                }\n                if (messageError !== '') {\n                    return reject(Error(messageError));\n                }\n                if (noRows > 0) {\n                    map.addLayer(markers);\n                    // zoom on the markers\n                    group = L.featureGroup(markerArray);\n                    map.fitBounds(group.getBounds());\n                }\n                else {\n                    map.fitWorld({ reset: true }).zoomIn();\n                }\n                // finish\n                return resolve();\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xlYWZsZXQvdmlzdWFsaXphdGlvbi9NYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxJQUFJLEVBQ1AsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBVzVCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLEdBQUksU0FBUSxLQUFLO0lBRTFCLElBQVcsSUFBSTtRQUNYLE9BQU8sV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxLQUFLLENBQUE7SUFDaEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLDJCQUEyQixDQUFBO0lBQ3RDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLHlDQUF5QyxDQUFBO0lBQ3BELENBQUM7SUFFRDtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLDBCQUEwQixDQUFDLENBQUE7UUFDbkQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLHdDQUF3QyxDQUFDLENBQUE7UUFFakUsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLHlCQUF5QixDQUFDLENBQUE7UUFDL0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLHVDQUF1QyxFQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQzNFLENBQUM7SUFDRDs7Ozs7O09BTUc7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxP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","'use strict';\n// Namespace\nimport * as S from './sgvizler';\nexport const sgvizler = S;\nimport * as bordercloudNS from './bordercloud';\nexport const bordercloud = bordercloudNS;\nimport * as googleNS from './google';\nexport const google = googleNS;\nimport * as d3NS from './d3';\nexport const d3 = d3NS;\nimport * as leafletNS from './leaflet';\nexport const leaflet = leafletNS;\n/**\n * Todo\n * @const\n *\n */\nexport const VERSION = S.Core.VERSION;\n/**\n * Todo\n * @const\n */\nexport const HOMEPAGE = S.Core.HOMEPAGE;\n/**\n * Draws the sgvizler-containers with the given element id.\n *\n */\nexport function containerLoadAll() {\n    S.Container.loadAllDependencies();\n}\nfunction readOptions(options) {\n    if (options) {\n        if (typeof options === 'object') {\n            google.API.key = options.googleApiKey ? options.googleApiKey : '';\n            leaflet.API.osmAccessToken = options.osmAccessToken ? options.osmAccessToken : '';\n            S.Core.path = options.path ? options.path : '';\n        }\n    }\n}\n/**\n * Draws the sgvizler-containers with the given element id.\n * @param {string} elementID\n */\nexport function containerDraw(elementID, options) {\n    // S.Container.loadDependenciesId(elementID)\n    readOptions(options);\n    S.Container.drawWithElementId(elementID);\n}\n/**\n * Todo.\n */\nexport function containerDrawAll(options) {\n    // S.Container.loadAllDependencies()\n    readOptions(options);\n    S.Container.drawAll();\n}\n/**\n * Todo.\n */\nexport function selectDraw(elementID) {\n    // S.Select.loadDependencies()\n    S.Select.drawWithElementId(elementID);\n}\n/**\n * Todo.\n */\nexport function selectDrawAll() {\n    // S.Select.loadDependencies()\n    S.Select.drawAll();\n}\n/**\n * Todo.\n * @param {string} className\n * @param {string} pathDoc\n * @returns {string}\n */\nexport function getChartDoc(className, pathDoc) {\n    return S.Select.getChartDoc(className, pathDoc);\n}\n/**\n * Todo\n * @param {string} elementID\n * @param {string} endpoint\n * @param {string} query\n * @param {string} chartName\n * @param {string} options\n * @param {string} loglevel\n * @returns {string}\n */\nexport function create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter) {\n    return S.Container.create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter);\n}\n// noinspection JSPotentiallyInvalidConstructorUsage\njQuery.fn.extend({\n    selectchart: function (param, option) {\n        let $this = this;\n        let action = 'render';\n        if (param) {\n            if (typeof param === 'string') {\n                action = param;\n            }\n            else if (typeof param === 'object') {\n                action = param.action ? param.action : action;\n            }\n        }\n        // Return the jQuery object for chaining.\n        return $this.each(function (index, obj) {\n            if (index >= 0 && action === 'render') {\n                if (param && typeof param === 'object') {\n                    S.Select.draw(obj, param);\n                }\n                else {\n                    S.Select.draw(obj);\n                }\n            }\n        });\n    },\n    containerchart: function (param, option) {\n        let $this = this;\n        let action = 'render';\n        if (param) {\n            if (typeof param === 'string') {\n                action = param;\n            }\n            else if (typeof param === 'object') {\n                action = param.action ? param.action : action;\n            }\n        }\n        // Return the jQuery object for chaining.\n        return $this.each(function (index, obj) {\n            if (index >= 0 && action === 'render') {\n                if (param && typeof param === 'object') {\n                    S.Container.drawWithElementId($(obj).attr('id'), param);\n                }\n                else {\n                    S.Container.drawWithElementId($(obj).attr('id'));\n                }\n            }\n        });\n    }\n});\nS.Loader.detectRoot();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFBO0FBS1osWUFBWTtBQUNaLE9BQU8sS0FBSyxDQUFDLE1BQU0sWUFBWSxDQUFBO0FBQy9CLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQUE7QUFFekIsT0FBTyxLQUFLLGFBQWEsTUFBTSxlQUFlLENBQUE7QUFDOUMsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQTtBQUV4QyxPQUFPLEtBQUssUUFBUSxNQUFNLFVBQVUsQ0FBQTtBQUNwQyxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFBO0FBRTlCLE9BQU8sS0FBSyxJQUFJLE1BQU0sTUFBTSxDQUFBO0FBQzVCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUE7QUFFdEIsT0FBTyxLQUFLLFNBQVMsTUFBTSxXQUFXLENBQUE7QUFDdEMsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQTtBQUVoQzs7OztHQUlHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0FBRTdDOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQTtBQUUvQzs7O0dBR0c7QUFDSCxNQUFNLFVBQVUsZ0JBQWdCO0lBQzFCLENBQUMsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEVBQUUsQ0FBQTtBQUN2QyxDQUFDO0FBRUQsU0FBUyxXQUFXLENBQUUsT0FBWTtJQUM5QixJQUFJLE9BQU8sRUFBRTtRQUNULElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO1lBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE9BQU8s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"],"names":["CHART_PATTERN_OPTIONS","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Chart","[object Object]","this","options","_tabDependences","_patternOptions","EMPTY","_width","_height","_optionsRaw","_class","_style","_isDone","currentThis","Loader","on","container","isLoadedAllDependencies","_resultSparql","undefined","doDraw","tslib_1.__awaiter","Logger","log","id","loadDependencies","promisesArray","dep","push","load","all","patternOptions","classHtml","style","_container","optionsRaw","doParseOptionsRaw","height","width","html","opts","CLASS","Object","keys","map","property","join","STYLE","url","loadBefore","ScriptDependency","CssDependency","isLoaded","isEmpty","cols","head","vars","rows","results","bindings","noCols","length","displayFeedback","MESSAGES","ERROR_DATA_EMPTY","draw","valeur","error","console","ERROR_CHART","patternOption","typePattern","matchArray","raw","exec","Tools","assignProperty","trim","patternStyle","patternClass","patternWiki","UNKNOWN","indexOf","execPattern","WIKI","VARIABLE","i","ERROR_CHART_PATTERN_OPTION_UNKNOWN","SPARQL_RESULT","CONTAINER_STATE","icon","label","subtext","classFullName","tutorialFilename","super","currentChart","opt","assign","headings","getHTMLStyleOrClass","col","row","obj","document","getElementById","innerHTML","event","fn","_listCallEvent","srcScript","evaluate","XPathResult","STRING_TYPE","stringValue","match","_pathScripts","_load","_loaded","loadScript","loadCss","call","len","_dependenciesToLoad","splice","endDownload","isLoad","logSimple","getElementsByTagName","script","createElement","type","src","getAbsoluteURL","onload","callBack","checkDependenciesToLoad","fireEvent","appendChild","link","rel","href","Dependency","startDownload","SparqlError","xhr","errorWikidata","response","linkError","message","status","statusText","Select","elementID","element","nodesOption","getSelectOptions","node","cloneNode","nodesSnapshot","CLASS_NAME","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength","snapshotItem","pathDoc","chartClass","getObjectByPath","path","Core","DOCPATH","nodeOption","nodeOptgroup","attrLabel","attrValue","attrIcon","attrSub","attrSelected","nodes","classSelected","selected","classOfChartSelectedByDefault","optgroup","charts","createAttribute","setAttributeNode","chart","text","Messages","args","ERROR_CHART_UNKNOWN","ERROR_REQUEST","ERROR_DEPENDENCIES","ERROR_ENDPOINT_FORGOT","ERROR_DATA_NOROW","replace","object","segments","split","cursor","sgvizler2","window","assignJSON","getJSONByPath","str","buf","unshift","charCodeAt","dec","String","fromCharCode","json","propertyName","nextPath","positionDot","search","Number","isNaN","convertToBoolean","JSON","stringify","substring","mergeInObject","parse","input","ref","key","isPlainObject","dest","data","forEach","o","constructor","prototype","loglevel","elapsedTime","messageName","S.Messages","get","Date","now","_startTime","_path","VERSION","HOMEPAGE","SparqlTools","xml","jsonp","Request","_query","_endpoint","_endpointOutputFormat","_method","_queryParameter","listeners","method","query","endpoint","endpointOutputFormat","queryParameter","myRequest","XMLHttpRequest","toLowerCase","encodeURIComponent","getOutputLabel","open","setRequestHeader","getHeaderAccept","onprogress","oEvent","lengthComputable","percentComplete","loaded","total","readyState","DONE","getErrorMessageWithStatus200","onerror","getErrorWithOtherStatus","send","Container","_chartOptions","_chartName","_loglevel","_id","Error","self","_state","LOADING","elmAttrs","attributes","LOG_LEVEL_ATTRIBUTE_NAME","parseInt","CHART_ATTRIBUTE_NAME","warn","CHART_OPTION_ATTRIBUTE_NAME","decodeHtml","request","QUERY_ATTRIBUTE_NAME","ENDPOINT_ATTRIBUTE_NAME","FAILED","OUTPUT_FORMAT_ATTRIBUTE_NAME","convertString","OUTPUT_METHOD_ATTRIBUTE_NAME","QUERY_PARAMETER_ATTRIBUTE_NAME","_request","chartName","$","widthCss","css","heightCss","_chart","ids","iterator","PREFIX","ANY_TYPE","thisNode","iterateNext","drawWithElementId","loadDependenciesId","output","parameter","attrQuery","attrEndpoint","attrChart","attrOptions","attrLevel","attrOutput","attrMethod","attrQueryAttribut","chartOptions","sparqlResult","sendRequest","sparqlResultI","loadDependenciesAndDraw","visualization","visualizationNS","DATATABLE_COL_OPTIONS","DataTable","addCss","addScript","codeStyle","m","datasetColumnsFunc","optionCol","regex","datasetColumnsDefs","colOptions","c","TAG","index","lastIndex","getFunctionColumnDefImg","getFunctionColumnDefSpan","getFunctionColumnDefVideo","getFunctionColumnDefDefault","targets","render","full","meta","youtubePattern","RegExp","facebookPattern","mediawikiPattern","test","datasetRow","noRows","idChart","datasetColumns","dataset","tableElement","tableId","tableClass","tableCellSpacing","tableWidth","class","cellspacing","colstyle","title","buildColumnDefs","r","bSort","columns","columnDefs","dom","buttons","patternPercent","patternPixel","Data","convertResultRaw","convertResult","role","_dataTable","setColumnProperty","google","colName","datatype","addColumn","addRows","x","y","hasOwnProperty","setCell","parseFloat","time","getHours","getSeconds","getMilliseconds","toString","AnnotationChart","packages","_isInit","decodeFormatSize","init","setOnLoadCallback","getDataTable","AreaChart","BarChart","BubbleChart","Calendar","CandlestickChart","ColumnChart","reverseCategories","ComboChart","API","_key","GeoChart","mapsApiKey","Histogram","IntervalChart","setRole","LineChart","Map","showTooltip","showInfoWindow","enableScrollWheel","location","origin","startsWith","icons","default","normal","lat","long","description","messageError","latitudeCol","longitudeCol","descriptionCol","img","OrgChart","allowHtml","Pie","PieChart","ScatterChart","SteppedAreaChart","Table","showRowNumber","Timeline","TreeMap","Trendline","trendlines","0","heightOpt","containerElement","d3","select","containerElementNode","clientWidth","clientHeight","svg","append","attr","margin","top","right","bottom","left","widthChart","heightChart","xScale","scaleLinear","yScale","xAxisCall","axisBottom","yAxisCall","axisLeft","domain","range","scale","counter","count","selectAll","enter","j","scalePoint","entry","rangeRound","padding","xAxis","ticks","max","d","yAxis","valueline","line","radius","Math","min","legendRectSize","legendSpacing","color","scaleOrdinal","schemeCategory10","arc","innerRadius","outerRadius","pie","sort","legend","offset","lets","osmAccessToken","_osmAccessToken","group","markers","marker","markerArray","osmLayer","L","tileLayer","attribution","maxZoom","accessToken","zoom","layers","markerClusterGroup","chunkedLoading","spiderfyOnMaxZoom","showCoverageOnHover","zoomToBoundsOnClick","bindPopup","addTo","addLayer","featureGroup","fitBounds","getBounds","fitWorld","reset","zoomIn","sgvizler","S","bordercloud","bordercloudNS","googleNS","d3NS","leaflet","S.Core","containerLoadAll","S.Container","loadAllDependencies","readOptions","googleApiKey","containerDraw","containerDrawAll","drawAll","selectDraw","S.Select","selectDrawAll","getChartDoc","className","create","jQuery","extend","selectchart","param","option","action","each","containerchart","detectRoot"],"mappings":"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"}